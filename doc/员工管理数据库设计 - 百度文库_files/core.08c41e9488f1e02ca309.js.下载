(window.webpackJsonp=window.webpackJsonp||[]).push([[1],Array(22).concat([function(t,e,o){"use strict";o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return r}));var n={FREE:"dialog:free",VIP_FREE:"dialog:vip_free",PROFESSIONAL:"dialog:professional",USE_TICKET:"dialog:use_ticket",VIP_TICKET:"dialog:vip_ticket",VIP_NO_TICKET:"dialog:vip_no_ticket",EXCHANGE_TICKET:"dialog:exchange_ticket",BUY_VIP:"dialog:buy_vip",PAY_DOC:"dialog:pay_doc",NOTVIP_TICKET:"dialog:notvip_ticket",DUMP_SUCCESS:"dialog:dump_success",DIALOG_NOPASS:"dialog:no_pass",ORG_VIP:"dialog:org_vip",DIALOG_SHEKE:"dialog:she_ke",DIALOG_DOWNLOAD_LIMIT:"dialog:download_limit"},i={GET_FILE:"download:get_file",DUMP_WP:"download:dump_wangpan"},r={PAY_DOC:"pay:pay_doc"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";o.d(e,"d",(function(){return l})),o.d(e,"e",(function(){return u})),o.d(e,"a",(function(){return p})),o.d(e,"c",(function(){return d})),o.d(e,"g",(function(){return f})),o.d(e,"b",(function(){return v})),o.d(e,"f",(function(){return h}));var n=o(4),i=o(22),r=o(17);function a(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach((function(e){c(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function c(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function l(t){for(var e in t=t&&JSON.parse(JSON.stringify(t)))if(Object.prototype.hasOwnProperty.call(t,e)){(n.$.isPlainObject(t[e])||Array.isArray(t[e]))&&(t[e]=l(t[e]));var o=e.replace(/_(\w)/g,(function(t,e){return e.toUpperCase()}));o!==e&&(t[o]=t[e],delete t[e])}return t}function u(t){Object(n.$)("body").css({height:t?"100%":"auto",overflow:t?"hidden":"visible"})}var p={checkPhone:function(t){return!!t&&/^1[0-9]{10}$/.test(t)},checkEmail:function(t){return!t||/^\w+@[a-z0-9]+\.[a-z]{2,4}$/.test(t)}};function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r.a.state.docInfo,o=e.docId,a=e.size,c=e.downloadToken,l=r.a.state.priceInfo.docTicket,u=r.a.state.wealthInfo.uticket,p=t.type,d=void 0===p?"":p,f=t.vInput,v=void 0===f?0:f,h=t.vCode,b=void 0===h?0:h,g=t.ds,m=void 0===g?0:g,y=t.tk,_=void 0===y?0:y,w=t.phone,O=void 0===w?"":w,C=t.email,P=void 0===C?"":C,j=d===i.a.EXCHANGE_TICKET?Math.max(l-u,0):0,I=[i.a.PROFESSIONAL,i.a.VIP_TICKET],x=+n._.includes(I,d),S=+(d===i.a.VIP_FREE);return s({useTicket:x,downloadToken:c,ct:20008,retType:"newResponse",sns_type:"",doc_id:o,storage:0,target_uticket_num:j,sz:a,v_code:b,v_input:v,ds:m,tk:_,req_vip_free_doc:S},O&&{phone:O,email:P})}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=["ct","doc_id","retType","sns_type","storage","downloadToken","useTicket","target_uticket_num","sz","v_code","req_vip_free_doc"];return e.every((function(e){return Object.prototype.hasOwnProperty.call(t,e)}))}function v(t){var e=t/=1024;return e>=1024?"".concat((e/1024).toFixed(1),"M"):"".concat(Math.ceil(e),"KB")}function h(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;e?(t.$mount(),o.appendChild(t.$el)):(t.$destroy(),o.removeChild(t.$el))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";var n=o(23),i=o.n(n),r=o(22),a=o(12),s=o(17),c=new i.a,l=function(t,e){var o=this,n=s.a.state.isLogin,i=s.a.state.docInfo,l=i.docType,u=i.isSecretDownloadable,p=s.a.state.userInfo.isCreater,d=s.a.state.userInfo.downloadLimit,f=s.a.getters["userInfo/limitedInfo"]||{},v=s.a.getters.creatorInfo||{},h=s.a.state.priceInfo,b=h.docTicket,g=h.ispaied,m=h.isDownloadable,y=s.a.getters.isSecret,_=function(){return!!n||(c.log(),!1)},w=function(){return!!_&&(1!=+d||(o.emit(r.a.DIALOG_DOWNLOAD_LIMIT),!1))},O={base:function(){return 1!=+f.isLock||!f.lockReasonDetail||(this.emit(r.a.DIALOG_NOPASS),!1)},download:function(){var t=s.a.getters.wkSmallflow,e=(null==t?void 0:t.testDataStr)&&JSON.parse(null==t?void 0:t.testDataStr)||{};if(!w())return!1;if(p||y&&+u&&n)return this.emit(r.b.GET_FILE),!1;if(!_||1==+(null==v?void 0:v.scienceOrg)&&1!=+(null==v?void 0:v.scienceRepeatSign)&&(n?(o.emit(r.a.DIALOG_SHEKE),1):(c.log(),1)))return!1;if(l===a.a.CASH){if(g)return this.emit(r.b.GET_FILE),!1;if(!m)return!1}if(!n){var i=1==+e.wk2860;if(l===a.a.TICKET&&(i=!1),l!==a.a.CASH&&!y||i)if(1!==l||0!==b||i){if(i)return!0;var d={from:this.getFrom()};this.emit(r.a.BUY_VIP,d)}else c.log((function(){localStorage&&localStorage.setItem("reloadAction","download"),location.reload()}),!0);else c.log();return!1}},dump:function(){return!!w()&&(p?(this.emit(r.b.DUMP_WP),!1):a.a.CASH!==l&&(n?void 0:(c.log((function(){localStorage&&localStorage.setItem("reloadAction","dump"),location.reload()}),!0),!1)))}};if(!O.base.call(this))return!1;if("function"==typeof O[e]&&!1===O[e].call(this))return!1;t()},u=o(7),p=o(189),d=o.n(p),f="/vcode",v="/user/interface/vcodefordownload",h="/user/submit/dumpdocbydownload",b="/user/submit/download",g="/gdoc/download/down",m="/orgvip/submit/download",y="/user/interface/getRepeatDown",_="/customer/interface/getuserdownloadticket",w="/ndcashier/api/fetchJiaoyuVipGoods",O="/ndcashier/api/fetchVouchers",C="/ndcashier/api/fetchvipqrpaycode",P="/ndcashier/api/checkvipqrpay",j="/pay/api/tradecheck",I="/orgvip/interface/caniuse";function x(t){return u.default.post(h,{data:d.a.param(t)})}var S,k=o(133),D=function(t,e){var o=this,n=s.a.state.docInfo.docId,i={download:r.b.GET_FILE,dump:r.b.DUMP_WP};return function(t){return u.default.post(y,d.a.param({atype:"getRepeatDown",doc_id:t})).then((function(t){var e=t.status,o=t.data;if(200===e)return o;throw new Error("downcheck error")}))}(n).then((function(n){if(200008===n?s.a.commit("userInfo/setNeedVcode",!0):s.a.commit("userInfo/setNeedVcode",!1),1===n||2===n){var r=i[e];return r&&o.emit(r),!1}t()})).catch((function(t){return Object(k.a)(t,"download-check"),!1}))},T=function(t){return u.default.post(_).then((function(t){var e,o=t.status,n=t.data;if(200===o&&0===(null==n||null===(e=n.status)||void 0===e?void 0:e.code)){var i=n.data||{},r=i.wealth,a=void 0===r?0:r,s=i.uticket,c=void 0===s?0:s,l=i.ticket,u=void 0===l?0:l,p=i.exchangeRate,d=void 0===p?0:p,f=i.pro_download_ticket;return{wealth:+a,uticket:c,ticket:u,exchangeRate:d,proDownloadTicket:void 0===f?0:f}}throw new Error("get Download Ticket failed")})).then((function(e){s.a.commit("setWealthInfo",e),t()})).catch((function(t){return Object(k.a)(t,"download-ticket"),!1}))},E=o(3);function V(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var R,A=(V(S={},a.a.TICKET,(function(){var t=s.a.state.wealthInfo,e=t.uticket,o=t.exchangeRate,n=t.wealth,i=t.ticket,a=t.proDownloadTicket;a=+a||0,i=+i||0;var c=s.a.state.orgVipInfo,l=c.code,u=c.eduai,p=s.a.state.docInfo.isVipFreeDoc,d=s.a.state.priceInfo.docTicket,f=s.a.state.vipInfo.isVip,v=[0,-1,99,99,99,99,3,99,1];if(v[13]=5,v[14]=6,v[15]=7,1===u||-1==+v[l]||99==+v[l]){var h=0!==o?Math.floor(n/o):0;if(0===d)return this.emit(r.a.FREE),void E.log.xsend(102277,{small:"new_read",isVip:!!f});if(f&&p)return this.emit(r.a.VIP_FREE),void E.log.xsend(102279,{small:"new_read",isVip:!0});if(e>=d)return this.emit(r.a.USE_TICKET),void E.log.xsend(p?102279:102278,{isVip:f,small:"new_read"});if(f&&i+a>0)return this.emit(r.a.VIP_TICKET),void E.log.xsend(p?102279:102278,{small:"new_read",isVip:!1});if(!f&&e+h>=d)return this.emit(r.a.EXCHANGE_TICKET),void E.log.xsend(p?102279:102278,{small:"new_read",isVip:!1});this.emit(r.a.NOTVIP_TICKET),E.log.xsend(102283,{isNewRead:!0,docType:0===d?"freedoc":p?"vipfree":"share"})}else this.emit(r.a.ORG_VIP)})),V(S,a.a.CASH,(function(){var t={docId:s.a.state.docInfo.docId,from:this.getFrom()};this.emit(r.c.PAY_DOC,t)})),V(S,a.a.VIP_RIGHT,(function(){var t=s.a.state.wealthInfo,e=t.proDownloadTicket,o=t.ticket;if((e=+e||0)+(o=+o||0)>0)return E.log.xsend(102280,{small:"new_read",isVip:!0}),void this.emit(r.a.PROFESSIONAL);var n={from:this.getFrom()};this.emit(r.a.BUY_VIP,n),E.log.xsend(102283,{isNewRead:!0,docType:"profession"})})),S);function L(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var N=(L(R={},a.a.TICKET,(function(){var t=s.a.state.docInfo.isVipFreeDoc,e=s.a.state.priceInfo.docTicket,o=s.a.state.wealthInfo,n=o.uticket,i=o.exchangeRate,a=o.wealth,c=o.ticket,l=o.proDownloadTicket,u=s.a.state.vipInfo.isVip,p=0!==i?Math.floor(a/i):0;if(l=+l||0,c=+c||0,0!==e)if(u&&t)this.emit(r.a.VIP_FREE);else if(n>=e)this.emit(r.a.USE_TICKET);else{if(u)return c+l>0?(this.emit(r.a.VIP_TICKET),!1):(this.emit(r.a.VIP_NO_TICKET),!1);if(!u&&n+p>=e)this.emit(r.a.EXCHANGE_TICKET);else{var d={from:this.getFrom()};this.emit(r.a.BUY_VIP,d)}}else this.emit(r.a.FREE)})),L(R,a.a.VIP_RIGHT,(function(){if(s.a.state.vipInfo.isVip)this.emit(r.a.PROFESSIONAL);else{var t={from:this.getFrom()};this.emit(r.a.BUY_VIP,t)}})),R),G=[l,D,T,function(t){var e,o=s.a.state.docInfo.docId;return(e={doc_id:o,dowmloadTime:(new Date).getTime()},u.default.post(I,d.a.param(e)).then((function(t){var e=t.data,o=e.status,n=e.data,i={};return void 0!==n.org_privilege_left&&(i.wealth=n.org_privilege_left||0),void 0!==n.doc_privilege_use_num&&(i.pay=n.doc_privilege_use_num||0),i.code=o.code,i.vipType=+n.vip_type,1==+n.is_repeat_user&&(i.code=4),i.orgName=decodeURIComponent(n.org_name)||"",i.isBDLosgin=n.isBDLosgin||!1,i.eduai=void 0===n.eduai?1:n.eduai,i}))).then((function(e){s.a.commit("setOrgVipInfo",e),t()})).catch((function(t){return!1}))},function(){var t=s.a.state.docInfo.docType;return"function"==typeof A[t]&&A[t].call(this),!1}],$=[l,D,T,function(){var t=s.a.state.docInfo.docType;return"function"==typeof N[t]&&N[t].call(this),!1}];function M(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var B=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={}}var e,o,n;return e=t,(o=[{key:"on",value:function(t,e){if("function"!=typeof e)throw new Error("invalid event handler");return this.events[t]?this.events[t].push(e):this.events[t]=[e],this}},{key:"once",value:function(t,e){var o=this;return this.on(t,(function n(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];e.apply(o,r),o.off(t,n)})),this}},{key:"emit",value:function(t){for(var e=this,o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];var r=this.events[t];return r&&Array.isArray(r)&&r.forEach((function(t){return"function"==typeof t&&t.apply(e,n)})),this}},{key:"off",value:function(t,e){var o=this.events[t];if(void 0===t||!o)throw new Error("invalid key");if("function"==typeof e){for(var n=0;n<o.length;n++)if(o[n]===e){o.splice(n,1);break}}else delete this.events[t];return this}}])&&M(e.prototype,o),n&&M(e,n),t}(),F=o(4),H=o(59),U=o(103);function z(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function W(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?z(Object(o),!0).forEach((function(e){K(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):z(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function K(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var q=function(t,e){if(!Object(H.g)(t.formData))throw new Error("参数校验失败");try{var o,n,i=t.url,r=void 0===i?t.isOrg?m:b:i,a=t.name,c=void 0===a?"downloadForm":a,l=t.formData,u=void 0===l?{}:l,p=s.a.state.dataFormatConvert,d=p.transDocType,f=p.oriDocType;if(d&&d!==f)return P=W(W({},u),{},{transDocType:d,dumpwp:e}),void F.$.ajax({url:b,type:"POST",data:P,dataType:"json",success:function(t){var e=t||{},o=e.error_no,n=void 0===o?0:o,i=e.transDocParams,r=void 0===i?{}:i;if(0===n){r.title=encodeURIComponent(r.title),r.tpl="download",r.wp=P.dumpwp?1:2;var a="_blank";navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")&&(a="_self");var s=document.createElement("form");for(var c in s.setAttribute("action","/user/browse/huixueconvert"),s.setAttribute("method","post"),s.setAttribute("target",a),r){var l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name",c),l.setAttribute("value",r[c]),s.appendChild(l)}Object(F.$)(s).appendTo(document.body).submit().remove()}else Y(t)},error:function(t){Y(t)}});var v=u.doc_id||"",h=e?1:2,y=s.a.getters,_=y.isSecret,w=y.wkSmallflow,O=y.shopInfo,C=(null==O?void 0:O.shop_id_str)||"";if(t.isOrg||"1"!==(null==w||null===(o=w.testData)||void 0===o||null===(n=o[40018])||void 0===n?void 0:n.isNewDown)&&"1"!==F.Util.Common.getParam("downloadByGo")||"0"===F.Util.Common.getParam("downloadByGo"))!function(t){var e=document.body;Object(F.$)(e).append('<iframe name="runDown" frameborder="0"></iframe>'),e.appendChild(t),t.submit(),e.removeChild(t),E.log.xsend(103125)}(function(t,e,o){var n=document.createElement("form");return n.setAttribute("name",o),n.setAttribute("action",e),n.setAttribute("method","post"),n.setAttribute("target","runDown"),Object.keys(t).forEach((function(e){var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",e),o.setAttribute("value",t[e]),n.appendChild(o)})),n}(u,r,c)),_||window.open("/browse/downloadrec?doc_id=".concat(v,"&wp=").concat(h,"&shop_id=").concat(C));else F.$.ajax({url:g,type:"POST",data:W(W({},u),{},{docId:v,targetUticketNum:u.target_uticket_num||0,reqVipFreeDoc:u.req_vip_free_doc||0}),dataType:"json",success:function(t){var e=(null==t?void 0:t.status)||{},o=e.code,n=e.msg;if(0===o){var i,r=(null==t||null===(i=t.data)||void 0===i?void 0:i.url)||"";if(!_){var a={doc_id:v,wp:h,shop_id:C},s=document.createElement("form");for(var c in s.setAttribute("action","/browse/downloadrec?doc_id="+v),s.setAttribute("method","get"),s.setAttribute("target","_blank"),a){var l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name",c),l.setAttribute("value",a[c]),s.appendChild(l)}Object(F.$)(s).appendTo(document.body).submit().remove()}E.log.xsend(103125,{index:"downloadByGo"}),window.location.href=r,setTimeout((function(){window.location.reload()}),500)}else Object(U.a)({content:n||"下载失败，请稍后重试",delay:2e3})},error:function(t){Object(U.a)({content:"下载失败，请稍后重试",delay:2e3}),Object(k.a)(t,"download-gorequest")}})}catch(t){Object(k.a)(t,"download-request")}var P};function Y(t){var e=t||{},o=e.transDocParams;if(o){2==+e.error_no&&{formatConvertExp:1},window.location.href=o.transDocBos}}var X=F._.debounce((function(t,e){Array.isArray(t)?t.forEach((function(t){return q(t,e)})):q(t,e)}),1500,{leading:!0}),J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dumpwp,o=void 0!==e&&e,n=t.isOrg;E.log.xsend(102742),s.a.dispatch("xsendQuery",{type:"download"}),X({formData:Object(H.c)(t),dumpwp:o,isOrg:n},o)},Z=o(25),Q=o.n(Z),tt=o(1),et=o(0);function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=ct(t);if(e){var i=ct(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return st(this,o)}}function st(t,e){return!e||"object"!==ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(r,t);var e,o,n,i=at(r);function r(){return nt(this,r),i.apply(this,arguments)}return e=r,(o=[{key:"hanldeClick",value:function(t){this.maskClosable&&this.$emit("mask-click",t)}}])&&it(e.prototype,o),n&&it(e,n),r}(et.Vue);Object(tt.a)([Object(et.Prop)({type:Boolean,default:!1})],lt.prototype,"maskClosable",void 0),Object(tt.a)([Object(et.Prop)({type:Number,default:5e3})],lt.prototype,"zIndex",void 0);var ut=lt=Object(tt.a)([et.Component],lt),pt=(o(611),o(5)),dt=Object(pt.default)(ut,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"ui-mask",style:{"z-index":this.zIndex},on:{click:this.hanldeClick}})}),[],!1,null,"7b895c16",null).exports;function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=mt(t);if(e){var i=mt(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return gt(this,o)}}function gt(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(o,t);var e=bt(o);function o(){return vt(this,o),e.apply(this,arguments)}return o}(et.Vue);Object(tt.a)([Object(et.Prop)(String)],yt.prototype,"type",void 0),Object(tt.a)([Object(et.Prop)(String)],yt.prototype,"content",void 0),Object(tt.a)([Object(et.Prop)({type:Number,default:1e3})],yt.prototype,"zIndex",void 0),Object(tt.a)([Object(et.Prop)({type:Boolean,default:!0})],yt.prototype,"mask",void 0);var _t,wt,Ot=yt=Object(tt.a)([Object(et.Component)({components:{UIMask:dt}})],yt),Ct=(o(612),Object(pt.default)(Ot,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ui-toast-wrap"},[t.mask?o("UIMask"):t._e(),t._v(" "),o("div",{staticClass:"ui-toast"},[t._t("icon",["loading"===t.type?o("i",{staticClass:"icon loading"}):t._e()]),t._v(" "),t._t("content",[o("div",{staticClass:"content",domProps:{textContent:t._s(t.content)}})])],2)],1)}),[],!1,null,"7f054126",null).exports);var Pt=function(t){var e=t.type,o=void 0===e?"":e,n=t.content,i=void 0===n?"":n,r=t.mask,a=void 0!==r&&r,s=t.delay,c=void 0===s?2e3:s,l=t.onHide,u=function(){_t&&("function"==typeof l&&l(),window.clearTimeout(wt),Object(H.f)(_t,!1),_t=null)};return _t||(_t=new Q.a({render:function(t){return t(Ct,{props:{type:o,mask:a,content:i}})}}),Object(H.f)(_t,!0),0!==c&&(wt=window.setTimeout((function(){u()}),Math.max(c,100)))),{close:u}},jt=o(196);function It(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function xt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?It(Object(o),!0).forEach((function(e){St(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):It(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function St(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var kt=o.n(jt).a.debounce((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.formData;if(!Object(H.g)(e))throw new Error("参数校验失败");return x(xt(xt({},e),{},{dump_doc:"bd_pan",dump_doc_src_type:110}))}),1500,{leading:!0}),Dt=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Pt({type:"loading",content:"正在转存，请稍后...",delay:0}),n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;o.close(),o=Pt({content:t,delay:e})};kt({formData:Object(H.c)(e)}).then((function(e){if(o.close(),200!==(null==e?void 0:e.status))throw new Error("net work error");var i,a;switch(null==e||null===(i=e.data)||void 0===i||null===(a=i.status)||void 0===a?void 0:a.code){case 0:o.close(),t.emit(r.a.DUMP_SUCCESS);break;case 5:n("今日转存次数达到上限，您可尝试下载");break;case 11:n("您的网盘存储空间已满，可尝试下载");break;case 10:case 100001:case 100002:n("转存出了点问题，再试一下");break;case 200008:n("账号异常，转存失败。您可尝试下载");break;default:n("转存失败，您可尝试下载")}})).catch((function(t){n("网络异常请稍后重试~")}))},Tt=[9,106,101,110],Et=[112,106,101,110],Vt={9:{goodsId:9,title:"年",description:"低至8.3元/月",ticketInfo:{num:"108次",name:"共享文档下载"},vipTicketInfo:{num:"65次",name:"VIP专享文档下载"},giveTwoTicket:"赠两种下载特权各8个",giveShareTicket:"赠共享文档下载特权12个",giveVipTicket:"赠VIP专享文档下载特权4个"},112:{goodsId:112,title:"年",description:"推荐",ticketInfo:{num:"108次",name:"共享文档下载"},vipTicketInfo:{num:"65次",name:"VIP专享文档下载"},giveTwoTicket:"赠两种下载特权各8个",giveShareTicket:"赠共享文档下载特权12个",giveVipTicket:"赠VIP专享文档下载特权4个"},1:{goodsId:1,title:"月",description:"豪华版",ticketInfo:{num:"20次",name:"共享文档下载"},vipTicketInfo:{num:"12次",name:"VIP专享文档下载"},giveTwoTicket:"赠两种下载特权各2个",giveShareTicket:"赠共享文档下载特权2个",giveVipTicket:"赠VIP专享文档下载特权2个"},200:{goodsId:200,title:"连续包月",description:"省心实惠",ticketInfo:{num:"15次/月",name:"共享文档下载"},vipTicketInfo:{num:"9次/月",name:"VIP专享文档下载"}},110:{goodsId:110,title:"连续包月",description:"省心实惠",ticketInfo:{num:"15次/月",name:"共享文档下载"},vipTicketInfo:{num:"9次/月",name:"VIP专享文档下载"}},3:{goodsId:3,title:"半年",description:"",ticketInfo:{num:"48次",name:"共享文档下载"},vipTicketInfo:{num:"30次",name:"VIP专享文档下载"},giveTwoTicket:"赠两种下载特权各6个",giveShareTicket:"赠共享文档下载特权9个",giveVipTicket:"赠VIP专享文档下载特权3个"},101:{goodsId:101,title:"月",description:"豪华版",ticketInfo:{num:"21次",name:"共享文档下载"},vipTicketInfo:{num:"12次",name:"VIP专享文档下载"},giveTwoTicket:"赠两种下载特权各2个",giveShareTicket:"赠共享文档下载特权2个",giveVipTicket:"赠VIP专享文档下载特权2个"},106:{goodsId:106,title:"半年",ticketInfo:{num:"54次",name:"共享文档下载"},vipTicketInfo:{num:"30次",name:"VIP专享文档下载"},giveTwoTicket:"赠两种下载特权各6个",giveShareTicket:"赠共享文档下载特权9个",giveVipTicket:"赠VIP专享文档下载特权3个"}};function Rt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function At(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(o),!0).forEach((function(e){Lt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Rt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Lt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Nt(){return u.wkAxios.get(w,{params:{ext_platform:"pc"}}).then((function(t){return t[1009]&&t[1010]?Et.reduce((function(e,o){return e.push(At(At({},Vt[o]),{},{data:Object(H.d)(t[o])})),e}),[]):Tt.reduce((function(e,o){var n=t[o]||{},i=n.renew_info,r=void 0===i?"":i,a=n.virtual_voucher,s=void 0===a?[]:a,c=n.sale_price,l=void 0===c?0:c,u=n.price,p=void 0===u?0:u;return e.push(At(At({},Vt[o]),{},{data:Object(H.d)(t[o]),renewInfo:r,virtualVoucher:Object(H.d)(s),salePrice:l,price:p})),e}),[])})).catch((function(t){}))}function Gt(t){return u.wkAxios.get(O,{params:t}).then((function(t){var e=t.voucher_info;for(var o in e=Object(H.d)(e||{}))Array.isArray(e[o])&&e[o].push({isSelected:0,validTime:"",voucherName:"不使用代金券",voucherPrice:0});return e}))}function $t(t){return u.wkAxios.get(C,{params:t}).then((function(t){return t&&t.qr_code||""}))}var Mt=o(15),Bt=function(t){var e=t.docId,o=t.from;(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return u.default.get(j,{params:{goods_type:e,goods_id:t}})})(e,1).then((function(t){var e=t.status,n=t.data;if(200===e){var i=null==n?void 0:n.status;if(0===i){var r=F.Util.Common.getParam("qid"),a=F.Util.Common.getParam("third_from"),c={sst:1},l="";r&&(c.qid=r,c.third_from=a||"zhidao"),s.a.state.ccSuffix&&(l+=s.a.state.ccSuffix,s.a.commit("setCcSuffix","")),E.log.xsend(102741,{pos:"pay",idx:1});var u=s.a.getters.wkSmallflow,p=(null==u?void 0:u.testDataStr)&&JSON.parse(null==u?void 0:u.testDataStr)||{};null!=p.wk2860&&(c.wk2860=p.wk2860);var d={location:"".concat(o,".downloadPay"),ext:l},f=Object(Mt.c)(Mt.a.DOC,d,c);return void(location.href=f)}if(1===i)return void Pt({content:"你已购买过此商品，请勿重复购买，刷新页面阅读本文",mask:!0,delay:3e3,onHide:function(){location.reload()}})}throw new Error})).catch((function(t){Pt({content:"下单遇到异常请稍后重试~",mask:!0,delay:1500,onHide:function(){}})}))},Ft=o(6),Ht=o(13),Ut=o(186);function zt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Wt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(o),!0).forEach((function(e){Kt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):zt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Kt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var qt={pdf:{targetFormats:["pdf","word","ppt","excel"],key:"1"},ppt:{targetFormats:["ppt","pdf"],key:"2"},word:{targetFormats:["word","pdf"],key:"3"},excel:{targetFormats:["excel","pdf"],key:"4"}},Yt={data:function(){return{map:qt,displayList:"none",oriTypeName:"",selectedTypeName:"",targetTypeName:"其他格式",changed:!1}},components:{DocTypeIcon:Ut.a},mounted:function(){var t=this.docInfo2019.doc_info.type,e=Ht.a.getDocType(t);if(qt[e]){this.selectedTypeName=e,this.oriTypeName=e;var o=qt[e].key;this.setDataFormatConvert({transDocType:0,oriDocType:o})}},destroyed:function(){this.setDataFormatConvert({transDocType:0})},computed:Wt(Wt(Wt({},Object(Ft.mapState)(["dataFormatConvert"])),Object(Ft.mapGetters)(["wkSmallflow","docInfo2019","vipInfo"])),{},{typeData:function(){var t=this.oriTypeName;return qt[t]||{}},typeSelected:function(){var t=this.selectedTypeName;return qt[t]?qt[t].key:""},visible:function(){var t=this.oriTypeName;return!(Object.keys(qt).indexOf(t)<0)&&+this.docInfo2019.doc_info.doc_type!==a.a.CASH}}),methods:Wt(Wt({},Object(Ft.mapMutations)(["setDataFormatConvert"])),{},{calTargetTypeName:function(){var t=this.oriTypeName,e=this.selectedTypeName;return"".concat(e,t===e?"格式（原）":"格式")},clickItem:function(t){this.displayList="none";var e=this.vipInfo.isVip,o=this.oriTypeName;if(!e&&o!==t){var n={location:"downloadDialog.convert",ext:"pcview_download_convert"};if(Object(Ht.h)(n,"open"))return!1;var i=Object(Mt.c)(Mt.a.VIP,n);return window.open(i),!1}if(qt[t]&&qt[t].key){var r=qt[t].key;this.setDataFormatConvert({transDocType:r,oriDocType:this.dataFormatConvert.oriDocType}),this.selectedTypeName=t,this.targetTypeName=this.calTargetTypeName(),this.changed=!0}},onmouseenter:function(){this.displayList="block"},onmouseleave:function(){this.displayList="none"}})},Xt=(o(614),Object(pt.default)(Yt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"format-convert-wrap"},[o("div",{class:["format-convert-content","list-"+t.displayList+"}"],on:{mouseenter:t.onmouseenter,mouseleave:t.onmouseleave}},[o("i",{staticClass:"vip-tag-icon"}),t._v(" "),o("div",{staticClass:"format-convert-text"},[o("i",{directives:[{name:"show",rawName:"v-show",value:!t.changed,expression:"!changed"}],staticClass:"icon-convert"}),t._v(" "),o("DocTypeIcon",{directives:[{name:"show",rawName:"v-show",value:t.changed,expression:"changed"}],staticStyle:{"margin-top":"5px"},attrs:{"type-name":t.selectedTypeName}}),t._v(" "),o("p",{staticClass:"target-type-name"},[t._v(t._s(t.targetTypeName))]),t._v(" "),o("i",{staticClass:"arrow"})],1),t._v(" "),o("div",{staticClass:"format-convert-list",style:"display: "+t.displayList+";"},t._l(t.typeData.targetFormats,(function(e){return o("div",{key:e,staticClass:"format-convert-item",on:{click:function(o){return t.clickItem(e)}}},[o("DocTypeIcon",{staticStyle:{"margin-top":"5px"},attrs:{"type-name":e}}),t._v(" "),o("p",[t._v("\n                    "+t._s(e===t.oriTypeName?e+"格式（原）":e+"格式")+"\n                ")])],1)})),0)])]):t._e()}),[],!1,null,"e7cdea2e",null).exports);function Jt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Zt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Qt=new i.a,te={filters:{formatSize:H.b},components:{Convert:Xt},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(o),!0).forEach((function(e){Zt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Jt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(Ft.mapState)(["isLogin","userInfo","vipInfo","docInfo"])),props:{theme:{type:String,default:"doc"}},methods:{handleLogin:function(){this.handleClose(),Qt.log((function(){localStorage&&localStorage.setItem("reloadAction","download"),location.reload()}),!0)},handleClose:function(){this.$emit("close-dialog")}}},ee=(o(615),Object(pt.default)(te,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"header",class:t.theme},[o("div",{staticClass:"header-content"},[1===t.docInfo.docType?[o("div",{staticClass:"doc-title-wrap"},[o("span",{staticClass:"doc-title"},[t._v(t._s(t.docInfo.title))]),t._v(" "),o("span",{staticClass:"doc-size"},[t._v("("+t._s(t._f("formatSize")(t.docInfo.size))+")")])])]:t.isLogin?[o("img",{staticClass:"avatar",attrs:{src:t.userInfo.headicon}}),t._v(" "),o("div",{staticClass:"uname"},[t._v(t._s(t.userInfo.displayname||"文库新人"))]),t._v(" "),o("div",{staticClass:"vip-info"},[t.vipInfo.isVip?[t.vipInfo.isJiaoyuVip?o("i",{staticClass:"icon"}):t._e(),t._v(" "),t.vipInfo.isClassicVip?o("i",{staticClass:"icon classic"}):t._e()]:[o("i",{staticClass:"icon not-vip"})]],2)]:[o("div",{staticClass:"avatar login"}),t._v(" "),o("div",{staticClass:"uname pointer",on:{click:t.handleLogin}},[t._v("点击登录")])],t._v(" "),o("Convert")],2),t._v(" "),"vip"===t.theme?o("div",{staticClass:"vip-privilege"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)]):t._e(),t._v(" "),o("div",{staticClass:"btn-close",on:{click:t.handleClose}})])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"item"},[e("i",{staticClass:"icon ic-doc"}),this._v(" "),e("span",{staticClass:"text"},[this._v("文档下载特权")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"item"},[e("i",{staticClass:"icon ic-free"}),this._v(" "),e("span",{staticClass:"text"},[this._v("百万免费文档")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"item"},[e("i",{staticClass:"icon ic-yd"}),this._v(" "),e("span",{staticClass:"text"},[this._v("阅读精品图书")])])}],!1,null,"f1965c32",null).exports);function oe(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function ne(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(o),!0).forEach((function(e){ie(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):oe(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function ie(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var re=new i.a,ae={props:{from:String},components:{DocTypeIcon:Ut.a},filters:{formatMoney:Ht.c},computed:ne(ne(ne({},Object(Ft.mapState)(["userInfo","docInfo","vipInfo","wealthInfo","priceInfo","isLogin"])),Object(Ft.mapState)("priceInfo",["confirmPriceShow","vipPriceShow"])),{},{price:function(){var t=this.vipInfo.isVip,e=this.vipPriceShow,o=this.confirmPriceShow;return t?e:o},vipTip:function(){var t=this.priceInfo,e=t.isDiscountDoc,o=t.isPackage;if(!this.vipInfo.isVip){if(o)return"¥".concat(this.price," 开通VIP免费赠送本文");if(e)return"¥".concat(this.price," 开通VIP本文享8折优惠")}return""}}),methods:{handleLogin:function(){this.handleClose(),re.log((function(){localStorage&&localStorage.setItem("reloadAction","download"),location.reload()}),!0)},handleClose:function(){this.$emit("close-dialog")},clickVipPackageCashier:function(){E.log.xsend(102741,{pos:"vipDocInfo",idx:1});var t={location:"".concat(this.from,".vipDocInfo")},e=Object(Mt.c)(Mt.a.PRIVILEGE,t);window.open(e)}}},se=(o(616),Object(pt.default)(ae,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"doc-info"},[o("div",{staticClass:"doc-main"},[o("DocTypeIcon",{attrs:{"type-name":t.docInfo.typeName}}),t._v(" "),o("div",{staticClass:"title"},[t._v(t._s(t.docInfo.title))]),t._v(" "),2===t.docInfo.docType?o("div",{staticClass:"detail"},[t.vipTip?[o("div",{staticClass:"text"},[t._v(t._s(t.vipTip))])]:[o("span",{staticClass:"text"},[t._v("¥"+t._s(t.price))]),t._v(" "),o("span",{staticClass:"text"},[t._v("购买文档")])]],2):3===t.docInfo.docType?o("div",{staticClass:"detail"},[t.vipInfo.isVip?[t._v("\n                本文需要"),o("em",{staticClass:"vip"},[t._v("1个VIP文档下载特权")]),t._v(" "),t.isLogin?[t._v("\n                    当前拥有"),o("em",{staticClass:"vip"},[t._v(t._s(t.wealthInfo.proDownloadTicket))]),t._v("续费VIP获得文档特权\n                ")]:[o("span",{staticClass:"login",on:{click:t.handleLogin}},[t._v("登录")]),t._v("后查看文档特权\n                ")]]:[t._v("\n                本文需要"),o("em",{staticClass:"vip"},[t._v("1个VIP文档下载特权")]),t._v(" "),t.isLogin?[t._v(" 开通VIP获得文档特权")]:[o("span",{staticClass:"login",on:{click:t.handleLogin}},[t._v("登录")]),t._v("后查看文档特权\n                ")]]],2):o("div",{staticClass:"detail"},[t.vipInfo.isVip?[t._v("\n                本文需要"),o("em",{staticClass:"vip"},[t._v("1共享文档特权")]),t._v(" "),t.isLogin?[t._v("\n                    当前拥有"),o("em",{staticClass:"vip"},[t._v(t._s(t.wealthInfo.ticket))]),t._v("续费VIP获得文档特权\n                ")]:[o("span",{staticClass:"login",on:{click:t.handleLogin}},[t._v("登录")]),t._v("后查看下载券\n                ")]]:[t._v("\n                本文需要"),o("em",[t._v(t._s(t.priceInfo.docTicket)+"下载券")]),t._v(" "),t.isLogin?[t._v("\n                    当前拥有"),o("em",[t._v(t._s(t.wealthInfo.uticket))]),t._v("开通VIP获得文档特权\n                ")]:[o("span",{staticClass:"login",on:{click:t.handleLogin}},[t._v("登录")]),t._v("后查看下载券\n                ")]]],2)],1),t._v(" "),t.vipInfo.isVip?o("span",{staticClass:"vip-package",on:{click:t.clickVipPackageCashier}},[t._v("\n        单独补充特权\n    ")]):t._e()])}),[],!1,null,"a2981416",null).exports);function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ue(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pe(t,e){return(pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function de(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=ve(t);if(e){var i=ve(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return fe(this,o)}}function fe(t,e){return!e||"object"!==ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var he=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pe(t,e)}(r,t);var e,o,n,i=de(r);function r(){return le(this,r),i.apply(this,arguments)}return e=r,(o=[{key:"toggleActive",value:function(t){this.$emit("change",t)}}])&&ue(e.prototype,o),n&&ue(e,n),r}(et.Vue);Object(tt.a)([Object(et.Prop)({type:Array,default:[]})],he.prototype,"tabList",void 0),Object(tt.a)([Object(et.Prop)({type:Boolean,default:0})],he.prototype,"activeIndex",void 0);var be=he=Object(tt.a)([et.Component],he),ge=(o(617),Object(pt.default)(be,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tabs"},[o("div",{staticClass:"tab-bar"},t._l(t.tabList,(function(e,n){return o("div",{key:e+"_"+n,staticClass:"tab-item",class:{active:t.activeIndex===n},on:{click:function(e){return t.toggleActive(n)}}},[t._v("\n            "+t._s(e)+"\n        ")])})),0),t._v(" "),o("div",{staticClass:"tab-content"},[t._t("default")],2)])}),[],!1,null,"3e9254a2",null).exports);function me(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function ye(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var _e={computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?me(Object(o),!0).forEach((function(e){ye(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):me(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(Ft.mapState)(["vipInfo","goodInfo"])),methods:{hasTip:function(){var t=this.vipInfo,e=t.isVip,o=t.isRenewal;return!(!e||o||110===this.goodInfo.goodsId)}}},we=(o(618),Object(pt.default)(_e,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.hasTip?o("div",{staticClass:"renewal-tip"},[t.vipInfo.isJiaoyuVip?[t.goodInfo.renewInfo?[o("i",{staticClass:"icon icon-xf"}),t._v(t._s(t.goodInfo.renewInfo)+"\n        ")]:t._e()]:t._e()],2):t._e()}),[],!1,null,"86d06304",null).exports);function Oe(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Ce(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(o),!0).forEach((function(e){Pe(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Oe(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Pe(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var je={data:function(){return{activeId:"1735_ext-3m"}},filters:{formatMoney:Ht.c},computed:Ce(Ce(Ce(Ce({},Object(Ft.mapState)(["isLogin","docInfo","priceInfo","vipInfo"])),Object(Ft.mapState)("goodInfo",["goodList","curGoodId"])),Object(Ft.mapGetters)("goodInfo",["curGood","voucherList"])),{},{labelList:function(){var t=this,e=this.goodList,o=this.priceInfo.isPackage,n=this.vipInfo.userType,i={9:"推荐",101:"尊享版",112:"推荐"};return e.reduce((function(e,r){var a=r.goodsId,s=r.data.vipAct,c="";110!==a||o?c=i[a]||"":1===n?c="新客福利":2===n&&(c="专享福利");var l=t.activeId;return 9==+a&&s&&-1!==s.indexOf(l)&&(c="超值加赠3个月"),e.push(c),e}),[])}}),methods:{handleSelect:function(t){var e=this,o=t.goodsId;o!==this.curGoodId&&Gt({goodsType:"jiaoyu_vip"}).then((function(t){e.$store.commit("goodInfo/setVoucherInfo",t);var n=e.docInfo.docType,i=e.priceInfo.isPackage,r=2===n&&i,a=1===e.vipInfo.userType||2===e.vipInfo.userType;if(e.$store.commit("goodInfo/setCurGoodId",o),r||110!==e.curGoodId||!a)Array.isArray(e.voucherList)&&e.voucherList.length?e.$store.commit("goodInfo/setCurVoucher",e.voucherList[0]):e.$store.commit("goodInfo/setCurVoucher",{});else{var s=e.curGood.virtualVoucher||{};e.$store.commit("goodInfo/setCurVoucher",s)}}))},getPrice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.docInfo.docType,o=this.vipInfo.userType,n=this.priceInfo.isPackage,i=t.salePrice,r=t.virtualVoucher;if(!(2===e&&n||1!==o&&2!==o)){var a=r&&r.voucherPrice||0;return i-a}return i},showOriginalPrice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.goodsId,o=this.vipInfo.userType;return o=this.isLogin?o:1,110!==e||!!o},getDescription:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.showOriginalPrice(t)?"¥".concat(Object(Ht.c)(t.price)):"省心实惠"},isVipAct:function(t){var e=this.activeId;return t.data.vipAct&&-1!==t.data.vipAct.indexOf(e)}}},Ie=(o(619),Object(pt.default)(je,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"select-area"},t._l(t.goodList,(function(e,n){return o("div",{key:e.goodsId,staticClass:"goods-item",class:{active:e.goodsId===t.curGood.goodsId,"vipact-year":t.isVipAct(e)},on:{click:function(o){return t.handleSelect(e)}}},[t.labelList[n]?o("div",{staticClass:"label"},[t._v("\n            "+t._s(t.labelList[n])+"\n        ")]):t._e(),t._v(" "),o("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),o("div",{staticClass:"price-info"},[o("span",{staticClass:"price"},[o("span",{staticClass:"money"},[t._v("¥")]),t._v(t._s(t._f("formatMoney")(t.getPrice(e)))+"\n            ")]),t._v(" "),o("span",{staticClass:"description",class:{line:t.showOriginalPrice(e)}},[t._v("\n                "+t._s(t.getDescription(e))+"\n            ")])]),t._v(" "),o("div",{staticClass:"divider"}),t._v(" "),o("div",{staticClass:"tip"},[t.isVipAct(e)?o("span",{staticClass:"num"},[t._v("75次")]):o("span",{staticClass:"num"},[t._v(t._s(e.vipTicketInfo.num))]),t._v(" "),o("span",{staticClass:"name"},[t._v(t._s(e.vipTicketInfo.name))])]),t._v(" "),o("div",{staticClass:"tip"},[t.isVipAct(e)?o("span",{staticClass:"num"},[t._v("124次")]):o("span",{staticClass:"num"},[t._v(t._s(e.ticketInfo.num))]),t._v(" "),o("span",{staticClass:"name"},[t._v(t._s(e.ticketInfo.name))])])])})),0)}),[],!1,null,"bea13fb8",null).exports);function xe(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Se(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(o),!0).forEach((function(e){ke(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):xe(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function ke(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var De={computed:Se(Se({},Object(Ft.mapState)("goodInfo",["curGoodId","autoRenewal"])),{},{hasRenewal:function(){return 110!==this.curGoodId}}),methods:{toggleRenewal:function(){this.$store.commit("goodInfo/setRenewal",!this.autoRenewal)}}},Te=(o(620),Object(pt.default)(De,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"renewal-area"},[this.hasRenewal?[e("span",{staticClass:"contract-check",class:{checked:this.autoRenewal},on:{click:this.toggleRenewal}}),this._v("\n        开通自动续费，续费成功后剩余特权延时30天，可随时取消，阅读"),e("a",{attrs:{href:"https://wenku.baidu.com/portal/browse/help#help/25",target:"_blank"}},[this._v("自动续费协议")])]:this._e()],2)}),[],!1,null,"53e5d7b3",null).exports);function Ee(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Ve(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(o),!0).forEach((function(e){Re(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Ee(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Re(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Ae={computed:Ve(Ve(Ve({},Object(Ft.mapState)(["priceInfo","vipInfo"])),Object(Ft.mapState)("goodInfo",["curGoodId"])),{},{hasTip:function(){return 110===this.curGoodId},isXk:function(){return 1===this.vipInfo.userType},isSale:function(){return 2===this.vipInfo.userType},newUser:function(){var t=this.vipInfo.userType;return 1===t||2===t},title:function(){return 1===this.vipInfo.userType?"新客":"专享优惠"}})},Le=(o(621),Object(pt.default)(Ae,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.hasTip?o("div",{staticClass:"new-user-tip"},[t.newUser?[o("i",{staticClass:"icon",class:{"icon-xk":t.isXk,"icon-sale":t.isSale}}),t._v(" "),o("em",[t._v(t._s(t.title))]),t._v("首月仅"),o("em",[t._v("14.9元")]),t._v("，会员到期前1天自动扣款续费16.9元，可随时取消，阅读"),o("a",{attrs:{href:"https://wenku.baidu.com/portal/browse/help#help/25",target:"_blank"}},[t._v("自动续费协议")])]:[t._v("\n        会员到期前1天自动扣款续费16.9元，期间特权不清零，可随时取消，阅读"),o("a",{attrs:{href:"https://wenku.baidu.com/portal/browse/help#help/25",target:"_blank"}},[t._v("自动续费协议")])]],2):t._e()}),[],!1,null,"78b58fc0",null).exports);function Ne(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Ge(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(o),!0).forEach((function(e){$e(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Ne(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function $e(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Me={filters:{formatMoney:Ht.c},data:function(){return{showVoucher:!1}},computed:Ge(Ge(Ge(Ge({},Object(Ft.mapState)(["priceInfo","docInfo"])),Object(Ft.mapState)("goodInfo",["curVoucher"])),Object(Ft.mapGetters)("goodInfo",["voucherList"])),{},{hasVoucher:function(){var t=this.docInfo.docType,e=this.priceInfo.isPackage,o=this.voucherList;return!(2===t&&e)&&Array.isArray(o)&&o.length>0}}),methods:{toggleVoucher:function(t){this.showVoucher=t},selectVoucher:function(t){this.$store.commit("goodInfo/setCurVoucher",t),this.toggleVoucher(!1)}}},Be=(o(622),Object(pt.default)(Me,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.hasVoucher?o("div",{staticClass:"voucher-area clearfix"},[o("div",{staticClass:"label"},[t._v("优惠卡券：")]),t._v(" "),o("div",{staticClass:"select",class:{selecting:t.showVoucher},on:{mouseover:function(e){return t.toggleVoucher(!0)},mouseout:function(e){return t.toggleVoucher(!1)}}},[o("div",{staticClass:"voucher-selected"},[t._v("\n            "+t._s(t._f("formatMoney")(t.curVoucher.voucherPrice))+"元"+t._s(t.curVoucher.voucherName)+"\n            "),t.curVoucher.validTime?[t._v("\n                (有效期至"+t._s(t.curVoucher.validTime)+")\n            ")]:t._e()],2),t._v(" "),o("ul",{staticClass:"voucher-list"},t._l(t.voucherList,(function(e){return o("li",{key:e.voucherId,staticClass:"voucher-item",on:{click:function(o){return t.selectVoucher(e)}}},[t._v("\n                "+t._s(t._f("formatMoney")(e.voucherPrice))+"元"+t._s(e.voucherName)+"\n                "),e.validTime?[t._v("\n                    (有效期至"+t._s(e.validTime)+")\n                ")]:t._e()],2)})),0)])]):t._e()}),[],!1,null,"eed29bc4",null).exports),Fe=o(69),He=o.n(Fe),Ue={props:{curSelect:Number},data:function(){return{channelList:[{name:"wechat",title:"微信"},{name:"alipay",title:"支付宝"},{name:"duxiaoman",title:"度小满"}]}},methods:{handleChange:function(t){this.$emit("change",t)}}},ze=(o(623),Object(pt.default)(Ue,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"channel-list"},[o("p",{staticClass:"channel-list-tips"},[t._v("支付方式：")]),t._v(" "),t._l(t.channelList,(function(e,n){return o("div",{key:e.name,staticClass:"channel-item",class:{selected:t.curSelect===n},on:{click:function(e){return t.handleChange(n)}}},[o("i",{staticClass:"channel-icon",class:"icon-"+e.name}),t._v(" "),o("span",{staticClass:"title"},[t._v(t._s(e.title)+"支付")])])}))],2)}),[],!1,null,"6fdd226a",null).exports);function We(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Ke(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?We(Object(o),!0).forEach((function(e){qe(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):We(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function qe(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Ye=new i.a,Xe={components:{PaySelect:ze},filters:{formatMoney:Ht.c},props:{from:String,payMoney:Number,type:{type:String,default:"doc"}},data:function(){return{curChannel:0,loading:!1,reload:!1,retry:0,timer:null}},computed:Ke(Ke(Ke(Ke(Ke({},Object(Ft.mapState)(["isLogin","vipInfo","priceInfo","docInfo"])),Object(Ft.mapState)("goodInfo",["curGoodId","autoRenewal","curVoucher"])),Object(Ft.mapGetters)(["wkSmallflow"])),Object(Ft.mapGetters)("goodInfo",["curGood"])),{},{channel:function(){return{0:"微信APP",1:"支付宝APP",2:"度小满/百度APP"}[this.curChannel]},showSaveMoney:function(){return this.saveMoney>0},showOriginalPrice:function(){var t=this.vipInfo.isVip,e=this.priceInfo.isDiscountDoc;return t&&e&&"doc"===this.type},payTip:function(){return this.showOriginalPrice?"VIP8折优惠":"支付金额:"},saveMoney:function(){var t=this.curGood;return"doc"===this.type?0:Object(Ht.c)(t.price-this.payMoney)||0},payInfo:function(){return{voucherId:this.curVoucher.voucherId,curGoodId:this.curGoodId,autoRenewal:this.autoRenewal,payMoney:this.payMoney}}}),beforeDestroy:function(){this.reset()},mounted:function(){this.initPay()},watch:{payInfo:{handler:function(){this.initPay()},deep:!0}},methods:Ke(Ke({},Object(Ft.mapMutations)(["setLogin"])),{},{initPay:function(){this.isLogin&&0!==this.payMoney&&this.fetchPayInfo()},fetchPayInfo:function(){"doc"===this.type&&this.fetchPayDoc(),"vip"===this.type&&this.fetchPayVip()},fetchPayVip:function(){var t=this,e=this.docInfo,o=e.docType,n=e.docId,i=this.priceInfo.isPackage,r="ViewVipCashier_".concat(o,"_new"),a={location:this.from+".payArea",ext:r},s={goods_type:3,goods_id:this.curGoodId,price:this.payMoney,cashier_code:Object(Mt.b)(Mt.a.VIP,a),voucher_id:this.curVoucher.voucherId||"",auth_pay:110===this.curGoodId?1:+this.autoRenewal,platform:"pc",test_id:this.wkSmallflow.testId};i&&(s.doc_id=n),this.loading=!0,$t(s).then((function(e){if(t.reset(),!e)return t.loading=!1,void t.showReload();t.initQrCode("https://wenku.baidu.com/qv/".concat(e),e)})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))},fetchPayDoc:function(){var t=this,e=this.docInfo,o=e.docType,n=e.docId,i="ViewVipCashier_".concat(o,"_new"),r={location:this.from+".payArea",ext:i},a={action:"fufeidoc",goods_type:1,goods_id:n,price:this.payMoney,voucher_id:"",cashier_code:Object(Mt.b)(Mt.a.DOC,r),platform:"pc",test_id:this.wkSmallflow.testId};this.loading=!0,$t(a).then((function(e){t.reset(),e?t.initQrCode("https://wenku.baidu.com/qr/".concat(e),e):t.showReload()})).catch((function(t){})).finally((function(){t.loading=!1}))},handleChannelChange:function(t){this.curChannel=t},reset:function(){clearInterval(this.timer),this.timer=null,this.retry=0,Object(F.$)("#qr-code").empty()},initQrCode:function(t,e){var o=this;new He.a(Object(F.$)("#qr-code")[0],{text:t,width:110,height:110});this.timer=window.setInterval((function(){o.retry++<120?o.queryPayStatus(e):o.showReload()}),5e3)},handleQrClick:function(){this.isLogin?this.reload&&(this.reload=!1,this.fetchPayInfo()):this.handleLogin()},handleLogin:function(){this.handleClose(),Ye.log((function(){localStorage&&localStorage.setItem("reloadAction","download"),location.reload()}),!0)},showReload:function(){this.reset(),this.reload=!0},handleClose:function(){this.$emit("close-dialog")},queryPayStatus:function(t){var e=this;(function(t){return u.default.get(P,{params:{code:t}})})(t).then((function(t){if(200===(null==t?void 0:t.status)){var o=(null==t?void 0:t.data)||{},n=o.status,i=o.data;2003===(null==n?void 0:n.code)&&(e.reset(),e.setLogin(!1)),1===(null==i?void 0:i.status)&&(localStorage.setItem("reloadAction","download"),location.reload())}})).catch((function(t){e.showReload()}))}})},Je=(o(624),Object(pt.default)(Xe,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pay-wrap"},[o("PaySelect",{attrs:{"cur-select":t.curChannel},on:{change:t.handleChannelChange}}),t._v(" "),o("div",{staticClass:"pay-area"},[o("div",{staticClass:"pay-main"},[o("div",{staticClass:"qr-code-wrap"},[t.loading?o("div",{staticClass:"loading"},[o("div",{staticClass:"circle"}),t._v(" "),o("div",{staticClass:"text"},[t._v("加载中")])]):t._e(),t._v(" "),o("div",{staticClass:"qr-code",class:{login:!t.isLogin,reload:t.reload},attrs:{id:"qr-code"},on:{click:t.handleQrClick}}),t._v(" "),o("div",{staticClass:"corner lt"}),t._v(" "),o("div",{staticClass:"corner rt"}),t._v(" "),o("div",{staticClass:"corner lb"}),t._v(" "),o("div",{staticClass:"corner rb"})]),t._v(" "),o("div",{staticClass:"pay-info"},[o("div",{staticClass:"pay-label"},[t._v(t._s(t.payTip))]),t._v(" "),o("div",{staticClass:"price"},[o("span",{staticClass:"label"},[t._v("¥")]),o("span",{staticClass:"money"},[t._v(t._s(t._f("formatMoney")(t.payMoney)))]),t._v(" "),t.showSaveMoney?o("span",{staticClass:"save-money"},[t._v("已优惠"+t._s(t.saveMoney)+"元！")]):t._e()]),t._v(" "),o("div",{staticClass:"tips-wrap"},[o("p",{staticClass:"channel-selected-desc"},[t._v("使用"+t._s(t.channel)+"扫码完成支付")])])])])])],1)}),[],!1,null,"36526f7c",null).exports);function Ze(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var o=[],n=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Qe(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Qe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function to(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function eo(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?to(Object(o),!0).forEach((function(e){oo(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):to(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function oo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var no={props:{from:{type:String,default:""}},filters:{formatMoney:Ht.c},components:{Tabs:ge,RenewalTip:we,SelectArea:Ie,RenewalArea:Te,NewUserTip:Le,VoucherArea:Be,PayArea:Je},data:function(){return{activeIndex:0}},computed:eo(eo(eo({},Object(Ft.mapState)(["vipInfo","priceInfo","docInfo"])),Object(Ft.mapGetters)("goodInfo",["curGoodId","curGood","voucherList","vipPrice","docPrice"])),{},{hasTab:function(){return this.tabList.length>0},tabList:function(){var t=this.vipInfo.isVip,e=this.priceInfo,o=e.isPackage,n=e.isDiscountDoc;if(!t){if(o)return["开通VIP赠送本文","原价购买本文"];if(n)return["开通VIP本文享8折","原价购买本文"]}return[]}}),mounted:function(){this.fetchGoodInfo()},methods:{fetchGoodInfo:function(){var t=this;Promise.all([Nt(),Gt({goodsType:"jiaoyu_vip"})]).then((function(e){var o=Ze(e,2),n=o[0],i=o[1];t.$store.commit("goodInfo/setGoodList",n),t.$store.commit("goodInfo/setVoucherInfo",i);var r=t.docInfo.docType,a=t.priceInfo.isPackage,s=2===r&&a,c=1===t.vipInfo.userType||2===t.vipInfo.userType;if(s||110!==t.curGoodId||!c)Array.isArray(t.voucherList)&&t.voucherList.length&&t.$store.commit("goodInfo/setCurVoucher",t.voucherList[0]);else{var l=t.curGood.virtualVoucher||{};t.$store.commit("goodInfo/setCurVoucher",l)}}))},toggleTab:function(t){this.activeIndex=t},closeDialog:function(){this.$emit("close-dialog")}}},io=(o(625),Object(pt.default)(no,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Tabs",{attrs:{"active-index":t.activeIndex,tabList:t.tabList},on:{change:t.toggleTab}},[0===t.activeIndex?[o("RenewalTip"),t._v(" "),o("SelectArea"),t._v(" "),o("RenewalArea"),t._v(" "),o("NewUserTip"),t._v(" "),o("VoucherArea"),t._v(" "),o("PayArea",{attrs:{type:"vip",payMoney:t.vipPrice},on:{"close-dialog":t.closeDialog}})]:1===t.activeIndex?o("div",{staticClass:"pay-doc"},[o("div",{staticClass:"pay-wrap"},[o("PayArea",{attrs:{type:"doc",payMoney:t.docPrice,from:t.from+".payContent"},on:{"close-dialog":t.closeDialog}})],1)]):t._e()],2)}),[],!1,null,"1925d63b",null).exports);function ro(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var o=[],n=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ao(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ao(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function so(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function co(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?so(Object(o),!0).forEach((function(e){lo(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):so(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function lo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var uo={props:{from:{type:String,default:""}},computed:co(co(co({},Object(Ft.mapState)(["vipInfo","priceInfo","docInfo"])),Object(Ft.mapState)("goodInfo",["curGoodId"])),Object(Ft.mapGetters)("goodInfo",["curGood","voucherList","vipPrice"])),filters:{formatMoney:Ht.c},components:{RenewalTip:we,SelectArea:Ie,RenewalArea:Te,NewUserTip:Le,VoucherArea:Be,PayArea:Je},mounted:function(){this.fetchGoodInfo()},methods:{fetchGoodInfo:function(){var t=this;Promise.all([Nt(),Gt({goodsType:"jiaoyu_vip"})]).then((function(e){var o=ro(e,2),n=o[0],i=o[1];t.$store.commit("goodInfo/setGoodList",n),t.$store.commit("goodInfo/setVoucherInfo",i);var r=t.docInfo.docType,a=t.priceInfo.isPackage,s=2===r&&a,c=1===t.vipInfo.userType||2===t.vipInfo.userType;if(s||110!==t.curGoodId||!c)Array.isArray(t.voucherList)&&t.voucherList.length&&t.$store.commit("goodInfo/setCurVoucher",t.voucherList[0]);else{var l=t.curGood.virtualVoucher||{};t.$store.commit("goodInfo/setCurVoucher",l)}}))},closeDialog:function(){this.$emit("close-dialog")}}},po={components:{"ui-mask":dt,"ui-header":ee,VipDocInfo:se,PayContent:io,VipContent:Object(pt.default)(uo,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vip-dialog"},[o("RenewalTip"),t._v(" "),o("SelectArea"),t._v(" "),o("RenewalArea"),t._v(" "),o("NewUserTip"),t._v(" "),o("VoucherArea"),t._v(" "),o("PayArea",{attrs:{type:"vip",payMoney:t.vipPrice,from:t.from+".vipContent"},on:{"close-dialog":t.closeDialog}})],1)}),[],!1,null,null,null).exports},props:{download:Object,type:String},computed:{payDialog:function(){return this.type===r.a.PAY_DOC},vipDialog:function(){return this.type===r.a.BUY_VIP},compFrom:function(){var t=this.download.getFrom();return"".concat(t,".payDialog")}},methods:{handleClose:function(){document.body.removeChild(this.$el),this.$destroy(),Object(H.e)(!1)}}},fo=(o(626),Object(pt.default)(po,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pay-dialog-wrap"},[o("ui-mask"),t._v(" "),o("div",{staticClass:"pay-dialog"},[o("ui-header",{attrs:{theme:"vip"},on:{"close-dialog":t.handleClose}}),t._v(" "),o("div",{staticClass:"main"},[o("VipDocInfo",{attrs:{from:t.compFrom},on:{"close-dialog":t.handleClose}}),t._v(" "),t.payDialog?o("PayContent",{attrs:{from:t.compFrom},on:{"close-dialog":t.handleClose}}):t.vipDialog?o("VipContent",{attrs:{from:t.compFrom},on:{"close-dialog":t.handleClose}}):t._e()],1)],1)],1)}),[],!1,null,"74c1694a",null).exports);function vo(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function ho(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?vo(Object(o),!0).forEach((function(e){bo(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):vo(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function bo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var go={filters:{formatSize:H.b},props:{type:String,smallFlow:Boolean,mes:Array,orgStatus:Number},data:function(){return{DIALOG:r.a,mesData:this.mes}},computed:ho(ho(ho({},Object(Ft.mapState)(["docInfo","priceInfo","wealthInfo","orgVipInfo"])),Object(Ft.mapGetters)(["totalDownloadTicket"])),{},{orgDetail:function(){var t,e;return 1==+this.orgStatus?"账号持有下载特权：".concat(this.orgVipInfo.wealth||0,"，无法完成本次下载"):(null===(t=this.mesData)||void 0===t||null===(e=t[status])||void 0===e?void 0:e[0])||""}})},mo=(o(627),Object(pt.default)(go,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:["main-download",t.type===t.DIALOG.PROFESSIONAL?"prodoc-main-download":""]},[t.type===t.DIALOG.ORG_VIP?o("div",[o("div",{staticClass:"doc-content"},[o("div",{staticClass:"doc-main"},[o("div",{staticClass:"title"},[t._v("您正在使用的合作机构账号："+t._s(t.orgVipInfo.orgName))]),t._v(" "),o("div",{staticClass:"detail align-center"},[o("span",[t._v(t._s(t.orgDetail))])])])])]):t.type===t.DIALOG.PROFESSIONAL?o("div",{staticClass:"doc-content"},[o("img",{staticClass:"poster",attrs:{src:t.docInfo.coverUrl||t.docInfo.cover_url}}),t._v(" "),o("div",{staticClass:"doc-main"},[o("div",{staticClass:"title"},[t._v(t._s(t.docInfo.title))]),t._v(" "),o("div",{staticClass:"detail"},[o("span",{staticClass:"doc-size"},[t._v(t._s(t._f("formatSize")(t.docInfo.size)))]),t._v(" "),o("span",[t._v("\n                    本文需要"),o("em",{staticClass:"vip"},[t._v("1个VIP文档下载特权")]),t._v("\n                    当前拥有"),o("em",{staticClass:"vip"},[t._v(t._s(t.totalDownloadTicket))])])])])]):o("div",{staticClass:"ticket-doc-download"},[t.type===t.DIALOG.EXCHANGE_TICKET?[o("p",{staticClass:"ticket-info"},[t._v("所需下载券："+t._s(t.priceInfo.docTicket))])]:t.type===t.DIALOG.FREE?[o("p",{staticClass:"ticket-info"},[t._v("所需下载券：0")])]:t.type===t.DIALOG.VIP_TICKET?[o("p",{staticClass:"ticket-info"},[t._v("您的VIP文档下载特权剩余： "+t._s(t.totalDownloadTicket)+"次")])]:t.type===t.DIALOG.VIP_FREE?[o("p",{staticClass:"ticket-info"},[t._v("本文为VIP限时免费文档，您可直接下载不消耗特权")])]:t.type===t.DIALOG.USE_TICKET?[o("p",{staticClass:"ticket-info"},[t._v("所需下载券："+t._s(t.priceInfo.docTicket))]),t._v(" "),o("p",{staticClass:"ticket-info"},[t._v("您持有：\n                "),o("span",{staticClass:"col-red"},[t._v(t._s(t.wealthInfo.uticket||0))]),t._v("下载券\n            ")])]:t.type===t.DIALOG.NOTVIP_TICKET?[o("p",{staticClass:"ticket-info"},[t._v("所需下载券："+t._s(t.priceInfo.docTicket))]),t._v(" "),o("p",{staticClass:"ticket-info"},[t._v("您持有：\n                "),o("span",{staticClass:"col-red"},[t._v(t._s(t.wealthInfo.uticket||0))]),t._v("\n                下载券，积分不足，无法兑换下载券\n            ")])]:t._e()],2)])}),[],!1,null,"bfac920a",null).exports);function yo(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function _o(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?yo(Object(o),!0).forEach((function(e){wo(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):yo(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function wo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Oo,Co={props:{type:String},computed:_o(_o({},Object(Ft.mapState)(["wealthInfo","docInfo","priceInfo","vipInfo"])),{},{tip:function(){var t=this.type,e=this.docInfo,o=e.docType,n=e.isVipFreeDoc,i=(e.professionalDoc,this.priceInfo.docTicket),s=this.vipInfo,c=s.leftDay,l=void 0===c?0:c,u=s.isVip,p=s.isRenewal,d=this.wealthInfo,f=d.ticket,v=d.proDownloadTicket,h=this.ticketDocSubType;if(u){if(p)return"";if("TICKET_ZERO"===h||"TICKET_VIP_FREE"===h)return"续费VIP，下载特权随心用！";if(l<7&&(i>0||o===a.a.VIP_RIGHYT)){if(f>1&&v>1)return"续费VIP，下载特权延时30天";if(f<=1&&v>1)return"续费VIP，赠12共享文档下载特权";if(f>1&&v<=1)return"续费VIP，赠4VIP专享文档下载特权";if(f<=1&&v<=1)return"续费VIP，赠16文档下载特权"}return""}return t===r.a.NOTVIP_TICKET||o===a.a.TICKET?"加入VIP，下载特权随心用！":t===r.a.USE_TICKET||t===r.a.EXCHANGE_TICKET?n?"开通VIP免费下载":"开通VIP免券下载":"开通VIP享更多优质内容"}}),methods:{handleClick:function(){var t=this.type,e=this.docInfo.docType,o={location:"footer",ext:"download_xf"};if(t!==r.a.NOTVIP_TICKET&&e!==a.a.TICKET){if(!Object(Ht.h)(o)){var n=Object(Mt.c)(Mt.a.VIP,o);window.location.href=n}}else{if(Object(Ht.h)(o,"open"))return;o.ext="download_pop_tips_newpage";var i=Object(Mt.c)(Mt.a.VIP,o);window.open(i)}}}},Po=(o(628),Object(pt.default)(Co,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer-2019",class:{"has-tip":t.tip}},[t.tip?o("a",{staticClass:"vip-link",on:{click:t.handleClick}},[t._v(t._s(t.tip))]):t._e(),t._v(" "),t._m(0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tips"},[e("i",{staticClass:"ic-help"}),this._v("\n        文档售卖收入归内容提供方所有，文库提供技术服务\n    ")])}],!1,null,"1e6a6cbe",null).exports);function jo(){return u.default.get(f,{params:{t:+new Date}})}function Io(t,e){return u.default.post(v,d.a.param({m:"check",v_code:t,v_input:e}))}function xo(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function So(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?xo(Object(o),!0).forEach((function(e){ko(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):xo(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function ko(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}!function(t){t[t.INIT=-1]="INIT",t[t.ERROR=0]="ERROR",t[t.SUCCESS=1]="SUCCESS"}(Oo||(Oo={}));var Do=new i.a,To=[r.a.VIP_TICKET,r.a.PROFESSIONAL,r.a.VIP_FREE],Eo={components:{"ui-mask":dt,"ui-header":ee,DocInfo:mo,"ui-footer":Po},props:{download:Object,type:String},computed:So(So(So(So(So(So({},Object(Ft.mapState)(["wealthInfo","userInfo","priceInfo","orgVipInfo"])),Object(Ft.mapState)("docInfo",["isVipFreeDoc","docType"])),Object(Ft.mapGetters)("docInfo",["ticketNeed","wealthNeed"])),Object(Ft.mapGetters)(["wkSmallflow","isVip","docInfo2019"])),Object(Ft.mapState)(["eventBus"])),{},{ticketDocSubType:function(){var t=this.priceInfo;return this.isVipFreeDoc?"TICKET_VIP_FREE":0===t.docTicket?"TICKET_ZERO":"TICKET"},btnClass:function(){var t=this.ticketDocSubType,e=this.type,o=this.isVip,n=["btn"];return e===r.a.EXCHANGE_TICKET&&n.push("lg"),To.indexOf(e)>-1&&o&&n.push("vip"),e===r.a.NOTVIP_TICKET&&"TICKET_VIP_FREE"===t&&n.push("vip"),n.join(" ")},btnText:function(){var t=this.type,e=this.ticketDocSubType,o=this.isVip;if(t===r.a.ORG_VIP)return this.mes[this.orgStatus][1];if(t===r.a.EXCHANGE_TICKET)return"兑换并下载";if(t===r.a.VIP_FREE)return o?"立即下载":"VIP免费下载";if(t===r.a.NOTVIP_TICKET){if("TICKET_VIP_FREE"===e)return"VIP免费下载";if("TICKET"===e)return o?"补充VIP特权":"VIP免下载券下载"}return t===r.a.VIP_TICKET?o?"使用下载特权下载":"VIP免下载券下载":"立即下载"},hasVerifyCode:function(){return this.userInfo.needVcode},isShowWp:function(){return+this.docType!==a.a.CASH},orgStatus:function(){var t=[0,-1,99,99,99,99,3,99,1];return t[13]=5,t[14]=6,t[15]=7,+t[this.orgVipInfo.code]},isOrg:function(){return-1===[1,3,5,7,99].indexOf(this.orgStatus)},isVipDown:function(){return To.indexOf(this.type)>-1&&this.isVip}}),data:function(){return{DIALOG:r.a,dumpWangPan:!1,vInput:"",vCode:"",vImgUrl:"",verified:Oo.INIT,actionUrl:{userUrl:"/user/submit/download",vipUrl:"/orgvip/submit/download"},mes:[["","立即下载"],["","切换至个人账号下载"],[],["本账号今日下载总量已超出最大次数限制，请明天再试","切换至个人账号下载"],["系统错误，请在页面刷新后重新下载","确定"],["当前下载用户太多，请10分钟之后再来","切换至个人账号下载"],["当前下载用户过多，请休息一下，明天再来","切换至个人账号下载"],["当前网络IP今日下载总量已超出最大次数限制，请明日再试","切换至个人账号下载"]],isIpLogin:!0}},watch:{vInput:function(t){var e=this,o=t.trim();4===o.length?Io(this.vCode,this.vInput).then((function(t){var o=t.status,n=t.data;200===o&&(0===n.errno?e.verified=Oo.SUCCESS:e.verified=Oo.ERROR)})):0===o.length&&(this.verified=Oo.INIT)}},mounted:function(){this.dumpWangPan=!!this.isVip,this.hasVerifyCode&&this.fetchVcodeImg(),this.isVipDown&&E.log.xsend(102943,{type:"show",index:"tkSuccess"}),this.eventBus.on("downloadDialogClose",this.handleClose)},methods:{clickWp:function(){if(this.isVip);else{var t={location:"download.wp",ext:"ReaderDownloadTransWangpan"};if(Object(Ht.h)(t,"open"))return;var e=Object(Mt.c)(Mt.a.VIP,t);window.open(e)}},downloadLog:function(){this.type===r.a.EXCHANGE_TICKET&&E.log.xsend(100194,{isVip:this.isVip,iswp:this.dumpWangPan?1:0}),E.log.xsend(100036,{iswp:this.dumpWangPan?1:0})},handleDownLoad:function(){var t=this.isVip,e=this.type,o=this.ticketDocSubType,n=this.isIpLogin,i=this.orgStatus,a=this.orgVipInfo.isBDLosgin,s=void 0!==a&&a;if(e===r.a.ORG_VIP)return 6===i?void this.handleClose():this.isOrg||t||"TICKET_ZERO"===o?void(n?s?this.executeDownload():Do.log():this.executeDownload()):void window.open("/ndbusiness/browse/wenkuvipcashier");if(e===r.a.NOTVIP_TICKET){var c="",l={location:"download.download"};if(Object(Ht.h)(l,"open"))return;return"TICKET"===o?t?(l.ext="xfvip_ticket_newpage",c=Object(Mt.c)(Mt.a.PRIVILEGE,l)):(l.ext="31_8_13_15_newpage",c=Object(Mt.c)(Mt.a.VIP,l)):("TICKET_VIP_FREE"!==o||t||(l.ext="new_vip_freedoc_style_newpage"),c=Object(Mt.c)(Mt.a.VIP,l)),void window.open(c)}if(this.hasVerifyCode){if(this.verified!==Oo.SUCCESS)return this.verified=Oo.ERROR,void E.log.xsend(102373,{result:2,type:"img"});E.log.xsend(102373,{result:1,type:"img"})}this.isVipDown&&E.log.xsend(102943,{type:"click",index:"tkSuccess"}),this.executeDownload()},executeDownload:function(){var t,e,o;this.downloadLog(),this.download.emit(r.b.GET_FILE,{type:this.type,dumpwp:this.dumpWangPan,vInput:this.vInput,vCode:this.vCode,isOrg:this.isOrg}),(this.isOrg||"1"!==(null===(t=this.wkSmallflow)||void 0===t||null===(e=t.testData)||void 0===e||null===(o=e[40018])||void 0===o?void 0:o.isNewDown)&&"1"!==F.Util.Common.getParam("downloadByGo")||"0"===F.Util.Common.getParam("downloadByGo"))&&this.handleClose()},handleClose:function(){document.body.removeChild(this.$el),this.$destroy(),Object(H.e)(!1)},fetchVcodeImg:function(){var t=this;jo().then((function(e){var o=e.status,n=e.data;if(200===o)return t.vImgUrl=n.imgurl,void(t.vCode=n.vcode_str);throw new Error("fetchVcodeImg failed")}))}}},Vo=(o(629),Object(pt.default)(Eo,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"download-dialog-wrap"},[o("ui-mask"),t._v(" "),o("div",{staticClass:"download-dialog"},[o("ui-header",{on:{"close-dialog":t.handleClose}}),t._v(" "),t.isVipDown?o("div",{staticClass:"doc-vip-show"},[o("span",{staticClass:"vip-icon"}),t._v("尊贵的文库VIP，您即将享受VIP下载特权\n        ")]):t._e(),t._v(" "),o("DocInfo",{attrs:{type:t.type,mes:t.mes,"org-status":t.orgStatus}}),t._v(" "),t.type===t.DIALOG.EXCHANGE_TICKET?o("div",{staticClass:"exchange-area"},[o("span",{staticClass:"block"},[t._v("\n                您持有："),o("em",[t._v(t._s(t.wealthInfo.uticket||0))]),t._v("下载券\n            ")]),t._v(" "),o("span",{staticClass:"block"},[t._v("\n                (可用"+t._s(t.wealthNeed)+"积分兑换"+t._s(t.ticketNeed)+"下载券)\n            ")])]):t._e(),t._v(" "),o("div",{staticClass:"operate-area"},[o("div",{class:t.btnClass,on:{click:t.handleDownLoad}},[t._v(t._s(t.btnText))]),t._v(" "),t.isShowWp?o("div",{staticClass:"wp-select"},[o("label",{attrs:{for:"wpUpload"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.dumpWangPan,expression:"dumpWangPan"}],attrs:{type:"checkbox",id:"wpUpload",name:"wpUpload"},domProps:{checked:Array.isArray(t.dumpWangPan)?t._i(t.dumpWangPan,null)>-1:t.dumpWangPan},on:{click:t.clickWp,change:function(e){var o=t.dumpWangPan,n=e.target,i=!!n.checked;if(Array.isArray(o)){var r=t._i(o,null);n.checked?r<0&&(t.dumpWangPan=o.concat([null])):r>-1&&(t.dumpWangPan=o.slice(0,r).concat(o.slice(r+1)))}else t.dumpWangPan=i}}}),t._v(" "),o("span",[t._v("同时转存至百度网盘")]),t._v(" "),o("span",{staticClass:"vip-tag-icon"})])]):t._e(),t._v(" "),t.hasVerifyCode?o("div",{staticClass:"vcode-box"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.vInput,expression:"vInput"}],staticClass:"vcode-ipt",attrs:{type:"text"},domProps:{value:t.vInput},on:{input:function(e){e.target.composing||(t.vInput=e.target.value)}}}),t._v(" "),o("img",{class:{show:t.vImgUrl},attrs:{src:t.vImgUrl}}),t._v(" "),1===t.verified?o("i",{staticClass:"vcode-success"}):o("span",{staticClass:"vcode-change",on:{click:t.fetchVcodeImg}},[t._v("换一换")]),t._v(" "),0===t.verified?o("p",{staticClass:"error-tip"},[o("i",{staticClass:"vcode-error"}),t._v(" "),o("span",[t._v("请输入正确的验证码！")])]):t._e()]):t._e()]),t._v(" "),o("ui-footer")],1)],1)}),[],!1,null,"6a23ad0f",null).exports);function Ro(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Ao(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ro(Object(o),!0).forEach((function(e){Lo(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Ro(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Lo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var No={props:{type:String,download:Object},data:function(){return{DIALOG:r.a,vCode:"",vInput:"",vImgUrl:"",verified:Oo.INIT,mes:[]}},components:{"ui-mask":dt,"ui-footer":Po,DocInfo:mo},computed:Ao(Ao(Ao(Ao({},Object(Ft.mapState)(["wealthInfo","priceInfo","userInfo","docInfo","vipInfo"])),Object(Ft.mapGetters)("docInfo",["ticketNeed","wealthNeed"])),Object(Ft.mapGetters)(["totalDownloadTicket"])),{},{dumpSuccess:function(){return this.type===r.a.DUMP_SUCCESS},canDump:function(){var t=[r.a.FREE,r.a.VIP_FREE,r.a.USE_TICKET,r.a.VIP_TICKET,r.a.EXCHANGE_TICKET,r.a.PROFESSIONAL];return F._.includes(t,this.type)},hasVerifyCode:function(){return this.userInfo.needVcode}}),watch:{vInput:function(t){var e=this,o=t.trim();4===o.length?Io(this.vCode,this.vInput).then((function(t){var o=t.status,n=t.data;200===o&&(0===n.errno?e.verified=Oo.SUCCESS:e.verified=Oo.ERROR)})):0===o.length&&(this.verified=Oo.INIT)}},mounted:function(){this.canDump&&this.hasVerifyCode&&this.fetchVcodeImg()},methods:{fetchVcodeImg:function(){var t=this;jo().then((function(e){var o=e.status,n=e.data;if(200===o)return t.vImgUrl=n.imgurl,void(t.vCode=n.vcode_str);throw new Error("fetchVcodeImg failed")}))},handlePayTicket:function(){this.closeDialog(),E.log.xsend(102741,{pos:"dump",idx:1});var t=Object(Mt.c)(Mt.a.PRIVILEGE,{location:"download.dump"});window.open(t)},handleCashier:function(){var t={location:"download.dump",ext:"dump_xf"};if(!Object(Ht.h)(t)){var e=Object(Mt.c)(Mt.a.VIP,t);window.location.href=e}},handleDump:function(){this.type===r.a.PROFESSIONAL&&this.totalDownloadTicket<1?Object(U.a)({content:"当前特权不足，无法转存"}):this.hasVerifyCode&&this.verified!==Oo.SUCCESS?this.verified=Oo.ERROR:(this.download.emit(r.b.DUMP_WP,{type:this.type,vCode:this.vCode,vInput:this.vInput}),this.closeDialog())},closeDialog:function(){document.body.removeChild(this.$el),this.$destroy(),Object(H.e)(!1)},jumpWangpan:function(){this.closeDialog(),window.open("https://pan.baidu.com/disk/home")}}},Go=(o(630),Object(pt.default)(No,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"dump-dialog-wrap"},[o("ui-mask"),t._v(" "),o("div",{staticClass:"dump-dialog"},[t.type!==t.DIALOG.PROFESSIONAL||t.dumpSuccess?o("div",{staticClass:"header header-content"},[o("div",{staticClass:"title"},[t._v("转存到百度网盘")]),t._v(" "),o("div",{staticClass:"btn-close",on:{click:t.closeDialog}})]):o("div",{staticClass:"header header-pro-content"},[o("img",{staticClass:"avatar",attrs:{src:t.userInfo.headicon}}),t._v(" "),o("div",{staticClass:"uname"},[t._v(t._s(t.userInfo.displayname||"文库新人"))]),t._v(" "),o("div",{staticClass:"vip-info"},[t.vipInfo.isJiaoyuVip?o("i",{staticClass:"icon"}):t._e(),t._v(" "),t.vipInfo.isClassicVip?o("i",{staticClass:"icon classic"}):t._e()]),t._v(" "),o("div",{staticClass:"btn-close",on:{click:t.closeDialog}})]),t._v(" "),t.dumpSuccess?o("div",[t._m(0),t._v(" "),o("div",{staticClass:"operate-area"},[o("div",{staticClass:"btn",on:{click:t.jumpWangpan}},[t._v("去百度网盘查看")])])]):o("div",[t.type===t.DIALOG.PROFESSIONAL?[t._m(1),t._v(" "),o("DocInfo",{attrs:{type:t.type,mes:t.mes}})]:[o("div",{staticClass:"main"},[t.type===t.DIALOG.VIP_FREE?[o("div",{staticClass:"vipfree"},[t._v("本文为文库VIP免费文档")])]:t.type===t.DIALOG.VIP_TICKET?[t._m(2),t._v(" "),o("div",{staticClass:"ticket"},[t._v("\n                                持有："),o("em",[t._v(t._s(t.totalDownloadTicket))]),t._v(" VIP文档下载特权\n                            ")])]:[o("div",{staticClass:"ticket"},[t._v("\n                                所需："),o("em",[t._v(t._s(t.priceInfo.docTicket))]),t._v("下载券\n                            ")]),t._v(" "),o("div",{staticClass:"ticket"},[t._v("\n                                持有："),o("em",[t._v(t._s(t.wealthInfo.uticket))]),t._v("下载券\n                            ")]),t._v(" "),t.type===t.DIALOG.EXCHANGE_TICKET?o("div",{staticClass:"exchange"},[t._v("\n                                使用"+t._s(t.wealthNeed)+"积分兑换"+t._s(t.ticketNeed)+"下载券\n                            ")]):t._e()]],2)],t._v(" "),o("div",{staticClass:"operate-area"},[t.canDump?[o("div",{staticClass:"btn",class:{"pro-btn":t.type===t.DIALOG.PROFESSIONAL},on:{click:t.handleDump}},[t._v("立即转存")]),t._v(" "),t.hasVerifyCode?o("div",{staticClass:"vcode-box"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.vInput,expression:"vInput"}],staticClass:"vcode-ipt",attrs:{type:"text"},domProps:{value:t.vInput},on:{input:function(e){e.target.composing||(t.vInput=e.target.value)}}}),t._v(" "),o("img",{class:{show:t.vImgUrl},attrs:{src:t.vImgUrl}}),t._v(" "),1===t.verified?o("i",{staticClass:"vcode-success"}):o("span",{staticClass:"vcode-change",on:{click:t.fetchVcodeImg}},[t._v("换一换")]),t._v(" "),0===t.verified?o("p",{staticClass:"error-tip"},[o("i",{staticClass:"vcode-error"}),t._v(" "),o("span",[t._v("请输入正确的验证码！")])]):t._e()]):t._e()]:t.type===t.DIALOG.PROFESSIONAL?o("div",{staticClass:"btn pro-btn",on:{click:t.handleDump}},[t._v("立即转存")]):t.type===t.DIALOG.VIP_NO_TICKET?o("div",{staticClass:"btn",on:{click:t.handlePayTicket}},[t._v("补充下载特权")]):o("div",{staticClass:"btn",on:{click:t.handleCashier}},[t._v("VIP免券转存")]),t._v(" "),o("div",{staticClass:"tip"},[t._v("转存后可永久免费下载")])],2)],2),t._v(" "),t.dumpSuccess?t._e():o("ui-footer")],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("div",{staticClass:"title"},[this._v("已转存到百度网盘")]),this._v(" "),e("div",{staticClass:"tip"},[this._v("存储在百度网盘>来自：百度文库")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"doc-vip-show"},[e("span",{staticClass:"vip-icon"}),this._v("尊贵的文库VIP，您即将享受VIP下载特权\n                    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ticket"},[this._v("\n                                所需："),e("em",[this._v("1")]),this._v(" VIP文档下载特权\n                            ")])}],!1,null,"1d39de18",null).exports);function $o(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Mo(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?$o(Object(o),!0).forEach((function(e){Bo(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):$o(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Bo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Fo={props:{type:String,download:Object},data:function(){return{vCode:"",vInput:"",vImgUrl:""}},components:{"ui-mask":dt},computed:Mo(Mo({},Object(Ft.mapGetters)("userInfo",["limitedInfo"])),{},{limtedDes:function(){var t;return(null===(t=this.limitedInfo)||void 0===t?void 0:t.lockReasonDetail)||"账号被封禁"}}),methods:{closeDialog:function(){document.body.removeChild(this.$el),this.$destroy(),Object(H.e)(!1)}}},Ho=(o(631),Object(pt.default)(Fo,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"limited-dialog-wrap"},[o("ui-mask"),t._v(" "),o("div",{staticClass:"limited-dialog"},[o("div",{staticClass:"header"},[o("div",{staticClass:"title"},[t._v("账号已封禁")]),t._v(" "),o("div",{staticClass:"btn-close",on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}})]),t._v(" "),o("div",{staticClass:"main"},[[o("p",[t._v(t._s(t.limtedDes))])]],2),t._v(" "),o("div",{staticClass:"operate-area"},[o("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[t._v("确定")])])])],1)}),[],!1,null,"4fbfcbb8",null).exports);function Uo(t){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wo(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ko(t,e){return(Ko=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Xo(t);if(e){var i=Xo(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Yo(this,o)}}function Yo(t,e){return!e||"object"!==Uo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xo(t){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ko(t,e)}(a,t);var e,o,n,i=qo(a);function a(){var t;return zo(this,a),(t=i.apply(this,arguments)).phone="",t.email="",t.phoneCheck=!0,t.emailCheck=!0,t}return e=a,(o=[{key:"closeDialog",value:function(){document.body.removeChild(this.$el),this.$destroy(),Object(H.e)(!1)}},{key:"formCheck",value:function(){return this.phoneCheck=H.a.checkPhone(this.phone),this.emailCheck=H.a.checkEmail(this.email),this.phoneCheck&&this.emailCheck}},{key:"handleClick",value:function(){this.formCheck()&&(this.download.emit(r.b.GET_FILE,{phone:this.phone,email:this.email}),this.closeDialog())}}])&&Wo(e.prototype,o),n&&Wo(e,n),a}(et.Vue);Object(tt.a)([Object(et.Prop)()],Jo.prototype,"type",void 0),Object(tt.a)([Object(et.Prop)()],Jo.prototype,"download",void 0);var Zo=Jo=Object(tt.a)([Object(et.Component)({components:{"ui-mask":dt}})],Jo),Qo=(o(632),Object(pt.default)(Zo,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"limited-dialog-wrap"},[o("ui-mask"),t._v(" "),o("div",{staticClass:"limited-dialog"},[o("div",{staticClass:"header"},[o("div",{staticClass:"title"},[t._v("百度账号授权")]),t._v(" "),o("div",{staticClass:"btn-close",on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}})]),t._v(" "),o("div",{staticClass:"main"},[o("div",{staticClass:"main-title"},[t._v("\n                授权登录\n            ")]),t._v(" "),o("div",{staticClass:"main-des"},[t._v("\n                【国家哲学社会科学院文献中心】免费下载该文档资源\n            ")]),t._v(" "),o("div",{class:{"input-line":!0,error:!t.phoneCheck}},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{placeholder:"请输入手机号码（必填）",type:"text"},domProps:{value:t.phone},on:{change:t.formCheck,input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),t.phoneCheck?t._e():o("span",{staticClass:"error-info"},[t._v("输入错误")])]),t._v(" "),o("div",{class:{"input-line":!0,error:!t.emailCheck}},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{placeholder:"请输入邮箱地址",type:"text"},domProps:{value:t.email},on:{change:t.formCheck,input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),t.emailCheck?t._e():o("span",{staticClass:"error-info"},[t._v("输入错误")])]),t._v(" "),o("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[t._v("确认授权并下载")]),t._v(" "),o("div",{staticClass:"main-tip"},[t._v("允许【国家哲学社会科学院文献中心】获取以上信息及文库账号为您开通文献访问权限")])])])],1)}),[],!1,null,"5c4b0d82",null).exports),tn={props:{type:String,download:Object},components:{"ui-mask":dt},methods:{closeDialog:function(){document.body.removeChild(this.$el),this.$destroy(),Object(H.e)(!1)}}},en=(o(633),Object(pt.default)(tn,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"limited-dialog-wrap"},[o("ui-mask"),t._v(" "),o("div",{staticClass:"limited-dialog"},[o("div",{staticClass:"header"},[o("div",{staticClass:"title"},[t._v("提示")]),t._v(" "),o("div",{staticClass:"btn-close",on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}})]),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"operate-area"},[o("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.closeDialog(e)}}},[t._v("确定")])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("p",[this._v("您的操作过于频繁，请明天再来下载~")])])}],!1,null,"789291f0",null).exports);function on(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var nn,rn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.download=e,this.bindEvent()}var e,o,n;return e=t,(o=[{key:"bindEvent",value:function(){var t=this;F._.values(r.a).forEach((function(e){t.download.on(e,t.createDialog.bind(t,e))}))}},{key:"createDialog",value:function(t){var e,o=this,n=this.download.task,i=[r.a.BUY_VIP,r.a.PAY_DOC],a=[r.a.FREE,r.a.VIP_FREE,r.a.PROFESSIONAL,r.a.USE_TICKET,r.a.VIP_TICKET,r.a.EXCHANGE_TICKET,r.a.VIP_NO_TICKET,r.a.NOTVIP_TICKET,r.a.ORG_VIP],c=[].concat(a,[r.a.DUMP_SUCCESS]),l=[r.a.DIALOG_NOPASS],u=[r.a.DIALOG_SHEKE],p=[r.a.DIALOG_DOWNLOAD_LIMIT];if(F._.includes(i,t)?e=new Q.a({store:s.a,render:function(e){return e(fo,{props:{type:t,download:o.download}})}}):"download"===n&&F._.includes(a,t)?e=new Q.a({store:s.a,render:function(e){return e(Vo,{props:{type:t,download:o.download}})}}):"dump"===n&&F._.includes(c,t)?e=new Q.a({store:s.a,render:function(e){return e(Go,{props:{type:t,download:o.download}})}}):F._.includes(l,t)?e=new Q.a({store:s.a,render:function(e){return e(Ho,{props:{type:t}})}}):F._.includes(u,t)?e=new Q.a({store:s.a,render:function(e){return e(Qo,{props:{type:t,download:o.download}})}}):F._.includes(p,t)&&(e=new Q.a({store:s.a,render:function(e){return e(en,{props:{type:t,download:o.download}})}})),!e)throw new Error("弹窗初始化失败");Object(H.f)(e,!0),Object(H.e)(!0)}}])&&on(e.prototype,o),n&&on(e,n),t}();function an(t){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sn(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cn(t,e){return(cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=dn(t);if(e){var i=dn(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return un(this,o)}}function un(t,e){return!e||"object"!==an(e)&&"function"!=typeof e?pn(t):e}function pn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dn(t){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t){t.WAITING="waiting",t.RUNNING="running"}(nn||(nn={}));var fn,vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cn(t,e)}(a,t);var e,o,n,i=ln(a);function a(){var t,e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).status=nn.WAITING,t.taskMap={},t.from="",t.bindEvent(),t.reloadAction(),t.registerTask("download",G),t.registerTask("dump",$),e=pn(t),new rn(e),t}return e=a,(o=[{key:"bindEvent",value:function(){this.on(r.b.GET_FILE,J).on(r.b.DUMP_WP,Dt.bind(this)).on(r.c.PAY_DOC,Bt)}},{key:"getFrom",value:function(){return this.from}},{key:"run",value:function(t){var e=this;if(this.status===nn.WAITING){this.task=t;try{this.status=nn.RUNNING;var o=0;!function n(){var i,r,a=null==e||null===(i=e.taskMap)||void 0===i||null===(r=i[t])||void 0===r?void 0:r[o++];if(a){var s=a.call(e,n,t);s instanceof Promise?s.then((function(t){!1===t&&(e.status=nn.WAITING)})).catch((function(t){e.status=nn.WAITING,Object(k.a)(t,"download-core")})):!1===s&&(e.status=nn.WAITING)}else e.status=nn.WAITING}()}catch(t){this.status=nn.WAITING,Object(k.a)(t,"download-core")}}}},{key:"use",value:function(t,e){if("function"!=typeof e)throw new Error("invalid task");this.taskMap[t]?this.taskMap[t].push(e):this.taskMap[t]=[e]}},{key:"download",value:function(t){this.from=(null==t?void 0:t.from)||"",this.run("download")}},{key:"dump",value:function(t){this.from=(null==t?void 0:t.from)||"",this.run("dump")}},{key:"limitDialog",value:function(){this.emit(r.a.DIALOG_NOPASS)}},{key:"sheKeDialog",value:function(){this.emit(r.a.DIALOG_SHEKE)}},{key:"registerTask",value:function(t,e){var o=this;e.forEach((function(e){o.use(t,e)}))}},{key:"reloadAction",value:function(){try{var t=localStorage&&localStorage.getItem("reloadAction")||"";localStorage.removeItem("reloadAction"),"function"==typeof this[t]&&this[t].call(this)}catch(t){throw new Error("Call localStorage failed in reloadAction")}}}])&&sn(e.prototype,o),n&&sn(e,n),a}(B);e.a={createDownload:function(){return fn||(fn=new vn)},destory:function(){fn=null}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";var n=o(17);e.a={RELATIVECOURSE:{id:"53",dom:".relative-course-item-ad",mustshow:1},RELATIVEDOC:{id:"46",dom:".relative-doc-dspad-wrapper",mustshow:0},viewPageAllDsp:function(){var t=n.a.state.docInfo.title;return[{slotid:53,mustshow:1,num:1,keyword:t},{slotid:46,mustshow:0,num:1,keyword:t},{slotid:68,mustshow:1,num:1,keyword:t}]}}},function(t,e,o){"use strict";var n=o(4);e.a={validateTitle:function(t,e){return t.length>e?t.slice(0,e)+"...":t},validateScore:function(t){return t<=0?t="暂无评分":t+="分",t},validateViewCount:function(t){return t<=0?"0阅读":t<=9999?t+"阅读":t<1e8?parseFloat((t/1e4).toFixed(1))+"W 阅读":parseFloat((t/1e8).toFixed(1))+"亿 阅读"},validateRelativeDocs:function(t){if(t&&n.$.isArray(t)&&t.length>0){for(var e=[],o=0,i=t.length;o<i;o++){var r=t[o];r&&(r.scoreTag=this.validateScore(r&&r.score),r.viewCountTag=this.validateViewCount(r.view_count),e.push(r))}return e}return[]},validateRelativeDocViewStyleIsHorizontal:function(t){switch(t){case"3":case"6":case"11":case"14":case"15":return!1;default:return!0}},validateDocIsPGC:function(t){return"PGC"===t.docInfo2019.creator_info.utype}}},,function(t,e,o){"use strict";var n=o(6),i=o(3),r=o(4),a=o(1),s=o(0);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=v(t);if(e){var i=v(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return f(this,o)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(a,t);var e,o,n,r=d(a);function a(){var t;return l(this,a),(t=r.apply(this,arguments)).bgImgLoadStatus=0,t}return e=a,(o=[{key:"mounted",value:function(){var t=this,e=this.course.thumbnail;if(e){var o=new Image;o.onerror=function(){t.bgImgLoadStatus=2},o.onload=function(){t.bgImgLoadStatus=1},o.src=e}}},{key:"clickItem",value:function(t,e,o){var n;try{n=t.expParam||{}}catch(t){n={}}var r=n,a=r.expName,s=r.expId,c=r.expSourceStrId,l=r.expSourceType;i.log.xsend(102116,{index:+this.index+1,fix:this.fix,expName:a,expId:s,expSourceStrId:c,recFrom:"pc_newview_lesson",expSourceType:l,outExpId:o});var u=this.esUrl(t,e+1,o);window.open(u)}},{key:"esUrl",value:function(t,e,o){var n=t.url,i=t.expParam,r="?fr=pc_newview_lesson-"+o+"-"+e;return i&&(r+=["",i&&i.expName,i&&i.expId,i&&i.expSourceType,i&&i.expSourceStrId].join("-")),n+=r}}])&&u(e.prototype,o),n&&u(e,n),a}(s.Vue);Object(a.a)([Object(s.Prop)()],h.prototype,"course",void 0),Object(a.a)([Object(s.Prop)()],h.prototype,"index",void 0),Object(a.a)([Object(s.Prop)()],h.prototype,"fix",void 0);var b=h=Object(a.a)([s.Component],h),g=(o(649),o(5)),m=Object(g.default)(b,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"relative-course-item",attrs:{"data-course-id":t.course.courseID,"data-video-id":t.course.videoId,"data-flag":t.course.flag},on:{click:function(e){return t.clickItem(t.course,t.index,t.expData)}}},[o("div",{staticClass:"thumb-wrapper"},[o("div",{staticClass:"thumb",class:{default:2===t.bgImgLoadStatus},style:{backgroundImage:1===t.bgImgLoadStatus?"url("+t.course.thumbnail+")":"none"}}),t._v(" "),o("div",{staticClass:"playbar"})]),t._v(" "),o("div",{staticClass:"title",domProps:{textContent:t._s(t.course.title)}}),t._v(" "),o("div",{staticClass:"state"},[o("div",{staticClass:"org",domProps:{textContent:t._s(t.course.orgName)}}),t._v(" "),o("div",{staticClass:"price",class:{free:t.course.isFree,fee:!t.course.isFree},domProps:{textContent:t._s(t.course.priceTag)}})])])}),[],!1,null,null,null).exports,y=o(445),_=o(187);function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var o=[],n=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return O(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var C=function(){Promise.all([y.a.getData()]).then((function(t){var e=w(t,1)[0],o=(e=void 0===e?{}:e)[_.a.RELATIVECOURSE.id];try{o&&o.length>0&&y.a.render({data:o[0],slotid:_.a.RELATIVECOURSE.id,dom:_.a.RELATIVECOURSE.dom})}catch(t){console.log("DSP req err",_.a.RELATIVECOURSE.id,t)}}))};function P(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function j(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?P(Object(o),!0).forEach((function(e){I(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function I(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}r.Util.Common.onElsVisible(".relative-course-item",(function(t){var e=Object(r.$)(t);if("hidden"!==e.css("visibility")){var o=e.data("logged")?1:0,n=e.data("courseId"),a=e.data("videoId"),s=e.data("flag");i.log.xsend(102377,{page:"view",position:"rec",videoProducer:"wenku",videoType:"short",repeat:o,courseId:n,videoId:a,isFree:1==+s?0:1}),!o&&e.data("logged",1)}}));var x,S=(x=!1,function(){x||(x=!0,i.log.xsend(102376,{page:"view"}))}),k={props:{fix:Boolean},components:{RelativeCourseItem:m},data:function(){return{relativeCourseAdNum:0}},computed:j(j(j({},Object(n.mapGetters)(["relativeCourseInfo","docId"])),Object(n.mapState)(["pageData"])),{},{validVideos:function(){return(this.relativeCourseInfo.videos||[]).filter((function(t){return null!==t}))},visible:function(){var t=this.validVideos||[],e=t&&r.$.isArray(t)&&t.length>0;return e&&S(),e},courses:function(){var t=this.validVideos||[];if(t&&r.$.isArray(t)&&t.length>0){for(var e=0,o=t.length;e<o;e++){var n=t[e];+n.price<=0?(n.priceTag="免费",n.isFree=!0):n.priceTag="￥"+parseFloat((+n.price/100).toFixed(2))}return t.length>4&&(t=t.slice(0,4)),this.relativeCourseAdNum>0&&4===t.length&&(t=t.slice(0,3)),t}return[]},expData:function(){var t;try{t=this.relativeCourseInfo.expData[0].expId}catch(e){t=""}return t}}),methods:{viewLog:function(){var t=!1;r.Util.Common.onElsVisible(".relative-course-wrapper",(function(){"hidden"!==Object(r.$)(this).css("visibility")&&(t||(i.log.xsend(102624),t=!0))}))},relativeCourseAdLoad:function(t){var e=t&&t.adNum||0;this.relativeCourseAdNum=e}},created:function(){window.eventBus.on("relativeCourseAdLoad",r.$.proxy(this.relativeCourseAdLoad,this))},mounted:function(){C(),i.log.xsend(102238,{readerId:this.docId,fix:this.fix}),this.viewLog()}},D=(o(650),Object(g.default)(k,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"relative-course-wrapper"},[o("p",{staticClass:"topic"},[t._v("精品课程")]),t._v(" "),o("div",{staticClass:"divider"}),t._v(" "),o("div",{staticClass:"relative-course-in-wrapper"},[o("div",{staticClass:"relative-course-item relative-course-item-ad"}),t._v(" "),t._l(t.courses,(function(e,n){return o("RelativeCourseItem",{key:n,staticClass:"relative-course-item",attrs:{course:e,index:n,fix:t.fix,"exp-data":t.expData}})}))],2)]):t._e()}),[],!1,null,"61463933",null));e.a=D.exports},function(t,e,o){"use strict";var n=o(6),i=o(3),r=o(4),a=o(1),s=o(0);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=v(t);if(e){var i=v(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return f(this,o)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(r,t);var e,o,n,i=d(r);function r(){var t;return l(this,r),(t=i.apply(this,arguments)).bgImgLoadStatus=0,t}return e=r,(o=[{key:"mounted",value:function(){this.setCover()}},{key:"onInfo",value:function(){this.setCover()}},{key:"setCover",value:function(){var t=this,e=this.info&&this.info.pic;if(e){var o=new Image;o.onerror=function(){t.bgImgLoadStatus=2},o.onload=function(){t.bgImgLoadStatus=1},o.src=e}}}])&&u(e.prototype,o),n&&u(e,n),r}(s.Vue);Object(a.a)([Object(s.Prop)()],h.prototype,"info",void 0),Object(a.a)([Object(s.Prop)()],h.prototype,"index",void 0),Object(a.a)([Object(s.Watch)("info")],h.prototype,"onInfo",null);var b=h=Object(a.a)([Object(s.Component)({})],h),g=(o(645),o(5)),m=Object(g.default)(b,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.info?o("div",{staticClass:"relative-doc-item-horizontal"},[o("div",{staticClass:"content"},[o("div",{staticClass:"title",domProps:{innerHTML:t._s(t.info.title)}}),t._v(" "),o("div",{staticClass:"state"},[o("div",{staticClass:"star"}),t._v(" "),o("div",{staticClass:"score",domProps:{textContent:t._s(t.info.scoreTag)}}),t._v(" "),o("div",{staticClass:"viewcount",domProps:{textContent:t._s(t.info.viewCountTag)}})])]),t._v(" "),o("div",{staticClass:"cover-wrapper"},[t.info.pic?o("div",{staticClass:"cover custom",class:{default:2===t.bgImgLoadStatus},style:{backgroundImage:1===t.bgImgLoadStatus?"url("+t.info.pic+")":"none"}}):o("div",{staticClass:"cover default"})])]):t._e()}),[],!1,null,null,null).exports,y=o(597),_=o(188),w=o(102),O=o(590);function C(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function P(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?C(Object(o),!0).forEach((function(e){j(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):C(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function j(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var I=!1,x={},S={props:{fix:Boolean},data:function(){return{pn:1,rn:4,adLoadNum:0}},components:{RelativeDocItemHorizontal:m,RelativeDocItemVertical:y.a},computed:P(P(P({},Object(n.mapState)(["pageData","isAdLoadFailed","isHorizontal","queryInfo"])),Object(n.mapGetters)(["docId","docInfo2019","isVip","testData11","relativeRecommendInfo","wkSmallflow"])),{},{flowType:function(){var t,e;return this.isHorizontal&&+(null===(t=this.testData11)||void 0===t?void 0:t.wkWeb3563)>0?+(null===(e=this.testData11)||void 0===e?void 0:e.wkWeb3563):0},validRelativeDocs:function(){var t=this.relativeRecommendInfo.relateDoc;return _.a.validateRelativeDocs(t)},visible:function(){var t=this.relativeRecommendInfo.relateDoc;return t&&r.$.isArray(t)&&t.length>0},firstRn:function(){var t,e=this.isHorizontal,o=this.isVip,n=this.adLoadNum;return o||!e?t=4:!o&&e&&(t=n?4-n:4),t},docs:function(){var t=this.validRelativeDocs,e=this.firstRn;return t.length>e&&(t=t.slice(0,e)),t},showDocs:function(){var t=this.pn,e=this.rn,o=this.firstRn,n=this.totalPages,i=this.validRelativeDocs;if(1===t)return i.slice(0,o);if(n<=t){var r=o+(n-2)*e,a=i.length;return i.slice(r,a)}var s=o+(t-2)*e,c=s+e;return i.slice(s,c)},totalPages:function(){var t=this.validRelativeDocs,e=this.rn,o=this.firstRn,n=t.length,i=1+Math.ceil((n-o)/e);return i},disabledPrev:function(){return 1===this.pn},disabledNext:function(){return this.pn===this.totalPages},visibleAd:function(){return this.isHorizontal&&1===this.pn?"block":"none"}}),watch:{showDocs:function(){this.$nextTick((function(){Object(r.$)(document).trigger("scroll")}))},"relativeRecommendInfo.relateDoc":function(t){var e,o=this.isHorizontal,n=this.docId,a=this.fix,s=this.relativeRecommendInfo,c={bigPic:!o,readerId:n,fix:a},l=(null==s?void 0:s.expData)||[];r.$.isArray(t)&&(null==t?void 0:t.length)&&(c.expId=null==l||null===(e=l[0])||void 0===e?void 0:e.expId);i.log.xsend(102234,c)}},created:function(){var t,e=this;if(window.eventBus.on("adLoadSuccess",r.$.proxy(this.adLoadSuccess,this)),_.a.validateDocIsPGC(this.pageData)&&i.log.xsend(100724,{fix:this.fix}),this.visible&&!I){var o=this.pn;i.log.xsend(102724,{pn:o}),I=!0}r.Util.Common.onElsVisible(".relative-doc-wrapper .item",(function(){var t=Object(r.$)(this);t.data("visiblePre",!1);var o=t.attr("data-doc-id");x[o]||(i.log.xsend(102869,{pn:e.pn,pos:+t.attr("data-index")+1}),x[o]=1)}));var n=this.docInfo2019.doc_info.type;this.setHorizontal(null===_.a||void 0===_.a||null===(t=_.a.validateRelativeDocViewStyleIsHorizontal)||void 0===t?void 0:t.call(_.a,n))},mounted:function(){this.$nextTick((function(){window.AdDataRecomRight&&O.a.render(window.AdDataRecomRight)}))},methods:P(P({},Object(n.mapMutations)(["setHorizontal"])),{},{toPrev:function(){if(!this.disabledPrev){var t=this.pn-1;this.pn=t,w.userAction.sessionXMgr.pushUserActs({act:"toPrev",pn:t}),i.log.xsend(102724,{pn:t})}},toNext:function(t){if(!this.disabledNext){var e=this.pn+1;this.pn=e,w.userAction.sessionXMgr.pushUserActs({act:"toNext",pn:e}),i.log.xsend(102724,{pn:e})}},clickDoc:function(t,e){var o,n,a,s,c,l,u,p,d=this.isHorizontal,f=this.fix,v=this.relativeRecommendInfo;this.testData11;u=null==t?void 0:t.expParam,p=null==v||null===(o=v.expData)||void 0===o||null===(n=o[0])||void 0===n?void 0:n.expId,i.log.xsend(102235,{bigPic:!d,docId:null==t?void 0:t.doc_id,fix:f,expName:null===(a=u)||void 0===a?void 0:a.expName,expId:null===(s=u)||void 0===s?void 0:s.expId,expSourceType:null===(c=u)||void 0===c?void 0:c.expSourceType,expSourceStrId:null===(l=u)||void 0===l?void 0:l.expSourceStrId,index:e+1,recFrom:"pc_newview_relate",seat:"right",outExpId:p,pn:this.pn,pos:e+1,eid:"121601"}),_.a.validateDocIsPGC(this.pageData)&&i.log.xsend(100726,{fix:this.fix});var h=Object(r.$)("#kw").data("keyword"),b=location,g=b.protocol,m=b.host,y=(b.port,"".concat(g,"//").concat(m)+(h?"/view/".concat(t.doc_id,".html?rec_flag=default&word=").concat(encodeURIComponent(h)):"/view/".concat(t.doc_id,".html?rec_flag=default")));y+=this.addFrTag(t,e+1,p),y=w.userAction.sessionXMgr.createUrlParam({p:e+1,m:"relative_doc"},y),window.open(y)},adLoadSuccess:function(t){if(this.visible){var e=t&&t.adNum||0;this.adLoadNum=e}},addFrTag:function(t,e,o){var n=t.expParam,i="&fr=pc_newview_relate-"+o+"-"+e;n&&(i+=["",n&&n.expName,n&&n.expId,n&&n.expSourceType,n&&n.expSourceStrId].join("-"));return i},goSearch:function(){var t,e,o;i.log.xsend(103162);var n=(null===(t=this.queryInfo)||void 0===t?void 0:t.query)||(null===(e=this.docInfo2019)||void 0===e||null===(o=e.doc_info)||void 0===o?void 0:o.title);window.open("https://wenku.baidu.com/search?word=".concat(n,"&fr=relativeDoc"))}})},k=(o(647),Object(g.default)(S,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"relative-doc-wrapper"},[o("p",{staticClass:"topic"},[t._v("相关文档")]),t._v(" "),3!==t.flowType?o("div",{staticClass:"pager"},[o("span",{staticClass:"link link-prev",class:{disabled:t.disabledPrev},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toPrev(e)}}}),t._v(" "),o("span",{staticClass:"link link-next",class:{disabled:t.disabledNext},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toNext(e)}}})]):o("div",{staticClass:"pager",on:{click:t.goSearch}},[o("span",{staticClass:"more-text"},[t._v("更多")]),t._v(" "),o("span",{staticClass:"link more-icon"})]),t._v(" "),o("div",{staticClass:"divider"}),t._v(" "),o("div",{staticClass:"relative-doc-in-wrapper",class:{v:!t.isHorizontal}},[o("div",{staticClass:"hx-wrapper",style:{display:t.visibleAd}},[o("div",{staticClass:"relative-doc-ad-wrapper"}),t._v(" "),o("div",{staticClass:"relative-doc-dspad-wrapper"})]),t._v(" "),t._l(t.showDocs,(function(e,n){return o("div",{key:n,staticClass:"item",attrs:{"data-index":n,"data-doc-id":e.doc_id},on:{click:function(o){return t.clickDoc(e,n)}}},[e?[t.isHorizontal?o("RelativeDocItemHorizontal",{attrs:{info:e,index:n}}):o("RelativeDocItemVertical",{attrs:{info:e,index:n}})]:t._e()],2)})),t._v(" "),2===t.flowType?o("div",{staticClass:"search-enter",on:{click:t.goSearch}},[t._v("\n            查看更多\n        ")]):t._e()],2)]):t._e()}),[],!1,null,"4bf0a405",null));e.a=k.exports},,function(t,e,o){"use strict";var n=o(6);function i(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function r(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var s={computed:r(r({},Object(n.mapState)(["eventBus"])),Object(n.mapGetters)(["isVip"])),methods:{show:function(){this.isVip?this.eventBus.emit("removeAds"):this.eventBus.emit("initNoAdDialog")}}},c=(o(663),o(5)),l=Object(c.default)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hx-right-wrapper"},[e("div",{staticClass:"hx-right-up"},[e("span",{staticClass:"vip",on:{click:this.show}},[this._v("\n            VIP去广告 "),e("span",{staticClass:"icon"})])]),this._v(" "),e("div",{staticClass:"hx-right-bottom"},[e("span",{staticClass:"vip",on:{click:this.show}},[this._v("\n            VIP去广告 "),e("span",{staticClass:"icon"})])])])}),[],!1,null,null,null);e.a=l.exports},,function(t,e,o){"use strict";var n,i,r=o(3),a=o(7),s=o(4),c=[2147,2148,2149,2150],l=function(t,e,o){if(o=o||70,t.desc=t.desc.length>o?t.desc.substring(0,o)+"...":t.desc,e){var n=new RegExp(e,"g");t.title=t.title.replace(n,"<em>"+e+"</em>"),t.desc=t.desc.replace(n,"<em>"+e+"</em>")}return t},u=function(t){for(var e=0;e<c.length;e++)t&&!n&&(n="<script>"+t+"<\/script>");n&&Object(s.$)("body").append(n)},p=function(t,e){var o,n=Object(s.$)(".relative-doc-ad-wrapper"),i=t&&t.adPlaceJs;if(t[0]=t.adPlaceData[0],t[0]=l(t[0],"",20),t[0].url&&t[0].time_sign){for(var a=0;a<n.length;a++)o='<div class="knowledge-relative clearfix" data-pz-sign="'.concat(t[0].time_sign,'">\n                    <a href="').concat(t[0].url,'">\n                        <div class="desc">\n                            <p class="title">').concat(t[0].title,'</p>\n                            <div class="info">\n                                <span class="tag">广告</span>\n                                <span class="author">\n                                    ').concat(t[0].replier,'\n                                </span>\n                            </div>\n                        </div>\n                        <div class="img">\n                            <img src="').concat(t[0].pic_url,'">\n                        </div>\n                    </a>\n                </div>').trim(),n.eq(a).html(o).show();t&&r.log.xsend(102595,{index:2147,des:"show"})}u(i)},d=function(t,e){var o,n=t&&t.adPlaceJs;Object(s.$)(".hx-recom-wrapper").addClass("knowledge-recom"),t[0]=t.adPlaceData[0],t[0]=l(t[0],e),o='<div data-pz-sign="'.concat(t[0].time_sign,'">\n            <a href="').concat(t[0].url,'" class="knowledge-wrap">\n                <div class="clearfix">\n                    <div class="knowledge-info">\n                        <span>浏览过本文的用户也在看</span>\n                        <span class="knowledge-tag">广告</span>\n                    </div>\n                    <div class="knowledge-title"> ').concat(t[0].title,' </div>\n                    <div class="knowledge-des"> ').concat(t[0].desc,' </div>\n                    <span class="knowledge-btn fr">查看全文</span>\n                </div>\n            </a>\n            </div>').trim(),Object(s.$)(".hx-recom-wrapper").html(o),Object(s.$)(".hx-recom-wrapper").show(),t&&r.log.xsend(102595,{index:2148,des:"show"}),u(n)},f=function(t,e){var o=0,n=4;e&&e.newImgLink&&(o=1,n=3),t&&r.log.xsend(102595,{index:2149,des:"show"});for(var i=t.adPlaceJs,a=o;n>0;a++){n--;var c=t.adPlaceData.shift();if(c){var p=void 0;c=l(c,"",80),Object(s.$)("#pageNo-"+(a+2)).length&&c&&(p='<div class="hx-warp">\n                        <div id="wkad2'.concat(a+1,'" data-pz-sign="').concat(c.time_sign,'">\n                            <a href="').concat(c.url,'">\n                                <div class="knowledge clearfix">\n                                    <div class="img fl">\n                                        <span class="knowledge-backPic"></span>\n                                    </div>\n                                    <div class="cont fl">\n                                        <div class="title">\n                                            <span class="txt">\n                                                ').concat(c.title,'\n                                            </span>\n                                            <span class="tag">\n                                                广告\n                                            </span>\n                                        </div>\n                                        <div class="con">\n                                            ').concat(c.desc,'\n                                        </div>\n                                    </div>\n                                    <span class="btn fr">查看全文</span>\n                                </div>\n                            </a>\n                        </div>\n                        <a class="ad-logo"></a>\n                    </div>').trim(),Object(s.$)("#pageNo-"+(a+1)).after(p))}}u(i)},v=function(t){var e=t&&t.adPlaceJs;if(t=t.adPlaceData){for(var o,n=0;n<t.length;n++)t[n]=l(t[n],"",50),o='<div class="item clearfix" data-pz-sign="'.concat(t[n].time_sign,'">'),t[n].pic_url&&(o+='<div class="img">\n                        <img src="'.concat(t[n].pic_url,'">\n                    </div>')),o+='<div class="con">\n                    <a href="'.concat(t[n].url,'">\n                        <p class="title">').concat(t[n].title,' </p>\n                        <p class="des">').concat(t[n].desc,' </p>\n                    </a>\n                    <span class="tag">广告</span>\n                </div>\n                <a class="btn" href="').concat(t[n].url,'">查看全文</a>\n            </div>');o='<div class="knowledge-bottom">\n                <h4 class="name">你可能关注的内容</h4>\n                '.concat(o,"\n            </div>").trim(),Object(s.$)(".hx-bottom-wrapper").append(o).show(),t&&r.log.xsend(102595,{index:2150,des:"show"})}u(e)},h=o(17),b={},g=0,m=[2147,2148,2149,2150];e.a={getData:function(t,e,o){return 0===g?(r.log.xsend(102595,{index:0,des:"req"}),g=1,i=new Promise((function(n,i){if(o){var s=h.a.state.docInfo.title;a.wkAxios.get("/ndview/interface/hx/zsyx",{params:{url:location.href,essQuery:s,query:t,eidstr:e+",50001"}}).then((function(t){g=2,b=t,function(t){for(var e=0;e<m.length;e++)t[m[e]]&&r.log.xsend(102595,{index:m[e],des:"res"})}(t),n(t)})).catch((function(t){g=2,b=t,n({})}))}else n({})}))):1===g?i:2===g&&b?b:void 0},render:function(t){var e=t.zsyxContent,o=t.zsyxPlaceId,n=t.brandContent,i=t.docTitle;if("{}"!==JSON.stringify(e)){var r={};if(r.adPlaceData=e[o]&&e[o].adPlaceData,r.adPlaceJs=e[o]&&e[o].adPlaceJs,r.adPlaceData=r.adPlaceData?JSON.parse(JSON.stringify(r.adPlaceData)):r.adPlaceData,r.adPlaceData)switch(o){case 2149:f(r,n);break;case 2148:d(r,i);break;case 2150:v(r);break;case 2147:p(r,i)}}}}},,,function(t,e,o){"use strict";var n=o(6),i=o(4),r=o(3),a=o(1),s=o(0);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=v(t);if(e){var i=v(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return f(this,o)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(a,t);var e,o,n,i=d(a);function a(){return l(this,a),i.apply(this,arguments)}return e=a,(o=[{key:"created",value:function(){this.isShowWoniuTag&&r.log.xsend(103079,{pos:"tag",mode:"show"})}},{key:"clickTag",value:function(t){var e=t.type,o=t.url;r.log.xsend(102299,{index:2===e?1:0}),this.isShowWoniuTag&&2!=+e?window.open("https://snail.baidu.com/ndyanbao/browse/index"):window.open(o)}},{key:"gotoWoniu",value:function(){r.log.xsend(103079,{pos:"tag",mode:"click"}),window.open("https://snail.baidu.com/ndyanbao/browse/index")}}])&&u(e.prototype,o),n&&u(e,n),a}(s.Vue);Object(a.a)([Object(s.Prop)(Array)],h.prototype,"tags",void 0),Object(a.a)([Object(s.Prop)(Boolean)],h.prototype,"isShowWoniuTag",void 0);var b=h=Object(a.a)([Object(s.Component)({filters:{cutTag:function(t){var e=t.tag;return 2===t.type&&e.length>4?e.substring(0,4):e}}})],h),g=(o(706),o(5)),m=Object(g.default)(b,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"doc-tag-wrap"},[t._l(t.tags,(function(e){return o("div",{key:e.url,staticClass:"tag",class:2===e.type?"special":"",on:{click:function(o){return t.clickTag(e)}}},[t._v("\n        "+t._s(t._f("cutTag")(e))+"\n    ")])})),t._v(" "),t.isShowWoniuTag?o("div",{staticClass:"woniu-tag",on:{click:function(e){return t.gotoWoniu()}}},[t._v("查看更多精品报告")]):t._e()],2)}),[],!1,null,null,null).exports,y=o(186);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=I(t);if(e){var i=I(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return j(this,o)}}function j(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(a,t);var e,o,n,i=P(a);function a(){var t;return w(this,a),(t=i.apply(this,arguments)).packState=1,t}return e=a,(o=[{key:"packUp",value:function(){r.log.xsend(102300),this.packState=2}}])&&O(e.prototype,o),n&&O(e,n),a}(s.Vue);Object(a.a)([Object(s.Prop)(String)],x.prototype,"summary",void 0);var S=x=Object(a.a)([s.Component],x),k=(o(707),Object(g.default)(S,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"doc-desc-wrap"},[e("div",{staticClass:"doc-desc"},[e("div",{staticClass:"pack-down"},[this._v(this._s(this.summary))])])])}),[],!1,null,null,null).exports),D=o(13);function T(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function E(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?T(Object(o),!0).forEach((function(e){V(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function V(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var R={components:{DocDesc:k},filters:{parseSize:function(t){return D.a.parseSize(t)},parseSizeUnit:function(t){return D.a.parseSizeUnit(t)},parseDate:function(t){return D.a.parseDate(1e3*t)},parseNum:function(t){return D.a.parseNum(t)}},props:{docInfo:{type:Object,default:function(){}},isHiddenSize:{default:!1,type:Boolean},isSecret:{default:!1,type:Boolean}},data:function(){return{descVisible:!1}},computed:E(E({},Object(n.mapGetters)("docInfo",["isTitleDoc"])),{},{isibleToggleDesc:function(){return this.docInfo.summary}}),methods:{clickOpen:function(){var t=!this.descVisible;this.descVisible=t}}},A=(o(708),Object(g.default)(R,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"doc-summary-wrap"},[t.isSecret?t._e():[t.docInfo.score?o("span",{staticClass:"doc-score"},[o("em",[t._v(t._s(t.docInfo.score)+"分（")]),t._v("超过"+t._s(t.docInfo.score_percentage)+"%的文档"),o("em",[t._v("）")])]):o("span",[t._v("暂无评分")]),t._v(" "),o("span",{staticClass:"divider"})],t._v(" "),o("span",[o("em",[t._v(t._s(t._f("parseNum")(t.docInfo.view_count)))]),t._v("阅读")]),t._v(" "),o("span",{staticClass:"divider"}),t._v(" "),o("span",[o("em",[t._v(t._s(t._f("parseNum")(t.docInfo.download_count)))]),t._v("下载")]),t._v(" "),o("span",{staticClass:"divider"}),t._v(" "),o("span",[o("em",[t._v(t._s(t._f("parseDate")(t.docInfo.create_time)))]),t._v("上传")]),t._v(" "),t.isTitleDoc?t._e():[o("span",{staticClass:"divider"}),t._v(" "),o("span",[o("em",[t._v(t._s(t.docInfo.page))]),t._v("页")])],t._v(" "),o("span",{staticClass:"divider"}),t._v(" "),t.isHiddenSize?t._e():o("span",{staticClass:"size-box"},[o("em",[t._v(t._s(t._f("parseSize")(t.docInfo.size)))]),t._v(t._s(t._f("parseSizeUnit")(t.docInfo.size))+"\n    ")]),t._v(" "),t.isHiddenSize?t._e():o("span",{staticClass:"divider"}),t._v(" "),t.docInfo.summary?o("span",{staticClass:"link-open",class:{"icon-up":t.descVisible,"icon-down":!t.descVisible},on:{click:t.clickOpen}},[o("span",[t._v(t._s(t.descVisible?"收起":"展开"))])]):t._e(),t._v(" "),t.descVisible?o("DocDesc",{attrs:{summary:t.docInfo.summary}}):t._e()],2)}),[],!1,null,null,null).exports),L=o(12);function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=U(t);if(e){var i=U(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return H(this,o)}}function H(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(s,t);var e,o,n,a=F(s);function s(){return $(this,s),a.apply(this,arguments)}return e=s,(o=[{key:"fullScreen",value:function(){this.$emit("fullScreen")}},{key:"docInfo",get:function(){return this.docInfo2019.doc_info}},{key:"copyRightFlag",get:function(){return this.docInfo2019.copyright_flag||0}},{key:"docCategory",get:function(){var t,e=this.copyRightFlag,o=this.docInfo;if(1==+o.isVipHighPriceDoc)return"VIP专享购买";if(1==+e)return"独家";r.log.xsend(102761,{index:0});var n=null==o?void 0:o.is_vip_free_doc;if(n)return r.log.xsend(102906,{index:0,vipFree:n}),"VIP";var i=(G(t={},L.a.TICKET,"免费"),G(t,L.a.CASH,"付费"),G(t,L.a.VIP_RIGHT,"VIP"),G(t,L.a.PRIVATE,"私有"),G(t,L.a.SECRET,"私密"),t),a=this.docInfo.doc_type;return r.log.xsend(102761,{index:1,vipFree:n,flag:a}),i[a]||""}},{key:"isProfessionalDoc",get:function(){var t,e=this.copyRightFlag;if(1==+this.docInfo.isVipHighPriceDoc)return"hight-price-doc";if(1==+e)return r.log.xsend(102761,{index:3}),"excl-doc";var o=this.docInfo.doc_type===L.a.VIP_RIGHT,n=null===(t=this.docInfo)||void 0===t?void 0:t.is_vip_free_doc;return 1==+o||n?(r.log.xsend(102761,{index:4,vipFree:n,professional:+o}),"professional-doc"):void 0}},{key:"isHorizontal",get:function(){return["2","5","3","6","14","15","11","10"].indexOf(this.docInfo.type)>-1}},{key:"coverListLength",get:function(){if(this.isHorizontal){var t=this.coverList||[];return r.log.xsend(102762,{index:t}),i._.isArray(t)&&t.length>=3&&+this.docInfo.page>=3?3:i._.isArray(t)&&t.length>0?1:0}return this.docInfo.cover_url?1:0}},{key:"covers",get:function(){var t=this.coverList||[],e=this.coverListLength;return 3===e?t.slice(0,3):1===e&&this.isHorizontal?t[0]:1!==e||this.isHorizontal?[]:this.docInfo.cover_url}},{key:"coverTitle",get:function(){var t=this.coverListLength,e=this.docInfo.title;if(this.isHorizontal&&0===t){if(e.length>12)return e.substring(0,12)+"..."}else if(!this.isHorizontal&&0===t&&e.length>16)return e.substring(0,15)+"...";return e}},{key:"isPureClass",get:function(){return this.isPureGuide?"pure":""}}])&&M(e.prototype,o),n&&M(e,n),s}(s.Vue);Object(a.a)([Object(s.Prop)()],z.prototype,"coverList",void 0),Object(a.a)([Object(s.Prop)()],z.prototype,"docInfo2019",void 0),Object(a.a)([Object(s.Prop)()],z.prototype,"isPureGuide",void 0),Object(a.a)([Object(s.Prop)()],z.prototype,"pureSmallflow",void 0);var W=z=Object(a.a)([s.Component],z),K=(o(709),Object(g.default)(W,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"doc-cover-wrap",on:{click:t.fullScreen}},[t.isHorizontal?[3===t.coverListLength?[o("div",{staticClass:"horizontal pin-shape",class:t.isPureClass},[o("div",{staticClass:"doc-cover top",style:{backgroundImage:"url("+t.covers[0]+")"}}),t._v(" "),o("div",{staticClass:"doc-cover left-bottom",style:{backgroundImage:"url("+t.covers[1]+")"}}),t._v(" "),o("div",{staticClass:"doc-cover right-bottom",style:{backgroundImage:"url("+t.covers[2]+")"}}),t._v(" "),o("div",{staticClass:"doc-category",class:[t.isProfessionalDoc]},[t._v(t._s(t.docCategory))])])]:1===t.coverListLength?[o("div",{staticClass:"horizontal",class:t.isPureClass},[o("div",{staticClass:"doc-cover",style:{backgroundImage:"url("+t.covers+")"}}),t._v(" "),o("div",{staticClass:"doc-category",class:[t.isProfessionalDoc]},[t._v(t._s(t.docCategory))])])]:[o("div",{staticClass:"horizontal horizontal-default",class:t.isPureClass},[o("h3",{staticClass:"doc-title"},[t._v(t._s(t.coverTitle))]),t._v(" "),o("div",{staticClass:"doc-category",class:[t.isProfessionalDoc]},[t._v(t._s(t.docCategory))])])]]:[1===t.coverListLength?[o("div",{staticClass:"vertical",class:t.isPureClass},[o("div",{staticClass:"doc-cover doc-cover-scale",style:{backgroundImage:"url("+t.docInfo.cover_url+")"}}),t._v(" "),o("div",{staticClass:"doc-category",class:[t.isProfessionalDoc]},[t._v(t._s(t.docCategory))])])]:[o("div",{staticClass:"vertical vertical-default",class:t.isPureClass},[o("h3",{staticClass:"doc-title"},[t._v(t._s(t.coverTitle))]),t._v(" "),o("div",{staticClass:"doc-category",class:[t.isProfessionalDoc]},[t._v(t._s(t.docCategory))])])]]],2)}),[],!1,null,"369701ac",null).exports);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=tt(t);if(e){var i=tt(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Q(this,o)}}function Q(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(r,t);var e,o,n,i=Z(r);function r(){var t;return Y(this,r),(t=i.apply(this,arguments)).showSuccess=!1,t.reportUrl="",t}return e=r,(o=[{key:"handleClose",value:function(){this.showSuccess=!1,clearTimeout(this.timer)}},{key:"copyEmail",value:function(){var t=this;document.getElementById("email-input").select(),document.execCommand("Copy"),this.showSuccess=!0,this.timer=setTimeout((function(){t.showSuccess=!1}),3e3)}}])&&X(e.prototype,o),n&&X(e,n),r}(s.Vue);Object(a.a)([Object(s.Prop)(Boolean)],et.prototype,"visible",void 0),Object(a.a)([Object(s.Emit)("closeClaimPop")],et.prototype,"handleClose",null);var ot=et=Object(a.a)([s.Component],et),nt=(o(710),Object(g.default)(ot,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"claim-dialog"},[o("div",{staticClass:"dialog-mask"}),t._v(" "),o("div",{staticClass:"claim-wrap"},[o("p",{staticClass:"header"},[t._v("认领")]),t._v(" "),o("div",{staticClass:"btn-close",on:{click:t.handleClose}}),t._v(" "),o("div",{staticClass:"cont"},[o("p",{staticClass:"title"},[t._v("如您为此篇文档作者，可提供证明材料申请认领，获取版权文档收益并下架侵权文档：")]),t._v(" "),t._m(0),t._v(" "),o("p",{staticClass:"title t-color email-wrap"},[t._v("申请邮箱：\n                "),o("input",{staticClass:"email-input",attrs:{type:"text",id:"email-input",value:"wenku-renling@baidu.com",readonly:"readonly"}}),t._v(" "),o("span",{staticClass:"email-text"},[t._v("wenku-renling@baidu.com")]),t._v(" "),o("a",{staticClass:"btn btn-copy",on:{click:t.copyEmail}},[t._v("复制")]),t._v(" "),t.showSuccess?o("span",{staticClass:"success-tip"},[t._v("复制成功")]):t._e()]),t._v(" "),o("p",{staticClass:"title t-color mb18"},[t._v("证明材料：")]),t._v(" "),o("p",{staticClass:"list"},[t._v("1、侵权文档文库链接地址")]),t._v(" "),t._m(1),t._v(" "),o("p",{staticClass:"list"},[t._v("3、身份证明材料：身份证正面照 / 护照身份页照片")]),t._v(" "),o("p",{staticClass:"list"},[t._v("4、版权证明材料：作品认证证书 / 作品登记证书 / 已署名的出版物")])]),t._v(" "),t._m(2)])]):t._e()}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"step-wrap"},[o("div",[o("span",{staticClass:"step step1"}),t._v(" "),o("p",{staticClass:"desc"},[t._v("发送申请邮件")])]),t._v(" "),o("div",{staticClass:"next"}),t._v(" "),o("div",[o("span",{staticClass:"step step2"}),t._v(" "),o("p",{staticClass:"desc"},[t._v("审核")]),t._v(" "),o("p",{staticClass:"small-desc"},[t._v("（1-2个工作日）")])]),t._v(" "),o("div",{staticClass:"next"}),t._v(" "),o("div",[o("span",{staticClass:"step step3"}),t._v(" "),o("p",{staticClass:"desc"},[t._v("认领结果答复")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"list"},[this._v("2、您的版权文档文库链接地址：如尚无，请先"),e("a",{staticClass:"btn btn-upload",attrs:{href:"/new?fr=claim",target:"_blank"}},[this._v("上传")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer-wrap"},[e("p",[e("span",{staticClass:"at-icon"}),this._v("专属客服：QQ 800049878   "),e("span",{staticClass:"tel"},[this._v("电话 ")]),this._v("400-921-7005")])])}],!1,null,"9d2bb40a",null).exports),it=[{value:2,text:"色情、淫秽、低俗信息"},{value:10,text:"涉嫌违法犯罪"},{value:11,text:"时政信息不实"},{value:1,text:"广告或垃圾信息"}];function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function st(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=pt(t);if(e){var i=pt(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return ut(this,o)}}function ut(t,e){return!e||"object"!==rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(r,t);var e,o,n,i=lt(r);function r(){return at(this,r),i.apply(this,arguments)}return e=r,(o=[{key:"handleClose",value:function(){this.closeReportPop()}},{key:"elStyle",get:function(){return{width:(this.width||500)+"px",height:this.height?"$(this.height}px":"auto",marginLeft:(-this.width/2||-250)+"px",marginTop:this.height?-this.height/2+"px":"-200px"}}}])&&st(e.prototype,o),n&&st(e,n),r}(s.Vue);Object(a.a)([Object(s.Prop)()],dt.prototype,"visible",void 0),Object(a.a)([Object(s.Prop)()],dt.prototype,"title",void 0),Object(a.a)([Object(s.Prop)()],dt.prototype,"width",void 0),Object(a.a)([Object(s.Prop)()],dt.prototype,"height",void 0),Object(a.a)([Object(s.Prop)()],dt.prototype,"closeReportPop",void 0);var ft=dt=Object(a.a)([s.Component],dt),vt=(o(711),Object(g.default)(ft,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"dialog-wrap"},[o("div",{staticClass:"dialog-mask"}),t._v(" "),o("div",{staticClass:"dialog-el",style:t.elStyle},[o("div",{staticClass:"dialog-head"},[o("div",{staticClass:"dialog-title"},[t._v(t._s(t.title))]),t._v(" "),o("div",{staticClass:"link-close",on:{click:t.handleClose}})]),t._v(" "),o("div",{staticClass:"dialog-body"},[t._t("dialog-body")],2),t._v(" "),o("div",{staticClass:"dialog-foot"},[t._t("dialog-foot")],2)])]):t._e()}),[],!1,null,"ce9c2d2c",null).exports);function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mt(t,e){return(mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=wt(t);if(e){var i=wt(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return _t(this,o)}}function _t(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mt(t,e)}(r,t);var e,o,n,i=yt(r);function r(){return bt(this,r),i.apply(this,arguments)}return e=r,(o=[{key:"handleClose",value:function(){}},{key:"errCode",get:function(){return+this.errno}},{key:"width",get:function(){return 400}}])&&gt(e.prototype,o),n&&gt(e,n),r}(s.Vue);Object(a.a)([Object(s.Prop)()],Ot.prototype,"errno",void 0),Object(a.a)([Object(s.Prop)()],Ot.prototype,"visible",void 0),Object(a.a)([Object(s.Emit)("closeReportCbPop")],Ot.prototype,"handleClose",null);var Ct=Ot=Object(a.a)([Object(s.Component)({components:{"ui-dialog":vt}})],Ot),Pt=(o(712),Object(g.default)(Ct,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"doc-report-dialog-cb-wrap"},[o("ui-dialog",{attrs:{visible:t.visible,title:"提示",width:t.width,closeReportPop:t.handleClose}},[o("template",{slot:"dialog-body"},[o("div",{staticClass:"dialog-body-wrap"},[0===t.errCode?[o("h2",{staticClass:"report-success-icon"}),t._v(" "),o("div",{staticClass:"align-left"},[o("p",[t._v("\n                            您的举报已收到，我们会尽快进行核实处理。\n                        ")]),t._v(" "),o("p",[t._v("\n                            感谢您为绿化文库做的努力，欢迎您加入\n                            "),o("a",{attrs:{href:"/event/bqbh",target:"_blank"}},[t._v("绿色文库行动团")]),t._v("，\n                            共同维护健康良好的分享、阅读环境。\n                        ")])])]:2===t.errCode?[o("h2",[t._v("未登录")]),t._v(" "),o("p",[t._v("可能登录时间超时，请您重新登录后再举报。")])]:3===t.errCode?[o("h2",[t._v("举报失败")]),t._v(" "),o("p",[t._v("用户已被封禁")])]:5===t.errCode?[o("h2",[t._v("温馨提示")]),t._v(" "),o("p",[t._v("可能是您的举报过于频繁，建议您稍微休息一下再试吧")])]:6===t.errCode?[o("div",{staticClass:"align-left"},[o("p",[t._v("\n                            已经有用户对此文档进行举报操作，文库正在核实处理，\n                            请您稍后重试。感谢您的关注与反馈！\n                        ")]),t._v(" "),o("p",[t._v("\n                            感谢您为绿色文库做出的努力，欢迎您加入\n                            "),o("a",{attrs:{href:"/event/bqbh",target:"_blank"}},[t._v("绿色文库行动团")]),t._v("，\n                            共同维护健康良好的分享、阅读环境。\n                        ")])])]:7===t.errCode?[o("h2",[t._v("举报失败")]),o("p",[t._v("文件过大")])]:8===t.errCode?[o("h2",[t._v("举报失败")]),o("p",[t._v("非法文件名")])]:9===t.errCode?[o("h2",[t._v("举报失败")]),o("p",[t._v("非法文件格式")])]:11===t.errCode?[o("h2",[t._v("举报失败")]),o("p",[t._v("参数错误")])]:49===t.errCode?[o("div",{staticClass:"align-left"},[o("p",[t._v("\n                            这是您上传的公开文档，请勿进行举报操作。若因侵权等问题不适宜公开，请在\n                            "),o("a",{attrs:{href:"/user/doc",target:"_blank"}},[t._v("我的文档")]),t._v("\n                            进行删除或转为私有文档操作。\n                        ")])])]:t._e()],2)]),t._v(" "),o("template",{slot:"dialog-foot"},[o("div",{staticClass:"dialog-btns-wrap"},[o("div",{staticClass:"btn-close",on:{click:t.handleClose}},[t._v("关闭")])])])],2)],1)}),[],!1,null,null,null).exports);function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Tt(t);if(e){var i=Tt(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Dt(this,o)}}function Dt(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(a,t);var e,o,n,r=kt(a);function a(){var t;return It(this,a),(t=r.apply(this,arguments)).value="",t.tipText="",t.btnTextSendCode="发送验证码",t.btnDisabledSend=!1,t}return e=a,(o=[{key:"handleTipText",value:function(t,e){68===t&&(this.tipText="验证码错误！");var o="",n=this.errCode;this.visible&&68===n&&(o="验证码错误！"),this.tipText=o}},{key:"handleConfirm",value:function(){var t=this.value;return/^\d{6}$/.test(t)?t:(this.tipText="请正确输入6位数字验证码！",-1)}},{key:"handleSend",value:function(){var t=this,e=60,o=this.docInfo2019.doc_info.show_doc_id;i.$.ajax({url:"/report/interface/sendReportPin",data:{doc_id:o},type:"POST"}),this.btnDisabledSend="disabled";var n=setInterval((function(){--e?t.btnTextSendCode="重新发送验证码（".concat(e,"）"):(clearInterval(n),t.btnTextSendCode="重新发送验证码",t.btnDisabledSend=!1)}),1e3)}},{key:"handleClose",value:function(){}},{key:"errCode",get:function(){return+this.errno}}])&&xt(e.prototype,o),n&&xt(e,n),a}(s.Vue);Object(a.a)([Object(s.Prop)()],Et.prototype,"visible",void 0),Object(a.a)([Object(s.Prop)()],Et.prototype,"errno",void 0),Object(a.a)([Object(s.Prop)()],Et.prototype,"docInfo2019",void 0),Object(a.a)([Object(s.Watch)("errCode")],Et.prototype,"handleTipText",null),Object(a.a)([Object(s.Emit)("confirmReport")],Et.prototype,"handleConfirm",null),Object(a.a)([Object(s.Emit)("closeValidatePop")],Et.prototype,"handleClose",null);var Vt=Et=Object(a.a)([Object(s.Component)({components:{"ui-dialog":vt}})],Et),Rt=(o(713),Object(g.default)(Vt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"validate-dialog-cb-wrap"},[o("ui-dialog",{attrs:{visible:t.visible,title:"请输入手机验证码",width:"380",closeReportPop:t.handleClose}},[o("div",{staticClass:"dialog-body-wrap",attrs:{slot:"dialog-body"},slot:"dialog-body"},[o("div",[o("label",{staticClass:"send-input-label"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})]),t._v(" "),o("button",{staticClass:"btn-send-code",attrs:{disabled:t.btnDisabledSend},on:{click:t.handleSend}},[t._v("\n                    "+t._s(t.btnTextSendCode)+"\n                ")])]),t._v(" "),o("div",{staticClass:"dialog-tip"},[t._v(t._s(t.tipText))])]),t._v(" "),o("div",{staticClass:"dialog-btns-wrap",attrs:{slot:"dialog-foot"},slot:"dialog-foot"},[o("div",{staticClass:"btn-confirm",on:{click:t.handleConfirm}},[t._v("\n                确定\n            ")]),t._v(" "),o("div",{staticClass:"btn-close",on:{click:t.handleClose}},[t._v("\n                关闭\n            ")])])])],1)}),[],!1,null,null,null).exports);function At(t){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Bt(t);if(e){var i=Bt(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Mt(this,o)}}function Mt(t,e){return!e||"object"!==At(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(r,t);var e,o,n,i=$t(r);function r(){return Lt(this,r),i.apply(this,arguments)}return e=r,(o=[{key:"handleConfirm",value:function(){this.handleClose();var t=this.onConfirm;t&&t()}},{key:"handleClose",value:function(){return"alert"}},{key:"elStyle",get:function(){return{width:this.width?"".concat(this.width,"px"):"500px",height:this.height?"".concat(this.height,"px"):"auto","margin-left":this.width?"-".concat(this.width/2,"px"):"-250px","margin-top":this.height?"-".concat(this.height/2,"px"):"-200px"}}}])&&Nt(e.prototype,o),n&&Nt(e,n),r}(s.Vue);Object(a.a)([Object(s.Prop)()],Ft.prototype,"visible",void 0),Object(a.a)([Object(s.Prop)()],Ft.prototype,"onConfirm",void 0),Object(a.a)([Object(s.Prop)({default:"提示"})],Ft.prototype,"title",void 0),Object(a.a)([Object(s.Prop)()],Ft.prototype,"content",void 0),Object(a.a)([Object(s.Prop)()],Ft.prototype,"confimBtnText",void 0),Object(a.a)([Object(s.Prop)()],Ft.prototype,"width",void 0),Object(a.a)([Object(s.Prop)()],Ft.prototype,"height",void 0),Object(a.a)([Object(s.Emit)("closeModal")],Ft.prototype,"handleClose",null);var Ht=Ft=Object(a.a)([s.Component],Ft),Ut=(o(714),Object(g.default)(Ht,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"alert-wrap"},[o("div",{staticClass:"alert-mask"}),t._v(" "),o("div",{staticClass:"alert-el",style:t.elStyle},[o("div",{staticClass:"alert-head"},[o("div",{staticClass:"alert-title"},[t._v(t._s(t.title||"提示"))]),t._v(" "),o("div",{staticClass:"link-close",on:{click:t.handleClose}})]),t._v(" "),o("div",{staticClass:"alert-body"},[o("div",{staticClass:"alert-body-wrap"},[t._v(t._s(t.content))])]),t._v(" "),o("div",{staticClass:"alert-foot"},[o("div",{staticClass:"alert-btns-wrap"},[o("div",{staticClass:"btn-confirm",on:{click:t.handleConfirm}},[t._v("\n                        "+t._s(t.confimBtnText||"确定")+"\n                    ")])])])])]):t._e()}),[],!1,null,"618ef4bc",null).exports);function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Jt(t);if(e){var i=Jt(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Xt(this,o)}}function Xt(t,e){return!e||"object"!==zt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jt(t){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(r,t);var e,o,n,i=Yt(r);function r(){return Wt(this,r),i.apply(this,arguments)}return e=r,(o=[{key:"handleConfirm",value:function(){this.handleClose();var t=this.onConfirm;t&&t()}},{key:"handleClose",value:function(){return"confirm"}},{key:"elStyle",get:function(){return{width:this.width?"".concat(this.width,"px"):"500px",height:this.height?"".concat(this.height,"px"):"auto","margin-left":this.width?"-".concat(this.width/2,"px"):"-250px","margin-top":this.height?"-".concat(this.height/2,"px"):"-200px"}}}])&&Kt(e.prototype,o),n&&Kt(e,n),r}(s.Vue);Object(a.a)([Object(s.Prop)()],Zt.prototype,"visible",void 0),Object(a.a)([Object(s.Prop)({default:"提示"})],Zt.prototype,"title",void 0),Object(a.a)([Object(s.Prop)({default:""})],Zt.prototype,"content",void 0),Object(a.a)([Object(s.Prop)()],Zt.prototype,"confimBtnText",void 0),Object(a.a)([Object(s.Prop)()],Zt.prototype,"width",void 0),Object(a.a)([Object(s.Prop)()],Zt.prototype,"height",void 0),Object(a.a)([Object(s.Prop)()],Zt.prototype,"onConfirm",void 0),Object(a.a)([Object(s.Emit)("closeModal")],Zt.prototype,"handleClose",null);var Qt=Zt=Object(a.a)([s.Component],Zt),te=(o(715),Object(g.default)(Qt,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"confirm-wrap"},[o("div",{staticClass:"confirm-mask"}),t._v(" "),o("div",{staticClass:"confirm-el",style:t.elStyle},[o("div",{staticClass:"confirm-head"},[o("div",{staticClass:"confirm-title"},[t._v(t._s(t.title||"提示"))]),t._v(" "),o("div",{staticClass:"link-close",on:{click:t.handleClose}})]),t._v(" "),o("div",{staticClass:"confirm-body"},[o("div",{staticClass:"confirm-body-wrap"},[t._v(t._s(t.content))])]),t._v(" "),o("div",{staticClass:"confirm-foot"},[o("div",{staticClass:"confirm-btns-wrap"},[o("div",{staticClass:"btn-confirm",on:{click:t.handleConfirm}},[t._v("\n                    "+t._s(t.confimBtnText||"确定")+"\n                ")]),t._v(" "),o("div",{staticClass:"btn-cancel",on:{click:t.handleConfirm}},[t._v("\n                    "+t._s(t.confimBtnText||"取消")+"\n                ")])])])])]):t._e()}),[],!1,null,"1907b8a4",null).exports),ee=o(23),oe=o.n(ee);function ne(t){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function re(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ae(t,e){return(ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=le(t);if(e){var i=le(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return ce(this,o)}}function ce(t,e){return!e||"object"!==ne(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ue=new oe.a,pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ae(t,e)}(a,t);var e,o,n,r=se(a);function a(){var t;return ie(this,a),(t=r.apply(this,arguments)).hasReport=0,t.reasons=it,t.reasonVal=-1,t.isReportStatusChecking=!1,t.visibleDialogCb=!1,t.visibleDialogValidate=!1,t.errno="0",t.visible=!1,t.showAlertModal=!1,t.showConfirmModal=!1,t}return e=a,(o=[{key:"handleVisible",value:function(t,e){t&&(this.handleWithLogin(),this.reasonVal=-1)}},{key:"confirmReport",value:function(t){-1!==t&&(this.postVipReport(t),this.visibleDialogValidate=!1)}},{key:"handleChecked",value:function(t){this.reasonVal=t}},{key:"handelSubmit",value:function(){var t=this,e=this.reasonVal;if(-1!==e){if(9===e){var o="https://wenku.baidu.com/report?doc_id=".concat(this.docId);window.open(o)}else{this.isReportStatusChecking=!0;var n={doc_id:this.docId,ct:20116,report_reason:e};8==+e&&(n.extra_info="noURL"),i.$.ajax({url:"/report/submit/reportSubmit",data:n,type:"POST",dataType:"json",success:function(e){t.submitCallBack(e),t.isReportStatusChecking=!1}})}this.visible=!1,this.$emit("update:showReportPop",!1)}}},{key:"postVipReport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this,o=this.docId,n=this.reasonVal;this.isReportStatusChecking=!0;var r={doc_id:o,ct:20116,report_reason:n,extra_info:"noURL",pin:t};i.$.ajax({url:"/report/submit/reportSubmit",data:r,type:"POST",dataType:"json",success:function(t){e.submitCallBack(t),e.isReportStatusChecking=!1}})}},{key:"handleCancel",value:function(){this.visible=!1,this.$emit("update:showReportPop",!1)}},{key:"handleWithLogin",value:function(){var t=this,e=this.isLogin,o=this.hasReport;e?0!=+o?this.submitCallBack({errno:o}):this.checkReportStatus((function(e){return t.checkCallBack(e)})):ue.log()}},{key:"checkReportStatus",value:function(t){if(!this.isReportStatusChecking){var e=this;this.isReportStatusChecking=!0;var o=this.docId;i.$.ajax({url:"/report/interface/reportPreCheck",data:{doc_id:o},type:"POST",dataType:"json",success:function(o){t(o),e.isReportStatusChecking=!1}})}}},{key:"checkCallBack",value:function(t){var e=t.errno,o=t.isGreenPassport;this.errno=e,0==+e?1==+o?this.showVipPop():this.showPop():this.showDialogCb(+e)}},{key:"showVipPop",value:function(){this.hasReport||(this.showConfirmModal=!0)}},{key:"showPop",value:function(){this.visible=!0}},{key:"submitCallBack",value:function(t){var e=t.errno,o=t.isGreenPassport;this.errno=e,0==+e?1==+o?this.showAlertModal=!0:this.showDialogCb(+e):67==+e||68==+e?this.visibleDialogValidate=!0:this.checkCallBack(t)}},{key:"showDialogCb",value:function(t){this.visibleDialogCb=!0}},{key:"closeReportCbPop",value:function(){this.visibleDialogCb=!1,this.$emit("update:showReportPop",!1)}},{key:"closeValidatePop",value:function(){this.visibleDialogValidate=!1,this.$emit("update:showReportPop",!1)}},{key:"closeModal",value:function(t){"alert"===t?this.showAlertModal=!1:this.showConfirmModal=!1,this.$emit("update:showReportPop",!1)}},{key:"handleToDetailedReport",value:function(){var t=this.docId,e="https://wenku.baidu.com/report?doc_id=".concat(t);window.open(e)}}])&&re(e.prototype,o),n&&re(e,n),a}(s.Vue);Object(a.a)([Object(s.Prop)()],pe.prototype,"docInfo2019",void 0),Object(a.a)([Object(s.Prop)()],pe.prototype,"docId",void 0),Object(a.a)([Object(s.Prop)()],pe.prototype,"isLogin",void 0),Object(a.a)([Object(s.Prop)()],pe.prototype,"showReportPop",void 0),Object(a.a)([Object(s.Watch)("showReportPop")],pe.prototype,"handleVisible",null);var de=pe=Object(a.a)([Object(s.Component)({components:{"ui-dialog":vt,DialogCb:Pt,DialogValidate:Rt,AlertModal:Ut,ConfirmModal:te}})],pe),fe=(o(716),Object(g.default)(de,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"doc-report-wrap"},[o("DialogCb",{attrs:{visible:t.visibleDialogCb,errno:t.errno},on:{closeReportCbPop:t.closeReportCbPop}}),t._v(" "),o("DialogValidate",{attrs:{visible:t.visibleDialogValidate,errno:t.errno,docInfo2019:t.docInfo2019},on:{closeValidatePop:t.closeValidatePop,confirmReport:t.confirmReport}}),t._v(" "),o("ui-dialog",{attrs:{visible:t.visible,title:"此文档是否涉及以下问题？",width:"560",closeReportPop:t.handleCancel}},[o("template",{slot:"dialog-body"},[o("div",{staticClass:"dialog-body-wrap"},[o("form",{staticClass:"report-form",attrs:{target:"_blank"}},[o("div",{staticClass:"report-reason-all"},t._l(t.reasons,(function(e){return o("div",{key:e.value},[o("input",{attrs:{type:"radio",name:"report-reason",id:"report-reason-"+e.value,hidefocus:"true"},domProps:{value:e.value,checked:t.reasonVal===e.value},on:{click:function(o){return t.handleChecked(e.value)}}}),t._v(" "),o("label",{attrs:{for:"report-reason-"+e.value}},[t._v("\n                                "+t._s(e.text)+"\n                            ")])])})),0),t._v(" "),o("div",{staticClass:"conclusion"},[t._v("此文档是否涉及侵权？")]),t._v(" "),o("div",[o("input",{attrs:{type:"radio",value:"9",name:"report-reason",id:"report-reason-9",hidefocus:"true"},domProps:{checked:9===t.reasonVal},on:{click:function(e){return t.handleChecked(9)}}}),t._v(" "),o("label",{attrs:{for:"report-reason-9"}},[o("span",{staticClass:"stress"},[t._v("\n                                盗版或侵权\n                            ")]),t._v("\n                            未获得权利人的合法授权、侵犯个人隐私或泄露单位商业机密\n                        ")])]),t._v(" "),o("div",{staticClass:"report-item-child",style:{display:9===t.reasonVal?"block":"none"}},[o("div",[t._v("\n                            处理此类举报需要您提供更多信息，请按引导\n                            "),o("span",{staticClass:"link-to-detailed-report",on:{click:t.handleToDetailedReport}},[t._v("\n                                上传相关材料\n                            ")]),t._v("，这样会有助您成功举报。\n                        ")])])])])]),t._v(" "),o("template",{slot:"dialog-foot"},[o("div",{staticClass:"dialog-btns-wrap"},[o("div",{staticClass:"btn-submit",class:-1===t.reasonVal?"disabled":"",on:{click:t.handelSubmit}},[t._v("\n                    "+t._s(9===t.reasonVal?"上传材料":"提交")+"\n                ")]),t._v(" "),o("div",{staticClass:"btn-cancel",on:{click:t.handleCancel}},[t._v("取消")])])])],2),t._v(" "),o("AlertModal",{attrs:{content:"快速举报成功！",visible:t.showAlertModal},on:{closeModal:t.closeModal}}),t._v(" "),o("ConfirmModal",{attrs:{title:"举报确认",content:"您是否确认举报该文档为盗版？",onConfirm:t.postVipReport,visible:t.showConfirmModal},on:{closeModal:t.closeModal}})],1)}),[],!1,null,"d4923516",null).exports),ve=o(456),he=o(455),be=o(15),ge=(o(29),o(135)),me=o(598),ye=o(595),_e=o(600),we=o(599);function Oe(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Ce(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(o),!0).forEach((function(e){Pe(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Oe(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Pe(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var je=new oe.a,Ie={components:{CoreBtn:he.a,DocClaim:nt,DocReport:fe,Share:ve.a,CollectionDialog:me.a,ClientBtn:ye.a,AppBtn:_e.a,DocTool:we.a},data:function(){return{showClaimPop:!1,showShareTipDocInfo:!1,showReportPop:!1,shareType:"",from:"docInfo",downloader:void 0,appBtnShow:!1,shareInfo:{source:"",from:"docInfo",cPosition:"absolute",direction:"bottom",zIndex:151,docId:""}}},computed:Ce(Ce(Ce(Ce({},Object(n.mapState)(["scrollObject","pageData","isLogin","newGuideStep","isNewGuide"])),Object(n.mapGetters)(["docInfo2019","docId","wkSmallflow","isVip","isSecret"])),Object(n.mapGetters)("docInfo",["isTitleDoc"])),{},{curDocInfo:function(){return this.docInfo2019.doc_info},collect:function(){return this.curDocInfo.is_inroom||0},showReportBtn:function(){this.pageData.docInfo2019.is_copyright;return(2==+this.curDocInfo.main_status||this.isSecret)&&0===this.curDocInfo.is_creater},showCloudStorageBtn:function(){var t=this.docInfo2019.doc_info.doc_type;return!(+t!==L.a.TICKET&&+t!==L.a.VIP_RIGHT||this.isSecret||this.isTitleDoc)},showConvertBtn:function(){return+this.docInfo2019.doc_info.doc_type!==L.a.CASH&&!this.isSecret||(this.setNewGuideStep(2),!1)},showDocClaimBtn:function(){var t;return!(1==+this.curDocInfo.is_creater||1==+(null===(t=this.docInfo2019)||void 0===t?void 0:t.is_copyright))&&!this.isSecret},showEditBtn:function(){var t=this.curDocInfo||{},e=this.pageData.reader_type;return!(t.modifyLock||1==+t.main_status||1==+t.is_legion_doc||!t.is_creater||"reader_html_editor"===e&&!t.editorDocId||this.isSecret)},isCreater:function(){return 1==+this.pageData.docInfo2019.doc_info.is_creater},distributionType:function(){L.a.TICKET;var t=L.a.CASH,e=L.a.VIP_RIGHT,o=(L.a.PRIVATE,this.docInfo2019.doc_info);return o.doc_type===t||o.doc_type===e}}),mounted:function(){var t,e,o;this.downloader=ge.a.createDownload(),this.appBtnShow=((null===(t=this.$refs)||void 0===t||null===(e=t.coreBtn)||void 0===e||null===(o=e.$el)||void 0===o?void 0:o.offsetWidth)||0)<305},methods:Ce(Ce({},Object(n.mapMutations)(["setNewGuideStep"])),{},{closeClaimPop:function(t){this.showClaimPop=!1},gotoCopyright:function(){this.isLogin?this.showClaimPop=!0:je.log()},collectDoc:function(){this.$refs.collectDialog.handleCollection()},shareDoc:function(){var t=Object(i.$)("#doc-info-share-btn"),e=t.offset(),o=t.height(),n=t.width(),r=e&&"number"==typeof o?e.top+o:-9999,a=e&&"number"==typeof n?e.left-(156-n)/2:-9999;if(this.shareInfo={source:t,from:this.from,cPosition:"absolute",direction:"bottom",cTop:r,cLeft:a,zIndex:202,docId:this.docId},this.distributionType){if(!this.isLogin)return void je.log();this.shareType="distribution",this.showShareTipDocInfo=!0}else this.shareType="normal",this.showShareTipDocInfo=!this.showShareTipDocInfo},closeShareTip:function(){this.showShareTipDocInfo=!1},reportEvent:function(){r.log.xsend(102305),this.showReportPop=!0},gotoCloudStorage:function(){if(r.log.xsend(101838,{from:this.from}),this.isVip)this.downloader.dump({from:"docHeadInfo_docBtns"});else{var t={location:"docBtns.wangpan",ext:"ReaderTopToolbarTransWangpan"};if(Object(D.h)(t))return;var e=Object(be.c)(be.a.VIP,t);location.href=e}},gotoEdit:function(){var t=this.curDocInfo||{},e=this.docId;if("reader_html_editor"===this.pageData.reader_type){var o="https://wenku.baidu.com/user/browse/editordoc?"+i.$.param({id:t.editorDocId,fr:"view"});window.open(o)}else window.open("https://wenku.baidu.com/new?act=update&id=".concat(e,"&fr=view"))},gotoConvert:function(){this.isLogin?window.open("https://wenku.baidu.com/user/browse/huixueconvert?cc=view_TopToolbar_convert"):je.log()},nextStep:function(){this.setNewGuideStep(2)}}),watch:{scrollObject:function(t){var e=t.top;if("distribution"!==this.shareType){var o=Object(i.$)(".header-wrapper");e>(Object(i.$)(".doc-info-wrapper").offset()||{top:0}).top+Number(o.height())-50&&(this.showShareTipDocInfo=!1)}}}},xe=(o(717),Object(g.default)(Ie,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"doc-btns-wrap"},[o("CoreBtn",{ref:"coreBtn",attrs:{from:"summary","father-comp":"docHeadInfo.docBtns"}}),t._v(" "),t.isSecret?t._e():o("div",{staticClass:"small-btn collect-btn",on:{click:t.collectDoc}},[o("i",{staticClass:"collect-icon",class:t.collect?"has-collect":"not-collect"}),t._v(" "),o("span",[t._v("收藏")])]),t._v(" "),t.isSecret?t._e():o("div",{staticClass:"small-btn share-btn",attrs:{id:"doc-info-share-btn"},on:{click:t.shareDoc}},[o("i",{staticClass:"share-icon"}),t._v(" "),o("span",[t._v("分享")])]),t._v(" "),t.showCloudStorageBtn?o("div",{staticClass:"small-btn cloud-storage-btn",on:{click:t.gotoCloudStorage}},[o("i",{staticClass:"cloud-storage-icon"}),t._v(" "),o("span",[t._v("转存")])]):t._e(),t._v(" "),t.showConvertBtn?o("DocTool",{attrs:{"new-guide-step":t.newGuideStep,"is-new-guide":t.isNewGuide},on:{nextStep:t.nextStep}}):t._e(),t._v(" "),t.showReportBtn?o("div",{staticClass:"small-btn report-btn",class:{mgl30:t.isSecret&&!t.isCreater},attrs:{"data-has-report":"0"},on:{click:t.reportEvent}},[o("i",{staticClass:"report-icon"}),t._v(" "),o("span",[t._v("举报")])]):t._e(),t._v(" "),t.showDocClaimBtn?o("div",{staticClass:"small-btn copyright-btn",on:{click:t.gotoCopyright}},[o("i",{staticClass:"copyright-icon"}),t._v(" "),o("span",[t._v("认领")])]):t._e(),t._v(" "),t.showEditBtn?o("div",{staticClass:"small-btn edit-btn",class:{mgl30:t.isSecret},on:{click:t.gotoEdit}},[o("i",{staticClass:"edit-icon"}),t._v(" "),o("span",[t._v("修改")])]):t._e(),t._v(" "),t.appBtnShow?o("AppBtn",{attrs:{"is-convert-show":t.showConvertBtn}}):t._e(),t._v(" "),o("ClientBtn",{attrs:{"is-convert-show":t.showConvertBtn,location:"docHeadInfo"}}),t._v(" "),o("Share",{attrs:{"share-info":t.shareInfo,visible:t.showShareTipDocInfo,"share-type":t.shareType},on:{closeShareTip:t.closeShareTip}}),t._v(" "),o("DocReport",{attrs:{"is-login":t.isLogin,"doc-id":t.docId,"doc-info2019":t.docInfo2019,"show-report-pop":t.showReportPop},on:{"update:showReportPop":function(e){t.showReportPop=e},"update:show-report-pop":function(e){t.showReportPop=e}}}),t._v(" "),o("DocClaim",{attrs:{visible:t.showClaimPop},on:{closeClaimPop:t.closeClaimPop}}),t._v(" "),o("CollectionDialog",{ref:"collectDialog",attrs:{from:"docInfo"}})],1)}),[],!1,null,null,null).exports);function Se(t){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Te(t,e){return(Te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Re(t);if(e){var i=Re(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Ve(this,o)}}function Ve(t,e){return!e||"object"!==Se(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Te(t,e)}(a,t);var e,o,n,i=Ee(a);function a(){return ke(this,a),i.apply(this,arguments)}return e=a,(o=[{key:"cancel",value:function(){r.log.xsend(102535)}},{key:"comfirm",value:function(){r.log.xsend(102536),r.log.xsend(102741,{pos:"docVoucherDialog",idx:1});var t=Object(be.c)(be.a.VIP,{location:"docHeadInfo.docPriceVoucher.dialog",ext:"ViewDrawVoucherDialog"});window.location.href=t}}])&&De(e.prototype,o),n&&De(e,n),a}(s.Vue);Object(a.a)([Object(s.Prop)(Boolean)],Ae.prototype,"visible",void 0),Object(a.a)([Object(s.Prop)(Object)],Ae.prototype,"voucher",void 0),Object(a.a)([Object(s.Emit)("closeUiDialog")],Ae.prototype,"cancel",null),Object(a.a)([Object(s.Emit)("closeUiDialog")],Ae.prototype,"comfirm",null);var Le=Ae=Object(a.a)([Object(s.Component)({filters:{formatMoney:function(t){if(!t)return"";var e=t/100,o=t%100==0?0:t%10==0?1:2;return isNaN(e)?"":e.toFixed(o)}}})],Ae),Ne=(o(718),Object(g.default)(Le,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"vip-dialog-wrap"},[o("div",{staticClass:"dialog-mask"}),t._v(" "),o("div",{staticClass:"vip-dialog-content"},[o("div",{staticClass:"btn-close",on:{click:t.cancel}}),t._v(" "),o("div",{staticClass:"voucher-type"},[o("p",{staticClass:"voucher-price"},[o("em",[t._v("￥")]),t._v(" "),o("span",[t._v(t._s(t._f("formatMoney")(t.voucher.price)))])])]),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"vip-dialog-btns"},[o("div",{staticClass:"btn cancel",on:{click:t.cancel}},[t._v("放弃优惠")]),t._v(" "),o("div",{staticClass:"btn comfirm",on:{click:t.comfirm}},[t._v("开通VIP")])])])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vip-dialog-text"},[e("p",[this._v("您还不是VIP，开通VIP使用VIP专属代金券")]),this._v(" "),e("p",[this._v("还可享受"),e("em",[this._v("100元代金券大礼包")])])])}],!1,null,"81a872b2",null).exports),Ge=o(457),$e=o(596),Me=o(103),Be=o(448);function Fe(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function He(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Fe(Object(o),!0).forEach((function(e){Ue(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Fe(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Ue(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var ze=new oe.a,We={filters:{formatMoney:D.c},computed:He(He(He(He(He({},Object(n.mapState)(["isLogin"])),Object(n.mapState)("priceInfo",["payPriceShow","shopVoucherInfo"])),Object(n.mapGetters)(["docId"])),Object(n.mapGetters)("priceInfo",["visibleCoupon"])),{},{couponTitle:function(){var t=this.shopVoucherInfo,e=t.priceType,o=t.voucherMoneyOff,n=t.voucherMoney,i=Object(D.c)(o),r=Object(D.c)(n);return 1==+e?"￥".concat(r,"代金券"):"满".concat(i,"减").concat(r)}}),mounted:function(){this.handleActsBeforeLogin()},methods:He(He({},Object(n.mapActions)("priceInfo",["drawCoupon"])),{},{handleActsBeforeLogin:function(){var t=this.isLogin,e=this.visibleCoupon;Be.a.hasAct("drawCoupon")&&t&&e&&this.excuteDrawCoupon()},clickCoupon:function(){r.log.xsend(102937),this.shopVoucherInfo.isDraw||(this.isLogin?this.excuteDrawCoupon():(Be.a.addAct("drawCoupon",{}),ze.log()))},excuteDrawCoupon:function(){this.drawCoupon().then((function(){Object(Me.a)({type:"success",content:"领取成功"}),Be.a.delAct("drawCoupon");var t=Object(be.c)(be.a.DOC,{location:"docHeadInfo.compCoupon",ext:"_coupon"});window.location.href=t})).catch((function(t){var e=t.status||{},o=e.msg,n=e.code;Object(Me.a)({type:"warning",content:o}),13!=+n&&14!=+n||setTimeout((function(){window.location.reload()}))}))}})},Ke=(o(719),Object(g.default)(We,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visibleCoupon?o("div",{staticClass:"coupon-wrap"},[o("div",{staticClass:"doc-price"},[o("div",{staticClass:"symbol"},[t._v("￥")]),t._v(" "),o("div",{staticClass:"amount"},[t._v("\n            "+t._s(t._f("formatMoney")(t.shopVoucherInfo.shopConfirmPrice))+"\n        ")]),t._v(" "),o("div",{staticClass:"coupon-price-text"},[t._v("券后价")]),t._v(" "),o("div",{staticClass:"coupon-price-amount"},[t._v("￥"+t._s(t.payPriceShow))])]),t._v(" "),o("div",{staticClass:"doc-coupon",class:{drawed:t.shopVoucherInfo.isDraw},on:{click:t.clickCoupon}},[o("div",{staticClass:"tag"},[t._v("店铺")]),t._v(" "),o("div",{staticClass:"text"},[t._v(t._s(t.couponTitle))]),t._v(" "),o("div",{staticClass:"divider"}),t._v(" "),o("div",{staticClass:"text"},[t._v("\n            "+t._s(t.shopVoucherInfo.isDraw?"已领取":"领取")+"\n        ")])])]):t._e()}),[],!1,null,"c76348fc",null).exports);function qe(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Ye(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(o),!0).forEach((function(e){Xe(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):qe(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Xe(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Je=new oe.a,Ze={data:function(){return{visibleDialog:!1,voucherList:[],voucher:{get_status:0,min_amount:"",price:""}}},components:{UiDialog:Ne,Promotion:Ge.a,CompCoupon:Ke,NewUserPromotion:$e.a},filters:{formatMoney:function(t){if(!t)return"";var e=t/100,o=t%100==0?0:t%10==0?1:2;return isNaN(e)?"":e.toFixed(o)}},computed:Ye(Ye(Ye(Ye(Ye({},Object(n.mapState)("priceInfo",["payPrice","payStrategyType","cashType"])),Object(n.mapState)(["isLogin"])),Object(n.mapGetters)("priceInfo",["price","promotionPrice","visiblePromotion","visibleCoupon","visibleNewUserPromotion"])),Object(n.mapGetters)(["docValueType","isVip","token","docInfo2019"])),{},{hasVoucher:function(){var t,e;return!(null===(t=this.docInfo2019)||void 0===t||null===(e=t.price_info)||void 0===e?void 0:e.high_price_doc)&&this.voucherList.length>0},visible:function(){var t=this.visiblePromotion,e=this.visibleVoucher,o=this.visibleCoupon,n=this.visibleNewUserPromotion;return e||t||o||n},visibleVoucher:function(){var t=this.hasVoucher,e=this.voucher,o=this.payStrategyType;return t&&e&&o===L.f.VIP_DISCOUNT}}),mounted:function(){var t=this.promotionPrice,e=this.visibleCoupon;"CASH"!==this.docValueType||t||e||"CASH_PACK"===this.cashType||this.initVoucher()},methods:{getVoucher:function(t){var e=this,o=this.isLogin,n=this.isVip;if(r.log.xsend(102533,{isLogin:o,isVip:n,getStatus:+t.get_status}),o)if(!+t.get_status||n){if(!+t.get_status){var a=this.token,s={page:3,module_id:3,voucher_type:t.voucher_type,platform:"pc",__token__:a};i.$.ajax({url:"/ndwelfare/api/getVoucher",type:"GET",data:s}).then((function(t){t&&t.status&&0==+t.status.code&&(e.voucher.get_status=2,n||(r.log.xsend(102534),e.visibleDialog=!0))})).catch((function(t){e.voucher.get_status=2,n||(r.log.xsend(102534),e.visibleDialog=!0)}))}}else{r.log.xsend(102741,{pos:"docVoucher",idx:1});var c=Object(be.c)(be.a.VIP,{location:"docHeadInfo.docPriceVoucher",ext:"ViewDrawVoucherCashier"});window.location.href=c}else Je.log()},initVoucher:function(){var t=this,e={page:3,price:this.payPrice};i.$.ajax({url:"/coupon/interface/getvoucherdrawinfo",type:"GET",data:e}).then((function(e){if(e&&e.data&&e.data&&e.data.voucher_list){var o=e.data.voucher_list;o[0]&&(r.log.xsend(102532),t.setDocInfoHeight(),t.voucherList=o,t.voucher=o[0]||{})}}))},setDocInfoHeight:function(){((this.docInfo2019.doc_info||{}).title||"").length<=24?Object(i.$)(".doc-info-wrapper").css({"min-height":210}):Object(i.$)(".doc-info-wrapper").css({"min-height":240})},goVoucherCenter:function(){window.open("/ndwelfare/browse/vouchercenter")},closeUiDialog:function(){this.visibleDialog=!1}}},Qe=(o(720),Object(g.default)(Ze,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"doc-price-voucher-wrap"},[o("NewUserPromotion",{attrs:{from:"summary"}}),t._v(" "),o("Promotion",{attrs:{from:"summary"}}),t._v(" "),t.visibleVoucher?[o("div",{staticClass:"doc-draw-voucher",class:{"draw-right-long":0!==t.voucher.get_status},on:{click:function(e){return t.getVoucher(t.voucher)}}},[o("div",{staticClass:"draw-left"},[t._v("\n                满"+t._s(t._f("formatMoney")(t.voucher.min_amount))+"减"+t._s(t._f("formatMoney")(t.voucher.price))+"\n            ")]),t._v(" "),0===t.voucher.get_status?o("div",{staticClass:"draw-right"},[t._v("领取")]):t.isVip?o("div",{staticClass:"draw-right"},[t._v("已领取")]):o("div",{staticClass:"draw-right"},[t._v("开通VIP")])]),t._v(" "),o("div",{staticClass:"go-voucher-center",on:{click:t.goVoucherCenter}},[t._v("\n            您还有百元代金券待领取\n            "),o("i",{staticClass:"range"})]),t._v(" "),o("UiDialog",{attrs:{visible:t.visibleDialog,voucher:t.voucher},on:{closeUiDialog:t.closeUiDialog}})]:t._e(),t._v(" "),o("CompCoupon")],2):t._e()}),[],!1,null,"70ea3396",null).exports);function to(t){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oo(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function no(t,e){return(no=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function io(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=ao(t);if(e){var i=ao(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return ro(this,o)}}function ro(t,e){return!e||"object"!==to(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ao(t){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var so=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&no(t,e)}(s,t);var e,o,n,a=io(s);function s(){var t;return eo(this,s),(t=a.apply(this,arguments)).visible=!1,t.leftDay=1,t.leftTicket=10,t.userType=1,t.userMsg={},t}return e=s,(o=[{key:"handleTipText",value:function(t,e){var o,n;(null===(o=this.docInfo2019)||void 0===o||null===(n=o.doc_info)||void 0===n?void 0:n.doc_type)===L.a.VIP_RIGHT&&this.isLogin&&this.handleData()}},{key:"mounted",value:function(){var t=this;this.$nextTick((function(){if(t.visible){Object(i.$)(".vip-card-wrap").show();var e=Object(i.$)(".tool-bar-wrapper");t.showToolBarVipPayPop||e.append(Object(i.$)(".vip-pop-wrap"))}else Object(i.$)(".vip-pop-wrap").remove()}))}},{key:"created",value:function(){var t,e,o,n;r.log.xsend(102605,{index:0,opType:(null===(t=this.docInfo2019)||void 0===t||null===(e=t.doc_info)||void 0===e?void 0:e.doc_type)===L.a.VIP_RIGHT?"pro":""}),(null===(o=this.docInfo2019)||void 0===o||null===(n=o.doc_info)||void 0===n?void 0:n.doc_type)===L.a.VIP_RIGHT&&this.isLogin&&this.handleData()}},{key:"handleData",value:function(){var t=this.vipInfo,e=void 0===t?{}:t,o=this.isVip,n=e.renewal_vip_info||{},i=n.jiaoyu_vip_info,r=n.pro_download_ticket_total,a=n.normal_download_ticket_total,s=(i||{}).expire_time,c=r+a;if(o){var l=i.left_day;c<=2?this.setData(c,"vipnopriv"):l<=7&&r>1&&a>1&&this.setData(c,"vip",l)}else if(e.is_new_user)this.setData(2,"newer");else if(s){var u=(new Date).getTime(),p=Math.ceil((u-1e3*s)/864e5);p<=10&&(r>0||a>0)&&this.setData(c,"notvip",p)}}},{key:"setData",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n={newer:{id:1,text:this.monthlyText,btnText:"开通VIP",topCode:"ViewproLifeInf_newer",btmCode:"ViewproLifeBtm_newer"},notvip:{id:2,text:"您的会员已过期".concat(o,"天，限时续费：剩余<span>").concat(t,"个</span>下载特权延时<span>30</span>天"),btnText:"立即续费",topCode:"ViewproLifeInf_notvip",btmCode:"ViewproLifeBtm_notvip"},vip:{id:3,text:"您的会员".concat(o,"天后到期，限时续费：剩余<span>").concat(t,"个</span>下载特权延时<span>30</span>天"),btnText:"立即续费",topCode:"ViewproLifeInf_vip",btmCode:"ViewproLifeBtm_vip"},vipnopriv:{id:6,text:"您的VIP文档下载特权剩余<span>".concat(t,"个</span>，限时续费年卡增<span>16个</span>"),btnText:"立即续费",topCode:"ViewproLifeInf_vipnopriv",btmCode:"ViewproLifeBtm_vipnopriv"}};this.leftDay=o||"",this.leftTicket=t,this.userMsg=n[e],this.visible=!0,"notvip"===e&&(this.userType=0);var i=n[e].id;r.log.xsend(102605,{userType:i,opType:"top"})}},{key:"gotoCashier",value:function(t,e,o){r.log.xsend(102606,{userType:e,opType:o}),r.log.xsend(102741,{pos:"docVipCard",idx:1});var n={location:"docHeadInfo.docVipCard",ext:t};if(!Object(D.h)(n)){var i=Object(be.c)(be.a.VIP,n);window.location.href=i}}},{key:"closeTip",value:function(t){r.log.xsend(102606,{userType:t,opType:"close"}),Object(i.$)(".vip-pop-wrap").css("display","none")}},{key:"showToolBarVipPayPop",get:function(){var t,e,o=(null===(t=window.pageData.wkSmallflow)||void 0===t||null===(e=t.testData)||void 0===e?void 0:e[11])||{};return(!this.isLogin||1===this.vipInfo.user_type)&&"3000"===o.toolBarVipEntrance}}])&&oo(e.prototype,o),n&&oo(e,n),s}(s.Vue);Object(a.a)([Object(s.Prop)()],so.prototype,"isLogin",void 0),Object(a.a)([Object(s.Prop)()],so.prototype,"docInfo2019",void 0),Object(a.a)([Object(s.Prop)()],so.prototype,"viewControl",void 0),Object(a.a)([Object(s.Prop)()],so.prototype,"vipInfo",void 0),Object(a.a)([Object(s.Prop)()],so.prototype,"isVip",void 0),Object(a.a)([Object(s.Prop)()],so.prototype,"monthlyText",void 0),Object(a.a)([Object(s.Watch)("monthlyText")],so.prototype,"handleTipText",null);var co=so=Object(a.a)([s.Component],so),lo=(o(721),Object(g.default)(co,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vip-card-wrap"},[o("div",{staticClass:"vip-card-inner",class:0===t.userType?"inner-novip":"inner-vip"},[o("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.userMsg.text)}}),t._v(" "),o("div",{staticClass:"vip-btn-wrap",on:{click:function(e){return t.gotoCashier(t.userMsg.topCode,t.userMsg.id,"top")}}},[t._v(t._s(t.userMsg.btnText)+" ")])]),t._v(" "),o("div",{staticClass:"vip-pop-wrap",class:0===t.userType?"inner-novip":"inner-vip",attrs:{"data-index":t.userMsg.id}},[o("span",{staticClass:"close-btn",on:{click:function(e){return t.closeTip(t.userMsg.id)}}}),t._v(" "),o("div",{staticClass:"vip-pop-inner"},[o("p",{staticClass:"text-wrap",domProps:{innerHTML:t._s(t.userMsg.text)}}),t._v(" "),o("div",{staticClass:"vip-btn-wrap",on:{click:function(e){return t.gotoCashier(t.userMsg.btmCode,t.userMsg.id,"bottom")}}},[t._v(t._s(t.userMsg.btnText))])])])])}),[],!1,null,null,null).exports),uo=o(7);o(446);function po(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function fo(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?po(Object(o),!0).forEach((function(e){vo(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):po(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function vo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var ho={filters:{parseNum:function(t){return D.a.parseNum(t)},parseSize:function(t){return D.a.parseSize(t)},parseSizeUnit:function(t){return D.a.parseSizeUnit(t)}},props:{docInfo2019:Object},data:function(){return{visibleSlide:!1,marginLeft:0,leftIdx:0,disabledL:!0,disabledR:!1,list:[],packIds:""}},computed:fo(fo({},Object(n.mapGetters)(["activity","giftInfo"])),{},{pcWenjiView:function(){try{return this.giftInfo.pcWenjiView}catch(t){return{}}}}),mounted:function(){this.getData()},methods:{giftSwitch:function(t){return+this.giftCount(t)>0&&this.activity&&1==+this.activity.isActivity},giftCount:function(t){var e=this.giftInfo.giftCount||{},o=e.rules,n=t[e.target]||0;if(!Array.isArray(o)||!n)return 0;for(var i=0;i<o.length;++i){var r=o[i];if(n>=+r.min&&n<+r.max)return+r.value}return 0},giftTitle:function(t){var e=this,o=this.pcWenjiView.title;return(void 0===o?"":o).replace(/\{\{(.+)\}\}/,(function(o,n){return n&&e.giftCount(t)||0}))},getData:function(){var t=this,e=this.docInfo2019.doc_info.show_doc_id;uo.wkAxios.get("/browse/interface/getdocpacklist",{params:{docId:e}}).then((function(e){var o=e&&e.docPackList||[];o.length>5&&(o=o.slice(0,5)),o=o.map((function(e){return e.giftTitle=t.giftTitle(e),e.giftSwitch=t.giftSwitch(e),e})),t.list=o,r.log.xsend(102618,{type:"show",id:t.getPackIds()}),t.disableSlides()})).catch((function(t){}))},getPackIds:function(){for(var t=this.list,e="",o=0;o<t.length;o++){e=e+","+(t[o].packId||"")}return e},mouseover:function(){this.visibleSlide=!0},mouseout:function(){this.visibleSlide=!1},disableSlides:function(){var t=this.leftIdx,e=this.list;this.disabledL=0===t,t>=e.length-2?this.disabledR=!0:this.disabledR=!1},goPre:function(){var t=this.leftIdx;if(0!==t){r.log.xsend(102619,{index:"pre"});var e=Object(i.$)(".package-content-wrapper"),o=Object(i.$)(".package-content-item:nth-child(".concat(t,")"),e),n=0,a=this.marginLeft;o.length&&(n=Number(o.outerWidth(!0)),this.leftIdx=t-1);var s=a+n;this.marginLeft=s>=0?0:s,this.disableSlides()}else this.disabledL=!0},goNext:function(){var t=this.leftIdx,e=this.list;r.log.xsend(102619,{index:"next"});if(t>=e.length-2)this.disabledR=!0;else{var o=Object(i.$)(".package-content-wrapper"),n=Object(i.$)(".package-content-item:nth-child(".concat(t+1,")"),o),a=0,s=this.marginLeft;n.length&&(a=Number(n.outerWidth(!0)),this.leftIdx=t+1);var c=s-a,l=Number(Object(i.$)(".package-content-slider-wrapper").width())-Number(Object(i.$)(".package-content-list").width());this.marginLeft=c<l?l:c,this.disableSlides()}},clickPackageContent:function(t){var e=t.packId;r.log.xsend(102618,{type:"click",id:e}),window.open("https://wenku.baidu.com/wenji/".concat(e,"?fr=pcreaderwj"))}}},bo=(o(722),Object(g.default)(ho,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.list.length>0?o("div",{staticClass:"package-content-wrapper",on:{mouseover:t.mouseover,mouseout:t.mouseout}},[o("div",{staticClass:"package-content-content"},[t._m(0),t._v(" "),o("div",{staticClass:"package-content-slider-wrapper"},[o("div",{staticClass:"package-content-list",style:{marginLeft:t.marginLeft+"px"}},t._l(t.list,(function(e,n){return o("div",{key:n,staticClass:"package-content-item",on:{click:function(o){return t.clickPackageContent(e)}}},[n<5?[o("div",{staticClass:"left"},[o("div",{staticClass:"cover",style:{backgroundImage:"url("+e.cover+")"}})]),t._v(" "),o("div",{staticClass:"right"},[o("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),o("div",{staticClass:"price"},[e.buyStatus?o("div",{staticClass:"has-buy"},[t._v("已购买")]):o("div",{staticClass:"price-box"},[o("div",{staticClass:"now-price"},[t._v("￥"+t._s(e.price))]),t._v(" "),e.giftSwitch?o("div",{staticClass:"gift-tip"},[t._v("\n                                        "+t._s(e.giftTitle)+"\n                                    ")]):t._e()])]),t._v(" "),o("div",{staticClass:"num"},[t._v(t._s(e.docNum)+"篇文档")])])]:t._e()],2)})),0)]),t._v(" "),t.visibleSlide&&t.list.length>2?o("div",[t.disabledL?t._e():o("div",{staticClass:"left-btn",on:{click:t.goPre}}),t._v(" "),t.disabledR?t._e():o("div",{staticClass:"right-btn",on:{click:t.goNext}})]):t._e()])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"package-content-title-wrapper"},[e("div",{staticClass:"package-content-title"},[this._v("\n                本文配套内容\n            ")])])}],!1,null,null,null).exports);function go(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function mo(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?go(Object(o),!0).forEach((function(e){yo(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):go(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function yo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var _o=new oe.a,wo={data:function(){return{isHiddenSize:!1,descVisible:!1}},computed:mo(mo(mo(mo(mo({},Object(n.mapState)(["isLogin","pageData","scrollObject","pureSmallflow"])),Object(n.mapGetters)(["docInfo2019","viewControl","vipInfo","isVip","isSecret","isPureGuide","isDownloadable","isShowWoniuTag","isZhenxuanDoc","pureModeTest"])),Object(n.mapState)("priceInfo",["payStrategyType","ispaied"])),Object(n.mapGetters)("goodInfo",["selectMonthlyConfig"])),{},{buyTipShowable:function(){return!this.ispaied&&this.isDownloadable},tags:function(){var t=this.docInfo2019;return t&&Array.isArray(t.tags)&&t.tags.length>0?t.tags:[]},onSendVipFlag:function(){var t,e,o,n,i=null===(t=this.docInfo2019)||void 0===t?void 0:t.price_info;return r.log.xsend(102895,{testid:null==i||null===(e=i.smallflow)||void 0===e?void 0:e.test_id,sale_price:null==i?void 0:i.pay_price,docid:null===(o=this.docInfo2019)||void 0===o||null===(n=o.doc_info)||void 0===n?void 0:n.show_doc_id}),this.payStrategyType===L.f.HIGH_PRICE&&this.buyTipShowable},docInfo:function(){var t=this.docInfo2019;return(null==t?void 0:t.doc_info)?t.doc_info:{title:"",show_doc_id:"",type:0,summary:"",is_creater:0,is_inroom:0,main_status:"",doc_type:0,is_vip_free_doc:!1,show_store_id:"",flag:"",page:"",cover_list:[]}},docTitle:function(){var t=this.docInfo2019,e="";return t&&t.doc_info&&t.doc_info.title&&(e=t.doc_info.title),e.length>49?e.substring(0,49):e},coverList:function(){return this.docInfo2019.cover_list},copyRightFlag:function(){return this.docInfo2019.copyright_flag||0},monthlyGoodsPriceTestText:function(){var t,e;return""!==(null===(t=this.selectMonthlyConfig)||void 0===t?void 0:t.text)?null===(e=this.selectMonthlyConfig)||void 0===e?void 0:e.text:"文库VIP新用户专享：首月仅需<span>16元</span>"}}),components:{DocTag:m,DocTypeIcon:y.a,DocSummary:A,DocBtns:xe,DocCover:K,DocPriceVoucher:Qe,DocVipCard:lo,DocPackageContent:bo},created:function(){var t=this.pageData.docInfo2019.tags,e=t.some((function(t){return 2!==t.type})),o=t.some((function(t){return 2===t.type}));e&&r.log.xsend(102298,{index:0}),o&&r.log.xsend(102298,{index:1})},methods:mo(mo({},Object(n.mapMutations)(["setPureExperience","setExperienceCount"])),{},{adjustSummaryLayout:function(){var t=Object(i.$)(".size-box"),e=t.offset().left+t.width(),o=Object(i.$)(".doc-info-right").offset().left;this.isHiddenSize=e>o},fullScreen:function(){var t=this.pureModeTest,e=this.isLogin;2===t?(e?Object(i.$)(window).trigger("on-full-screen"):(r.log.xsend(103071,{pureTest:t}),_o.log()),r.log.xsend(102307,{isPureMode:+this.pureSmallflow,pureTest:t})):1===t?(Object(i.$)(window).trigger("on-full-screen"),r.log.xsend(102307,{isPureMode:+this.pureSmallflow,pureTest:t})):(Object(i.$)(window).trigger("on-full-screen"),r.log.xsend(102307,{isPureMode:+this.pureSmallflow}))}})},Oo=(o(723),Object(g.default)(wo,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"no-full-screen"},[o("div",{staticClass:"doc-info-wrapper"},[t.isZhenxuanDoc?o("div",{staticClass:"s-logo"}):t._e(),t._v(" "),o("div",{staticClass:"doc-info-main",class:t.isZhenxuanDoc?"zx-info-main":""},[o("div",{staticClass:"doc-info-left"},[!t.isZhenxuanDoc&&(t.tags.length>0||t.isShowWoniuTag)?o("DocTag",{attrs:{tags:t.tags,"is-show-woniu-tag":t.isShowWoniuTag}}):t._e(),t._v(" "),o("div",{staticClass:"doc-title-wrap"},[o("DocTypeIcon",{attrs:{"type-name":t.docInfo.typeName}}),t._v(" "),o("h3",{staticClass:"doc-title"},[t._v(t._s(t.docTitle))])],1),t._v(" "),o("DocSummary",{attrs:{"is-hidden-size":t.isHiddenSize,"doc-info":t.docInfo,"is-secret":t.isSecret}}),t._v(" "),o("DocVipCard",{attrs:{"is-login":t.isLogin,"doc-info2019":t.docInfo2019,"view-control":t.viewControl,"vip-info":t.vipInfo,"is-vip":t.isVip,"monthly-text":t.monthlyGoodsPriceTestText}}),t._v(" "),o("DocPriceVoucher"),t._v(" "),t.onSendVipFlag?o("img",{staticClass:"doc-info-hvip",attrs:{src:"https://edu-wenku.bdimg.com/v1/pc/pc-send-vip-top-1602642033245.png"}}):t._e(),t._v(" "),o("DocBtns")],1),t._v(" "),o("div",{staticClass:"doc-info-right"},[o("DocCover",{attrs:{"cover-list":t.coverList,"doc-info2019":t.docInfo2019,"is-pure-guide":t.isPureGuide,"pure-smallflow":t.pureSmallflow},on:{fullScreen:t.fullScreen}})],1)]),t._v(" "),o("DocPackageContent",{attrs:{"doc-info2019":t.docInfo2019}})],1)])}),[],!1,null,null,null));e.a=Oo.exports},,,,,,function(t,e,o){"use strict";var n=o(6),i=o(189),r=o.n(i),a=o(1),s=o(0);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=v(t);if(e){var i=v(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return f(this,o)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(r,t);var e,o,n,i=d(r);function r(){return l(this,r),i.apply(this,arguments)}return e=r,(o=[{key:"nums",get:function(){for(var t=[],e=this.text,o=0;o<e.length;o++){var n=e[o];"."===n?t.push("p"):"亿"===n?t.push("y"):t.push(n)}return t}}])&&u(e.prototype,o),n&&u(e,n),r}(s.Vue);Object(a.a)([Object(s.Prop)(String)],h.prototype,"text",void 0),Object(a.a)([Object(s.Prop)(String)],h.prototype,"size",void 0);var b=h=Object(a.a)([s.Component],h),g=(o(653),o(5)),m=Object(g.default)(b,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"author-info-number",class:this.size},this._l(this.nums,(function(t,o){return e("div",{key:o,staticClass:"number-icon",class:"n-"+t})})),0)}),[],!1,null,null,null).exports,y=o(7),_=o(132),w=o.n(_),O=o(3),C=o(23),P=o.n(C),j=o(103);function I(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function x(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?I(Object(o),!0).forEach((function(e){S(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):I(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function S(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var k=new P.a,D={data:function(){return{shopGoodsNum:""}},components:{NumberCard:m},computed:x(x(x(x({},Object(n.mapState)(["isLogin"])),Object(n.mapGetters)(["creatorInfo","shopInfo","wkSmallflow","mixVipAndUserInfo"])),Object(n.mapGetters)("userInfo",["limitedInfo"])),{},{shopName:function(){return this.shopInfo.shop_name_show},shopFollow:function(){return this.creatorInfo.shop_follow},followShopText:function(){return+(this.shopFollow||{}).is_followed?"取消关注":"关注"},fansCnt:function(){return this.shopFollow.follow_count},isFollowed:function(){return!!+(this.shopFollow||{}).is_followed},shopLevelInfo:function(){return this.creatorInfo.level_info},level:function(){return(this.shopLevelInfo||{}).levelShow},levelText:function(){return(this.shopLevelInfo||{}).levelText},getUserType:function(){var t=this.mixVipAndUserInfo,e=t.userInfo,o=this.shopInfo;return!(!t||!e||(e.isPGC||e.isBGC||e.isAGC)&&!r.a.isPlainObject(o))}}),created:function(){var t=this,e=this.shopInfo;e&&e.shop_id_str&&y.wkAxios.get("/user/interface/shopgetgoodsgeneral",{params:{shopId:e.shop_id_str}}).then((function(e){t.shopGoodsNum=String(e.totalGoodsCount)})).catch((function(t){}))},mounted:function(){O.log.xsend(103154)},methods:x(x({},Object(n.mapMutations)(["setShopFollow"])),{},{excuteCheckLogin:function(t){this.isLogin?t():k.log()},followShop:function(){var t,e=this,o=this.shopInfo.shop_id_str,n=this.shopName,i=this.isFollowed;if(O.log.xsend(103155,{action:i?"unfollow":"follow"}),1!=+(null===(t=this.limitedInfo)||void 0===t?void 0:t.isLock))this.excuteCheckLogin((function(){var t={host:"/shop/".concat(o),page_name:n};i?y.wkAxios.post("/user/submit/deletefavourl",w.a.stringify(t)).then((function(){e.setShopFollow(!1)})):y.wkAxios.post("/user/submit/favourl",w.a.stringify(t)).then((function(t){e.setShopFollow(!0)}))}));else{var r,a=+(null===(r=this.limitedInfo)||void 0===r?void 0:r.lockDay);Object(j.a)({content:"对不起，你是受限用户（封禁"+(a>0?"天数".concat(a,"天"):"时间永久")+"）。"})}},toShop:function(t){O.log.xsend(103155,{action:"toShop",triggerFrom:t});var e=this.shopInfo.shop_id_str;window.open("/shop/".concat(e))},toShopMis:function(){O.log.xsend(103155,{action:"toShopMis"}),window.open("/shopmis")}})},T=(o(654),Object(g.default)(D,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:["shop-info-wrapper","shop-leve-"+t.level]},[o("div",{staticClass:"title-box"},[o("p",{staticClass:"title"},[t._v("\n            "+t._s(t.levelText)+"\n            "),t.getUserType?o("a",{staticClass:"apply-shop",attrs:{href:"https://wenku.baidu.com/ndcore/browse/register",target:"_blank"}},[t._v("申请开通店铺 "),o("span",[t._v(">")])]):t._e()])]),t._v(" "),o("div",{staticClass:"user-info"},[o("div",{staticClass:"avatar",style:t.shopInfo.logo?"background-image: url("+t.shopInfo.logo+")":""},[2==t.shopInfo.verify_status?o("div",{class:["shop-type","shop-type-"+t.shopInfo.verify_type]}):t._e()]),t._v(" "),o("div",{staticClass:"info"},[o("div",{staticClass:"nick-box"},[o("p",{staticClass:"shop-name",on:{click:function(e){return t.toShop("nameText")}}},[t._v("\n                    "+t._s(t.shopName)+"\n                ")]),t._v(" "),o("p",{staticClass:"shop-intro"},[t._v("\n                    "+t._s(t.shopInfo.introduction)+"\n                ")])])])]),t._v(" "),o("div",{staticClass:"property"},[o("div",{staticClass:"item item-goods"},[o("p",{staticClass:"title"},[t._v("商品")]),t._v(" "),""!==t.shopGoodsNum?o("NumberCard",{staticClass:"detail",attrs:{text:t.shopGoodsNum}}):t._e()],1),t._v(" "),o("div",{staticClass:"item"},[o("p",{staticClass:"title"},[t._v("粉丝")]),t._v(" "),o("NumberCard",{staticClass:"detail",attrs:{text:t.fansCnt}})],1),t._v(" "),o("div",{staticClass:"item"},[o("p",{staticClass:"title"},[t._v("等级")]),t._v(" "),o("NumberCard",{staticClass:"detail",attrs:{text:"Lv"+t.shopLevelInfo.level}})],1)]),t._v(" "),o("div",{staticClass:"card-action-box"},[t.shopFollow.is_own_shop?o("div",{staticClass:"btn-common",on:{click:t.toShopMis}},[t._v("\n            店铺后台\n        ")]):o("div",{staticClass:"btn-common",on:{click:t.followShop}},[t._v("\n            "+t._s(t.followShopText)+"\n        ")]),t._v(" "),o("div",{staticClass:"btn-common btn-shop",on:{click:function(e){return t.toShop("button")}}},[t._v("进入店铺")])])])}),[],!1,null,null,null).exports),E=o(4),V=o(13);function R(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function A(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?R(Object(o),!0).forEach((function(e){L(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):R(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function L(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var N=new P.a,G="0",$="1",M="2",B={data:function(){return{telHover:!1,followHover:!1}},components:{NumberCard:m},computed:A(A(A(A({},Object(n.mapState)(["pageData","isLogin"])),Object(n.mapGetters)(["docInfo","creatorInfo","shopInfo"])),Object(n.mapGetters)("userInfo",["limitedInfo"])),{},{docNumDes:function(){return V.a.formateNum(this.creatorInfo.doc_count)},followNumDes:function(){return V.a.formateNum(this.creatorInfo.follower_count)},followDs:function(){return this.haveFollowed?this.followHover?"取消关注":"已关注":"关注"},showTag:function(){var t=this.creatorInfo.utype;return t?t.substring(0,1).toLowerCase():""},haveFollowed:function(){return this.creatorInfo.have_followed===$},typeTitle:function(){return this.creatorInfo.typeTitle}}),methods:A(A({},Object(n.mapMutations)(["setCreatorInfoFollowerCount","setCreatorInfoHaveFollowed"])),{},{adjustNicknameTag:function(){var t=this;this.$nextTick((function(){var e=Object(E.$)(t.$refs.nickname).width();if((e=void 0===e?0:e)<126){var o=126-e+54;Object(E.$)(t.$refs.userInfoTag).removeClass("tag-maxw").css({maxWidth:o+"px"})}}))},avatarClicked:function(t){var e=this.creatorInfo,o=e.prove_url,n=e.utype;o&&"PGC"!==n||(o=this.generateUserLink()),o&&(window.open(o),!t&&O.log.xsend(102269,{utype:n}))},generateUserLink:function(){var t=this.creatorInfo,e=t.utype,o=t.uname;if(e&&o){var n=e.substring(0,1).toLowerCase();return"https://wenku.baidu.com/".concat(n,"/").concat(o,"?from=wenku")}return""},followAction:function(){var t,e=this;if(1!=+(null===(t=this.limitedInfo)||void 0===t?void 0:t.isLock))this.excuteCheckLogin((function(){var t=e.creatorInfo.have_followed;if(t!==M){O.log.xsend(102270,{utype:e.creatorInfo.utype,type:t===$?0:1});var o=t===$?"/user/submit/deletefavourl":"/user/submit/favourl";y.wkAxios.get(o,{params:{uid_str:e.creatorInfo.uid_str}}).then((function(o){if(o){var n=+e.creatorInfo.follower_count;t===$?(e.setCreatorInfoHaveFollowed(G),n-=1):(e.setCreatorInfoHaveFollowed($),n+=1),n<0&&(n=0),e.setCreatorInfoFollowerCount(n)}}))}}));else{var o,n=+(null===(o=this.limitedInfo)||void 0===o?void 0:o.lockDay);Object(j.a)({content:"对不起，你是受限用户（封禁"+(n>0?"天数".concat(n,"天"):"时间永久")+"）。"})}},userAction:function(){var t=this.creatorInfo,e=t.utype,o=t.show_auth;O.log.xsend(102276,{utype:e,type:o}),this.avatarClicked(!0)},telMouseEnter:function(){this.telHover=!0},telMouseLeave:function(){this.telHover=!1},followMouseEnter:function(){this.followHover=!0},followMouseLeave:function(){this.followHover=!1},excuteCheckLogin:function(t){this.isLogin?t():N.log()}})};o(655);function F(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function H(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?F(Object(o),!0).forEach((function(e){U(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):F(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function U(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var z={components:{Shop:T,Person:Object(g.default)(B,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"author-info-wrapper"},[o("div",{staticClass:"title-box"},[o("p",{staticClass:"title"},[t._v("关于作者")]),t._v(" "),t.creatorInfo.phone.length>0?[o("p",{staticClass:"contact",on:{mouseenter:t.telMouseEnter,mouseleave:t.telMouseLeave}},[t._v("\n                官方电话\n            ")]),t._v(" "),t.telHover?o("div",{staticClass:"tel-hover",on:{mouseenter:t.telMouseEnter,mouseleave:t.telMouseLeave}},[o("p",{staticClass:"telphone"},[t._v(t._s(t.creatorInfo.phone))])]):t._e()]:t._e(),t._v(" "),o("div",{staticClass:"line"})],2),t._v(" "),o("div",{staticClass:"user-info"},[o("div",{staticClass:"avatar",style:t.creatorInfo.avadar?"background-image: url("+t.creatorInfo.avadar+")":"",on:{click:t.avatarClicked}},[o("div",{class:["v-tag","v-tag-"+t.showTag]})]),t._v(" "),o("div",{staticClass:"info"},[o("div",{staticClass:"nick-box"},[o("p",{ref:"nickname",staticClass:"nickname",on:{click:t.userAction}},[t._v("\n                    "+t._s(t.creatorInfo.tname)+"\n                ")]),t._v(" "),t.creatorInfo.title?o("p",{ref:"userInfoTag",staticClass:"tag tag-maxw"},[t._v("\n                    "+t._s(t.creatorInfo.title)+"\n                ")]):t._e()]),t._v(" "),t.creatorInfo.verify_name.length>0?o("p",{staticClass:"subtitle"},[t._v("\n                "+t._s(t.creatorInfo.verify_name)+"\n            ")]):t._e()])]),t._v(" "),o("div",{staticClass:"property"},[o("div",{staticClass:"item"},[o("p",{staticClass:"title"},[t._v("文档")]),t._v(" "),o("NumberCard",{staticClass:"detail",attrs:{text:t.docNumDes}})],1),t._v(" "),o("div",{staticClass:"item"},[o("p",{staticClass:"title"},[t._v("粉丝")]),t._v(" "),o("NumberCard",{staticClass:"detail",attrs:{text:t.followNumDes}})],1),t._v(" "),o("div",{staticClass:"item"},[o("p",{staticClass:"title"},[t._v("等级")]),t._v(" "),o("NumberCard",{staticClass:"detail",attrs:{text:"Lv"+t.creatorInfo.level}})],1)]),t._v(" "),"2"!=t.creatorInfo.have_followed?o("div",{staticClass:"card-action-box"},[t.haveFollowed?o("div",{staticClass:"common followed",on:{click:t.followAction,mouseenter:t.followMouseEnter,mouseleave:t.followMouseLeave}},[t._v(t._s(t.followDs))]):o("div",{staticClass:"common unfollow",on:{click:t.followAction}},[t._v("\n            "+t._s(t.followDs)+"\n        ")]),t._v(" "),o("div",{staticClass:"common user-info",on:{click:t.userAction}},[t._v("\n            "+t._s(t.typeTitle)+"\n        ")])]):t._e()])}),[],!1,null,null,null).exports,ShopGoods:o(594).a},computed:H(H({},Object(n.mapGetters)(["creatorInfo","shopInfo","isShowWoniuTag"])),{},{showShop:function(){return this.shopInfo&&60==+this.shopInfo.shop_status}}),created:function(){this.isShowWoniuTag&&O.log.xsend(103079,{pos:"right",mode:"show"})},methods:{gotoWoniu:function(){O.log.xsend(103079,{pos:"right",mode:"click"}),window.open("https://snail.baidu.com/ndyanbao/browse/index")}}},W=(o(661),Object(g.default)(z,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"author-info"},[t.showShop?o("Shop"):t.creatorInfo?o("Person"):t._e(),t._v(" "),o("ShopGoods"),t._v(" "),t.isShowWoniuTag?o("div",{staticClass:"woniu-guide-card",on:{click:function(e){return t.gotoWoniu()}}}):t._e()],1)}),[],!1,null,"56221c84",null));e.a=W.exports},function(t,e,o){"use strict";var n=o(6),i=o(3),r=o(4),a=o(12),s=o(135),c=o(13);function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){p(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function p(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var d={computed:u(u({},Object(n.mapState)(["isIE"])),{},{styleObj:function(){return this.isIE?{background:"#fff"}:{}}})},f=(o(724),o(5)),v=Object(f.default)(d,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"hx-recom-wrapper",style:this.styleObj})}),[],!1,null,null,null).exports,h=o(457),b=o(606),g=o(15);function m(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function y(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?m(Object(o),!0).forEach((function(e){_(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function _(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var w={props:{restPageNum:Number,isCanRead:Boolean},data:function(){return{downloader:void 0,DOC_TYPE:a.a,expiredLimit:10,showed:!1}},mounted:function(){i.log.xsend(102726,{index:2}),this.downloader=s.a.createDownload()},computed:y(y(y(y({},Object(n.mapState)(["isLogin","screenMode","scrollObject"])),Object(n.mapGetters)(["vipInfo","isVip","wkSmallflow","docInfo2019","isDownloadable","ticketDocSubType","isOrgDownloadDisabled","isZhenxuanDoc","testData11"])),Object(n.mapGetters)("docInfo",["isTitleDoc"])),{},{downloadDocBtnText:function(){return this.isTitleDoc?"下载原文":"下载文档"},renewalVipInfo:function(){return this.vipInfo.renewal_vip_info},needRenew:function(){var t=this.renewalVipInfo;return+t.pro_download_ticket_total<=1&&+t.normal_download_ticket_total<=1},isVipExpired:function(){var t=this.vipInfo.renewal_vip_info.jiaoyu_vip_info||{},e=0;return t.expire_time&&(e=Math.ceil((+new Date-1e3*t.expire_time)/864e5)),!!(e>0&&e<=10)},isVipPopCompare:function(){var t;return"3601-4"===(null===(t=this.testData11)||void 0===t?void 0:t.floatingCashier)}}),watch:{"scrollObject.top":function(t){var e;if(!this.showed){var o=document.querySelector(".fold-page-btn");(null==o||null===(e=o.getBoundingClientRect())||void 0===e?void 0:e.top)<=Object(r.$)(window).height()&&(this.showed=!0,i.log.xsend(103190,{index:"vipPayPop-4"}))}}},methods:{goVip:function(t){var e=this.restPageNum,o=this.screenMode;i.log.xsend(103074,{docType:"vip_right",screenMode:o}),i.log.xsend(102725,{comp_type:this.isVipPopCompare?"".concat(t,"_vipPayPop-4"):t,index:this.isVipPopCompare?"2-vipPayPop-4":2});var n="ViewproDownloadFoldPageBtn2";this.isVipPopCompare&&(n+="_vipPayPop-4"),i.log.xsend(102741,{pos:"foldPageBtn",idx:1});var r={location:"foldPage.compBtn.".concat(e),ext:n};if(!Object(c.h)(r)){var a=Object(g.c)(g.a.VIP,r);window.location.href=a}},beginDownload:function(){i.log.xsend(102727),this.downloader.download({from:"foldPage.compBtn.".concat(this.restPageNum)})},vipDownload:function(){var t="TICKET_ZERO"===this.ticketDocSubType;this.isLogin||t?this.downloader.download({from:"foldPage_compBtn_".concat(this.restPageNum)}):this.gotoVip("download")},gotoVip:function(t){var e=this.restPageNum,o=this.screenMode;i.log.xsend(103074,{screenMode:o});var n="",r=this.isVip;n="download"===t?0===e?"view_bottom_download_add":"view_middle_download_add":r?0===e?"view_bottom_xfjy_fortime_search_newpage":"view_middle_xfjy_fortime_search_newpage":0===e?"view_bottom_joinVIP_search_newpage":"view_middle_joinVIP_search_newpage";var a={location:"foldPage.compBtn.".concat(e),ext:n};if(!Object(c.h)(a)){var s=Object(g.c)(g.a.VIP,a);location.href=s}}}},O=(o(726),Object(f.default)(w,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"fold-page-btn"},[t.isOrgDownloadDisabled?o("div",{staticClass:"btn btn-org-disabled"},[t._v("\n        店铺资源已下线\n    ")]):t.docInfo2019.doc_info.doc_type===t.DOC_TYPE.VIP_RIGHT?[t.isVip?[t.needRenew?[o("div",{staticClass:"btn join-vip",on:{click:function(e){return t.goVip("renew")}}},[t._v("\n                    续费VIP\n                ")])]:[t.isDownloadable?o("div",{staticClass:"btn download-btn-ticket",class:t.isZhenxuanDoc&&"full"!==t.screenMode?"zhenxuan-download-btn-ticket":"",on:{click:t.beginDownload}},[t._v("\n                    VIP专享下载\n                ")]):o("div",{staticClass:"btn download-btn-ticket btn-disabled"},[t._v("\n                    VIP专享下载\n                ")]),t._v(" "),o("div",{staticClass:"btn join-vip",on:{click:function(e){return t.goVip("renew")}}},[t._v("\n                    续费VIP\n                ")])]]:[0==t.restPageNum||t.isCanRead?[t.isDownloadable?o("div",{staticClass:"btn join-vip",on:{click:function(e){return t.goVip("join")}}},[t._v("\n                    加入VIP免费下载\n                ")]):o("div",{staticClass:"btn join-vip btn-disabled"},[t._v("\n                    加入VIP免费下载\n                ")])]:[o("div",{staticClass:"btn join-vip",on:{click:function(e){return t.goVip("join")}}},[t._v("\n                    加入VIP看全文\n                ")])]]]:t.docInfo2019.doc_info.doc_type===t.DOC_TYPE.TICKET?["TICKET"===t.ticketDocSubType?[o("div",{staticClass:"btn download-btn-ticket",on:{click:t.vipDownload}},[t._v("\n                VIP免券下载\n            ")]),t._v(" "),t.isVip?o("div",{staticClass:"btn join-vip",on:{click:function(e){return t.gotoVip("ticket")}}},[t._v("\n                续费VIP\n            ")]):t._e()]:"TICKET_ZERO"===t.ticketDocSubType?[o("div",{staticClass:"btn download-btn",on:{click:t.vipDownload}},[t._v("\n                "+t._s(t.downloadDocBtnText)+"\n            ")]),t._v(" "),t.isVip?o("div",{staticClass:"btn join-vip",on:{click:function(e){return t.gotoVip("ticket_zero")}}},[t._v("\n                续费VIP\n            ")]):o("div",{staticClass:"btn join-vip",on:{click:function(e){return t.gotoVip("ticket_zero")}}},[t._v("\n                加入VIP\n            ")])]:[o("div",{staticClass:"btn download-btn-vipticket",on:{click:t.vipDownload}},[t.isVip?[t._v("\n                    VIP免费下载\n                ")]:[t._v("\n                    加入VIP免费下载\n                ")]],2),t._v(" "),t.isVip?o("div",{staticClass:"btn join-vip",on:{click:function(e){return t.gotoVip("vip_free")}}},[t._v("\n                续费VIP\n            ")]):t._e()]]:t._e()],2)}),[],!1,null,null,null).exports);function C(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function P(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?C(Object(o),!0).forEach((function(e){j(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):C(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function j(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var I={data:function(){return{DOC_TYPE:a.a,expiredLimit:10}},computed:P(P(P(P({},Object(n.mapState)("vipInfo",["norDownTicketTotal","proDownTicketTotal","ticketTotal"])),Object(n.mapGetters)("goodInfo",["selectMonthlyConfig"])),Object(n.mapGetters)(["vipInfo","isVip","docInfo2019","priceInfo","ticketDocSubType","wkSmallflow"])),{},{docType:function(){return this.docInfo2019.doc_info.doc_type},isTicketDoc:function(){return+this.docType==+a.a.TICKET},isViprightDoc:function(){return+this.docType==+a.a.VIP_RIGHT},renewalVipInfo:function(){return this.vipInfo.renewal_vip_info||{}},needRenew:function(){return this.ticketTotal<=2},isBubbleFlag:function(){var t,e;return(null===(t=this.docInfo2019)||void 0===t||null===(e=t.doc_info)||void 0===e?void 0:e.doc_type)===a.a.TICKET&&(!("TICKET"!==this.ticketDocSubType||!this.isVip)||("TICKET_ZERO"===this.ticketDocSubType||!!this.isVip))},expiredDays:function(){var t=this.renewalVipInfo.jiaoyu_vip_info||{};if(t.expire_time){return Math.ceil((+new Date-1e3*t.expire_time)/864e5)}return 0},monthlyGoodsPriceTestText:function(){var t,e;return""!==(null===(t=this.selectMonthlyConfig)||void 0===t?void 0:t.topText)?null===(e=this.selectMonthlyConfig)||void 0===e?void 0:e.topText:"文库VIP新用户专享：首月仅需<b>16</b>元"}})},x=(o(727),Object(f.default)(I,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:["fold-page-tip",t.expiredDays>0&&t.expiredDays<=t.expiredLimit?"vip-expired-tip":""]},[o("div",{staticClass:"tip-wrap"},[t.isViprightDoc||t.isTicketDoc?[o("span",{class:["arrow",t.isVip&&!t.needRenew||t.isBubbleFlag?"arrow-right":""]}),t._v(" "),t.isVip?[t.needRenew?o("p",{staticClass:"tip-text"},[t._v("\n                    限时续费年卡：立赠"),o("b",[t._v("16")]),t._v("个VIP文档下载特权\n                ")]):o("p",{staticClass:"tip-text"},[t._v("\n                    限时续费: 剩余"+t._s(t.ticketTotal)+"下载特权延时"),o("b",[t._v("30天")])])]:[t.vipInfo.is_new_user?o("p",{staticClass:"tip-text",domProps:{innerHTML:t._s(t.monthlyGoodsPriceTestText)}}):t.expiredDays>0&&t.expiredDays<=t.expiredLimit?o("p",{staticClass:"tip-text"},[t._v("\n                    您的会员已过期"+t._s(t.expiredDays)+"天，限时续费：剩余"),o("b",[t._v(t._s(t.ticketTotal))]),t._v("个下载特权延时"),o("b",[t._v("30天")])]):o("p",{staticClass:"tip-text"},[o("span",{staticClass:"ic vip-ic"}),o("span",[t._v("VIP文档免费下")]),t._v(" "),o("span",{staticClass:"ic discount-ic"}),o("span",[t._v("付费文档8折购")]),t._v(" "),o("span",{staticClass:"ic trans-ic"}),o("span",[t._v("文档格式随意转")])])]]:t._e()],2)])}),[],!1,null,null,null).exports),S=o(605),k=o(192),D=o(104),T=o(29),E=o(23);function V(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function R(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?V(Object(o),!0).forEach((function(e){A(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):V(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function A(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var L=new(o.n(E).a),N={READ_ALL:1,VIP_RIGHT_NOT_VIP:2,NEED_PAY_NO:3,NEED_PAY_VIP:4,DISCOUNT_8_NO:5,DISCOUNT_8_VIP:6,VIP_RIGHT_VIP:7,PAY_COUPON:8,LIMIT_PAY_PROMOTION:9,NEW_USER_PROMOTION:10},G={components:{AdRecom:v,Promotion:h.a,FoldPageBtn:O,FoldPageTip:x,PayTextLink:b.a,VipPayPop:S.a,Copyright:k.a},filters:{formatMoney:c.c},data:function(){return R(R({downloader:void 0,showType:0},a.f),{},{height:a.c,priceShow:"",orginPriceShow:"",DOC_TYPE:a.a,SHOW_TYPE:N,vipPopDownloadShow:!1,oldUserToastShow:!1})},watch:{"clickFoldLogin.startTime":function(t){this.isLogin&&T.default.get("clickFoldLogin")===this.docId&&this.isCanRead&&this.unfold()}},computed:R(R(R(R(R(R(R({},Object(n.mapState)(["curLastPage","foldPage","isIE","isLogin","clickFoldLogin"])),Object(n.mapState)("priceInfo",["payStrategyType","payPriceShow","finalPriceShow","diffPriceShow","vipDiscountPriceShow","cashType","isPackage","isDiscountDoc","ishighPriceDoc","confirmPrice","confirmPriceShow","payPrice","shopVoucherInfo","ispaied"])),Object(n.mapState)("vipInfo",["norDownTicketTotal","proDownTicketTotal","ticketTotal"])),Object(n.mapGetters)(["isVip","docInfo2019","readerInfo2019","readallDownloadable","vipInfo","ticketDocSubType","testData11","docId","docType","isDownloadable"])),Object(n.mapGetters)("docInfo",["isTitleDoc"])),Object(n.mapGetters)("priceInfo",["payOrReadText","visiblePromotion","visibleCoupon","visibleNewUserPromotion"])),{},{proVipEndReadText:function(){return"阅读已结束，获取文档需"},payDocTiluText:function(){return this.isDiscountDoc?"¥".concat(this.payPriceShow,"VIP8折购买原文"):"￥".concat(this.confirmPriceShow,"购买原文")},endReadText:function(){return this.isTitleDoc?"下载文档，获取原文内容":"试读已结束， 剩余".concat(this.restPageNum,"页未读")},isShowVipPayPop:function(){var t;return["3601-1","3601-2","3601-3"].indexOf(null===(t=this.testData11)||void 0===t?void 0:t.floatingCashier)>-1},visible:function(){var t=this.showType,e=this.docType;return t===N.READ_ALL?!(this.restPageNum<=0&&e!==a.a.VIP_RIGHT&&e!==a.a.TICKET&&(e!==a.a.CASH||!this.isTitleDoc)):[a.a.CASH,a.a.VIP_RIGHT].indexOf(e)>=-1},restPageNum:function(){return+this.readerInfo2019.page-this.pageShowed},pageShowed:function(){var t=this.readerInfo2019,e=this.curLastPage;return 0===this.foldPage.unfold&&(e=+t.show_page<a.d?+t.show_page:a.d),e},isTryEnd:function(){var t=this.readerInfo2019,e=this.pageShowed;return+e==+t.show_page&&+e<+t.page},isCanRead:function(){return this.showType===N.READ_ALL||!this.isTryEnd},vip8Show:function(){var t="VIP8折",e=this.docInfo2019,o=this.isLogin;if(!this.isVip||!o){var n=+Object(c.c)(e.price_info.confirm_price),i=parseInt(String(.2*n*10),10)/10;t=i>1?"VIP立减".concat(i,"元"):"VIP立享8折"}return t},isTicketDoc:function(){return+this.docType==+a.a.TICKET},isViprightDoc:function(){return+this.docType==+a.a.VIP_RIGHT},isHighPriceVip:function(){return 1==+this.docInfo2019.doc_info.isVipHighPriceDoc}}),mounted:function(){Object(D.a)("vipPopDownload")&&(sessionStorage.removeItem("vipPopDownload"),this.vipPopDownloadShow=!0),Object(D.a)("vipPayPopLogin")&&(sessionStorage.removeItem("vipPayPopLogin"),this.oldUserToastShow=1!==this.vipInfo.user_type),this.registerDialogModal({modal:"vipPaySuccessDownloadPop",show:this.vipPopDownloadShow,showCallback:this.clickCoreBtn.bind(this,{from:"vipPayPopV2",fatherComp:"foldPage"})}),this.registerDialogModal({modal:"vipPayOldUserToast",show:this.oldUserToastShow,showCallback:this.$BusiToast.bind(this,{message:"您已不是新用户了，无法享受新用户福利"})});try{Object(r.$)(this.$refs.foldPageWrap)[0].style.filter=["progid:DXImageTransform.Microsoft.Gradient","(startColorstr=#7fffffff, endColorstr=#ffffffff)"].join("")}catch(t){console.log(t)}},methods:R(R(R(R({},Object(n.mapMutations)(["setFoldPageUnfold"])),Object(n.mapActions)(["clickCoreBtn"])),Object(n.mapActions)("dialogManage",["registerDialogModal"])),{},{unfold:function(){this.foldClickLog();var t=this.isCanRead,e=this.docType,o=(this.visiblePromotion,this.isViprightDoc),n=this.testData11,s={};if(null!=(null==n?void 0:n.wk2860)&&(s.wk2860=n.wk2860),t){var l=this.clickFoldLogin,u=l.startTime,p=l.endTime;if(u&&p&&!this.isLogin){var d=Object(c.d)(u,"start"),f=Object(c.d)(p,"end"),v=(new Date).getTime(),h=new Date(1*new Date+3e5);if(d<v&&v<f)return T.default.remove("scrollLogin",{path:"/"}),T.default.set("clickFoldLogin",this.docId,{path:"/",expires:h}),L.log(),void i.log.xsend(103043,{actPos:"click"})}var b=this.foldPage.unfold;this.setFoldPageUnfold(++b)}else{var m=this.docInfo2019.doc_info;if(!this.isVip&&(o||this.isHighPriceVip&&this.isLogin)){var y=Object(r.$)("html").is(".full-screen")?"ViewproFullscreenDownloadTry":"ViewproDownloadTry";i.log.xsend(102741,{pos:"foldPage",idx:1});var _={location:"foldPage.unfold",ext:y},w=Object(g.c)(g.a.VIP,_,s);return void(window.location.href=w)}var O=m.show_doc_id;if(s.id=O,e===a.a.CASH)return void this.clickCoreBtn({from:"tryReadEnd",fatherComp:"foldPage"});this.downloader.download({from:"foldPage_unfold"})}this.sendLog(!0)},foldClickLog:function(){var t=this.isCanRead;i.log.xsend(102738,{isCanRead:t})},sendLog:function(t){var e=t?102347:102346,o=(this.docInfo2019,this.isCanRead);i.log.xsend(e,{readall:this.showType===N.READ_ALL,isCanRead:o})},parseDataToLayout:function(){this.docInfo2019;var t=this.readerInfo2019,e=this.docType,o=this.isVip,n=this.isPackage,i=this.isDiscountDoc,r=this.visibleCoupon,s=this.visiblePromotion,c=this.visibleNewUserPromotion,l=this.confirmPrice,u=this.payPrice,p=this.cashType,d=0,f=0;+t.page==+t.show_page?this.showType=N.READ_ALL:e===a.a.VIP_RIGHT?this.showType=o?N.VIP_RIGHT_VIP:N.VIP_RIGHT_NOT_VIP:e===a.a.CASH&&(n&&!o?(this.showType=N.NEED_PAY_NO,d=l):s?(this.showType=N.LIMIT_PAY_PROMOTION,d=l,f=u):c?(this.showType=N.NEW_USER_PROMOTION,d=l,f=u):r?(this.showType=N.PAY_COUPON,d=l,f=u):i?o?(this.showType=N.DISCOUNT_8_VIP,d=l,f=u):(this.showType=N.DISCOUNT_8_NO,d=u):(this.showType=N.NEED_PAY_NO,d="CASH_VIP_VOUCHER"===p?l:u)),d&&(this.priceShow=d/100),f&&(this.orginPriceShow=f/100)}}),created:function(){this.parseDataToLayout(),this.downloader=s.a.createDownload(),this.visible&&this.sendLog(!1)}},$=(o(729),Object(f.default)(G,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"foldPageWrap",staticClass:"try-end-fold-page",class:{ie:t.isIE},staticStyle:{filter:"progid:DXImageTransform.Microsoft.Gradient(startColorstr=#7fffffff, endColorstr=#ffffffff)"},style:{minHeight:t.height+"px",marginTop:"-"+(2*t.height+51)+"px"}},[o("div",{staticClass:"fold-page-content"},[t.docType===t.DOC_TYPE.TICKET?[0===t.restPageNum?[o("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                    "+t._s(t.isTitleDoc?"下载文档，获取原文内容":"获取文档，使用更方便")+"\n                ")]),t._v(" "),"TICKET"===t.ticketDocSubType&&t.isVip?o("p",{staticClass:"info"},[t._v("\n                    (您持有 "),o("b",[t._v(t._s(t.ticketTotal||0))]),t._v(" VIP文档下载特权)\n                ")]):"TICKET_VIP_FREE"===t.ticketDocSubType&&t.isVip?o("p",{staticClass:"info"},[t._v("\n                    (VIP可享无限次下载特权)\n                ")]):t._e()]:t._e(),t._v(" "),o("FoldPageBtn",{attrs:{restPageNum:t.restPageNum,isCanRead:t.isCanRead}}),t._v(" "),o("FoldPageTip"),t._v(" "),0!==t.restPageNum&&t.isCanRead?o("div",{staticClass:"fold-page-text",on:{click:t.unfold}},[t._v("\n                剩余"+t._s(t.restPageNum)+"页未读，"),o("span",{staticClass:"read-all"},[t._v("继续阅读")])]):t._e()]:t.docType===t.DOC_TYPE.CASH?[t.isCanRead?[t.ispaied||"1-0"===t.readallDownloadable?t._e():o("PayTextLink"),t._v(" "),0!==t.restPageNum?o("div",{staticClass:"fold-page-text small-flow",on:{click:t.unfold}},[t._v("\n                    剩余"+t._s(t.restPageNum)+"页未读，"),o("span",{staticClass:"read-all"},[t._v("继续阅读")])]):t._e()]:o("div",{staticClass:"action-box",on:{click:t.unfold}},[t.payStrategyType!==t.HIGH_PRICE?[o("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                        "+t._s(t.endReadText)+"\n                    ")]),t._v(" "),o("p",{staticClass:"red-detail bottom-edge-small "},[t._v("\n                        ￥"+t._s(t.finalPriceShow)+" "+t._s(t.payOrReadText)+"\n                    ")]),t._v(" "),t.payStrategyType===t.PACKAGE?o("p",{staticClass:"sub-title"},[t._v("\n                        VIP首单免费\n                    ")]):t.payStrategyType!==t.VIP_DISCOUNT||t.isVip?+t.diffPriceShow>0?o("p",{staticClass:"sub-title discount"},[t._v("\n                        原价￥"+t._s(t.payPriceShow)+"\n                    ")]):t._e():o("p",{staticClass:"sub-title"},[t._v("\n                        "+t._s(t.vipDiscountPriceShow>1?"VIP立减"+t.vipDiscountPriceShow+"元":"VIP立享8折")+"\n                    ")])]:t.payStrategyType===t.HIGH_PRICE?[t._m(0),t._v(" "),o("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                        "+t._s(t.endReadText)+"\n                    ")])]:t._e()],2)]:t.docType===t.DOC_TYPE.VIP_RIGHT?[0===t.restPageNum?[o("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                    "+t._s(t.proVipEndReadText)+"\n                ")]),t._v(" "),o("p",{staticClass:"info"},[t._v("\n                    (您持有 "),o("b",[t._v(t._s(t.ticketTotal||0))]),t._v(" VIP文档下载特权)\n                ")])]:t.showType===t.SHOW_TYPE.VIP_RIGHT_NOT_VIP?o("div",{staticClass:"action-box",on:{click:t.unfold}},[o("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                    "+t._s(t.endReadText)+"\n                ")]),t._v(" "),t.isViprightDoc?t._e():o("p",{staticClass:"red-detail"},[t._v("\n                    加入VIP查看全文\n                ")])]):t.showType===t.SHOW_TYPE.VIP_RIGHT_VIP?o("div",[o("p",{staticClass:"title bottom-edge top-edge"},[t._v("\n                    "+t._s(t.endReadText)+"\n                ")])]):t._e(),t._v(" "),t.isShowVipPayPop?o("VipPayPop"):[o("FoldPageBtn",{attrs:{restPageNum:t.restPageNum,isCanRead:t.isCanRead}}),t._v(" "),o("FoldPageTip")],t._v(" "),0!==t.restPageNum&&t.isCanRead?o("div",{staticClass:"fold-page-text",on:{click:t.unfold}},[t._v("\n                剩余"+t._s(t.restPageNum)+"页未读，"),o("span",{staticClass:"read-all"},[t._v("继续阅读")])]):t._e()]:[t.isCanRead?o("div",{staticClass:"fold-page-text",on:{click:t.unfold}},[t._v("\n                剩余"+t._s(t.restPageNum)+"页未读，"),o("span",{staticClass:"read-all"},[t._v("继续阅读")])]):t._e()]],2),t._v(" "),o("AdRecom"),t._v(" "),o("Copyright")],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"high-price-doc"},[e("span",{staticClass:"discount"},[this._v("限时送")]),this._v(" "),e("span",{staticClass:"dis-desc"},[this._v("买就送百度文库VIP年卡")]),this._v(" "),e("span",{staticClass:"read-detail small-font"},[this._v("立省99元")])])}],!1,null,null,null));e.a=$.exports},function(t,e,o){"use strict";var n=o(6),i=o(3),r=o(4),a=o(1),s=o(0);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=v(t);if(e){var i=v(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return f(this,o)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(r,t);var e,o,n,i=d(r);function r(){var t;return l(this,r),(t=i.apply(this,arguments)).bgImgLoadStatus=0,t}return e=r,(o=[{key:"mounted",value:function(){this.setCover()}},{key:"onInfo",value:function(){this.setCover()}},{key:"setCover",value:function(){var t=this,e=this.info&&this.info.pic;if(e){var o=new Image;o.onerror=function(){t.bgImgLoadStatus=2},o.onload=function(){t.bgImgLoadStatus=1},o.src=e}}}])&&u(e.prototype,o),n&&u(e,n),r}(s.Vue);Object(a.a)([Object(s.Prop)(Object)],h.prototype,"info",void 0),Object(a.a)([Object(s.Prop)(Number)],h.prototype,"index",void 0),Object(a.a)([Object(s.Watch)("info")],h.prototype,"onInfo",null);var b=h=Object(a.a)([Object(s.Component)({})],h),g=(o(651),o(5)),m=Object(g.default)(b,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.info?o("div",{staticClass:"relative-recommend-item-horizontal"},[o("div",{staticClass:"cover-wrapper"},[t.info.pic?o("div",{staticClass:"cover",class:{default:2===t.bgImgLoadStatus},style:{backgroundImage:1===t.bgImgLoadStatus?"url("+t.info.pic+")":"none"}}):o("div",{staticClass:"cover default"})]),t._v(" "),o("div",{staticClass:"content"},[o("div",{staticClass:"title",domProps:{textContent:t._s(t.info.title)}}),t._v(" "),o("div",{staticClass:"state"},[o("div",{staticClass:"star"}),t._v(" "),o("div",{staticClass:"score",domProps:{textContent:t._s(t.info.scoreTag)}}),t._v(" "),o("div",{staticClass:"viewcount",domProps:{textContent:t._s(t.info.viewCountTag)}})])])]):t._e()}),[],!1,null,"6edfdfc0",null).exports,y=o(597),_=o(188);function w(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function O(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?w(Object(o),!0).forEach((function(e){C(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function C(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var P={computed:O(O(O({},Object(n.mapState)(["pageData"])),Object(n.mapGetters)(["docId","docInfo2019","relativeRecommendInfo"])),{},{visible:function(){var t=this.relativeRecommendInfo.otherLikeDoc;return!(!t||!r.$.isArray(t))&&(this.isHorizontal?t.length>=3:t.length>=5)},isHorizontal:function(){return _.a.validateRelativeDocViewStyleIsHorizontal(this.docInfo2019.doc_info.type)},docs:function(){var t=this.relativeRecommendInfo.otherLikeDoc;return t=_.a.validateRelativeDocs(t),this.isHorizontal?t.length>=12?t=t.slice(0,12):t.length>=9?t=t.slice(0,9):t.length>=6?t=t.slice(0,6):t.length>=3&&(t=t.slice(0,3)):t.length>=10?t=t.slice(0,10):t.length>=5&&(t=t.slice(0,5)),t}}),mounted:function(){var t;try{t=this.relativeRecommendInfo.expData[0],i.log.xsend(102236,{bigPic:!this.isHorizontal,readerId:this.docId,outExpId:t&&t.expId,recFrom:"pc_newview_relate"}),_.a.validateDocIsPGC(this.pageData)&&i.log.xsend(100725,{outExpId:t&&t.expId,recFrom:"pc_newview_relate"})}catch(e){t=""}},components:{RelativeRecommendItemHorizontal:m,RelativeRecommendItemVertical:y.a},methods:{clickRecommend:function(t,e){var o;try{o=t.expParam,i.log.xsend(102237,{bigPic:!this.isHorizontal,docId:t.doc_id,expName:o&&o.expName,expId:o&&o.expId,expSourceType:o&&o.expSourceType,expSourceStrId:o&&o.expSourceStrId,index:e+1,recFrom:"pc_newview_relate",seat:"bottom",outExpId:this.relativeRecommendInfo.expData[0].expId})}catch(t){o=""}_.a.validateDocIsPGC(this.pageData)&&i.log.xsend(100727);var n=Object(r.$)("#kw").data("keyword"),a=n?"//wenku.baidu.com/view/".concat(t.doc_id,".html?rec_flag=default&word=").concat(encodeURIComponent(n)):"//wenku.baidu.com/view/".concat(t.doc_id,".html?rec_flag=default");window.open(a)}}},j=(o(652),Object(g.default)(P,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"relative-recommend-wrapper"},[o("p",{staticClass:"topic"},[t._v("相关推荐")]),t._v(" "),o("div",{staticClass:"divider"}),t._v(" "),o("div",{staticClass:"relative-recommend-in-wrapper",class:{v:!t.isHorizontal}},t._l(t.docs,(function(e,n){return o("div",{key:n,staticClass:"item",on:{click:function(o){return t.clickRecommend(e,n)}}},[t.isHorizontal?o("RelativeRecommendItemHorizontal",{attrs:{info:e,index:n}}):o("RelativeRecommendItemVertical",{attrs:{info:e,index:n}})],1)})),0)]):t._e()}),[],!1,null,"eb8f2d6a",null));e.a=j.exports},function(t,e,o){"use strict";var n=o(6),i=o(4),r=o(453),a=o(3),s=o(29),c=o(604),l=o(445);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var o=[],n=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return p(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function d(t,e,o,n,i,r,a){try{var s=t[r](a),c=s.value}catch(t){return void o(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function f(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function v(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?f(Object(o),!0).forEach((function(e){h(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function h(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var b={data:function(){return{visible:!1,imgUrl:"",jumpUrl:"",rigsterShow:!1}},computed:v(v({},Object(n.mapGetters)(["skinViewStrategy"])),Object(n.mapState)(["eventBus"])),mounted:function(){this.getOperation()},methods:v(v({},Object(n.mapActions)("dialogManage",["registerDialogModal"])),{},{registerOperationDialog:function(){this.registerDialogModal({modal:"shopOperationDialog",show:this.rigsterShow,showCallback:this.openDialog.bind(this)})},getOperation:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){var o,n,i,r,p,d,f,v,h,b,g,m,y,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.getData();case 2:if(o=t.sent,n=e.skinViewStrategy,o[68])try{r=(null==o||null===(i=o[68])||void 0===i?void 0:i[0])||{},(p=null==r?void 0:r.contents)&&(d=JSON.parse(p||"{}"),f=(null==d?void 0:d.more_images)||[],v=u(f,2),h=v[0],b=void 0===h?{}:h,g=v[1],m=void 0===g?{}:g,n.topbar_big_pic_url=(null==m?void 0:m.url)||"",n.topbar_pic_url=(null==b?void 0:b.url)||"",n.topbar_jump_url=r.clickurl||"#",n.topbar_is_open=!0)}catch(t){console.log("dsp解析错误",t)}if(c.a.topOpVisible()&&n){t.next=8;break}return e.registerOperationDialog(),t.abrupt("return");case 8:n.topbar_is_open&&(y=n.topbar_big_pic_url,n.firstShow?y=n.topbar_pic_url:(s.default.set(n.key,1,{path:"/",expires:1}),setTimeout((function(){e.imgUrl=n.topbar_pic_url}),3e3)),_=n.topbar_jump_url,a.log.xsend(102318,{opType:"show",jumpUrl:_}),e.rigsterShow=!0,e.imgUrl=y,e.jumpUrl=_),e.registerOperationDialog();case 10:case"end":return t.stop()}}),t)})),function(){var e=this,o=arguments;return new Promise((function(n,i){var r=t.apply(e,o);function a(t){d(r,n,i,a,s,"next",t)}function s(t){d(r,n,i,a,s,"throw",t)}a(void 0)}))})()},openDialog:function(){this.visible=!0},clickBanner:function(){var t=this.jumpUrl;a.log.xsend(102318,{opType:"click",jumpUrl:t}),window.open(t)},handleClose:function(){this.visible=!1,a.log.xsend(102319)}})},g=(o(640),o(5)),m=Object(g.default)(b,(function(){var t=this.$createElement,e=this._self._c||t;return this.visible?e("div",{staticClass:"operate-wrapper"},[e("img",{attrs:{src:this.imgUrl},on:{click:this.clickBanner}}),this._v(" "),e("span",{staticClass:"link-close",on:{click:this.handleClose}})]):this._e()}),[],!1,null,null,null).exports,y=o(454);function _(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function w(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?_(Object(o),!0).forEach((function(e){O(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function O(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var C={components:{Operation:m,SearchBox:r.a,FixedActiveBar:y.a},data:function(){return{page:"_view2020_"}},computed:w(w(w({},Object(n.mapState)(["pageData","scrollObject","isLogin"])),Object(n.mapGetters)(["vipInfo","myShopInfo","mixVipAndUserInfo","docInfo2019","wkSmallflow","isZhenxuanDoc"])),{},{searchWords:function(){return this.docInfo2019.search_words},fixed:function(){var t,e=Number(Object(i.$)(this.$el).height());return(null===(t=this.scrollObject)||void 0===t?void 0:t.top)>e}}),methods:w(w({},Object(n.mapMutations)("goodInfo",["setPopGoodsList","setMonthlyConfig"])),{},{updatePopGoodsList:function(t){this.setPopGoodsList(t)},updateViewMonthlyConfig:function(t){this.setMonthlyConfig(t)}})},P=(o(641),Object(g.default)(C,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"header-wrapper no-full-screen",class:{"is-top":t.fixed,"new-header":!0}},[o("FixedActiveBar"),t._v(" "),o("Operation"),t._v(" "),o("SearchBox",{attrs:{"is-login":t.isLogin,page:t.page,"search-words":t.searchWords,small:t.fixed,"vip-info":t.vipInfo,"mix-vip-and-user-info":t.mixVipAndUserInfo,"my-shop-info":t.myShopInfo,"wk-smallflow":t.wkSmallflow,docinfo2019:t.docInfo2019,fr:"searchBox","is-zhenxuan-doc":t.isZhenxuanDoc},on:{"update-pop-goods-list":t.updatePopGoodsList,"update-view-monthly-config":t.updateViewMonthlyConfig}})],1)}),[],!1,null,null,null));e.a=P.exports},function(t,e,o){"use strict";var n=o(6);function i(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function r(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function a(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var s={data:function(){return{visible:!0}},computed:r(r({},Object(n.mapGetters)(["isVip"])),Object(n.mapState)(["eventBus"])),mounted:function(){var t=this;this.eventBus.on("removeAds",(function(){t.visible=!1}))},methods:{show:function(){this.isVip?this.eventBus.emit("removeAds"):this.eventBus.emit("initNoAdDialog")}}},c=(o(705),o(5)),l=Object(c.default)(s,(function(){var t=this.$createElement,e=this._self._c||t;return this.visible?e("div",{staticClass:"hx-bottom-wrapper"},[e("span",{staticClass:"vip",on:{click:this.show}},[this._v("\n        VIP去广告 "),e("span",{staticClass:"icon"})])]):this._e()}),[],!1,null,null,null);e.a=l.exports},,function(t,e,o){"use strict";var n,i=o(6),r=o(7),a=o(3),s=o(15),c=o(13);function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){p(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function p(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var d=18e5,f={data:function(){return{actionStatus:"",min:"30",sec:"00",canSend:!0,showVNAD:!1,showToast:!1}},computed:u({},Object(i.mapState)(["pageData","showNoAdDialog","isLogin","eventBus"])),mounted:function(){var t=this;this.eventBus.on("initNoAdDialog",(function(e){t.init()}))},methods:u(u({},Object(i.mapMutations)(["setShowNoAdDialog"])),{},{init:function(){this.isLogin?(this.countDown(),this.setShowNoAdDialog(!0),this.canSend=!0):this.toCashier()},countDown:function(){var t=this;n=setInterval((function(){if(d<0)return clearInterval(n),void t.handleClose();var e=new Date(d),o="".concat(e.getMinutes()),i="".concat(e.getSeconds());o.length<2&&(o="0".concat(o)),i.length<2&&(i="0".concat(i)),t.min=o,t.sec=i,d-=1e3}),1e3)},handleClose:function(){this.reset()},reset:function(){clearInterval(n),d=18e5},sendvoucherforvippromo:function(){return r.wkAxios.post("/goods/interface/sendvoucherforvippromo")},goToCashier:function(){var t=this;this.canSend&&this.sendvoucherforvippromo().then((function(){t.canSend=!1,t.showToast=!0,t.actionStatus="领取成功!",setTimeout((function(){t.showToast=!1,t.toCashier()}),3e3)})).catch((function(e){t.showToast=!0,e.status&&1==+e.status.code?(t.actionStatus="已领取!",setTimeout((function(){t.showToast=!0,t.toCashier()}),3e3)):(t.actionStatus="领取失败，请重试!",setTimeout((function(){t.showToast=!1,location.reload()}),3e5))}))},toCashier:function(){a.log.xsend(102741,{pos:"vipNoAdDialog",idx:1});var t={location:"vipNoAdDialog",ext:"adfree_joinvip"};if(!Object(c.h)(t)){var e=Object(s.c)(s.a.VIP,t);location.href=e}},closeDialog:function(){clearInterval(n),this.setShowNoAdDialog(!1)}})},v=(o(730),o(5)),h=Object(v.default)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.showNoAdDialog?o("div",[o("div",{staticClass:"pop-up-window"}),t._v(" "),o("div",{staticClass:"vip-pop-container"},[o("div",{staticClass:"pop-container"},[o("div",{staticClass:"close-dialog-btn",on:{click:t.closeDialog}}),t._v(" "),o("div",{staticClass:"coupon",on:{click:t.goToCashier}},[o("div",{staticClass:"title"},[t._v("10元VIP代金券")]),t._v(" "),o("div",{staticClass:"count-down-wrap"},[o("ul",{staticClass:"count-down-content clearfix"},[o("li",{staticClass:"hour count-0"}),t._v(" "),o("li",{staticClass:"xs"},[t._v("小时")]),t._v(" "),o("li",{staticClass:"min-1",class:"count-"+t.min[0]}),t._v(" "),o("li",{staticClass:"min-2",class:"count-"+t.min[1]}),t._v(" "),o("li",{staticClass:"fen"},[t._v("分")]),t._v(" "),o("li",{staticClass:"sec-1",class:"count-"+t.sec[0]}),t._v(" "),o("li",{staticClass:"sec-2",class:"count-"+t.sec[1]}),t._v(" "),o("li",{staticClass:"miao"},[t._v("秒")])])])]),t._v(" "),o("div",{staticClass:"get-coupon-btn",on:{click:t.goToCashier}},[t._v("\n                领取代金券并开通VIP，享纯净体验\n            ")]),t._v(" "),t._m(0),t._v(" "),t.showToast?o("div",{staticClass:"toast",domProps:{textContent:t._s(t.actionStatus)}}):t._e()])])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-group"},[e("div",{staticClass:"item item-1"},[e("i"),this._v("赠共享文档下载特权\n                ")]),this._v(" "),e("div",{staticClass:"item item-2"},[e("i"),this._v("享VIP专享文档下载特权\n                ")]),this._v(" "),e("div",{staticClass:"item item-3"},[e("i"),this._v("赠百度阅读VIP精品版\n                ")])])}],!1,null,"bf6de964",null);e.a=h.exports},function(t,e,o){"use strict";var n=o(6),i=o(3),r=o(4),a=(o(13),o(455)),s=o(186),c=o(593),l=o(458),u=o(15),p=o(7),d=o(23),f=o.n(d),v=o(12),h=o(196),b=o.n(h);function g(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function m(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?g(Object(o),!0).forEach((function(e){y(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function y(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var _=new f.a,w={data:function(){return{curPage:"1",pureScroll:0,resetScroll:!1,isTopbarFixed:!1,isFirstLongTagLog:!0,isFirstShotTagLog:!0,DOC_TYPE:v.a}},components:{DocTypeIcon:s.a,CoreBtn:a.a,UserGuideMask:l.a},computed:m(m(m(m({},Object(n.mapState)(["scrollObject","pageData","pureScrollNumber","screenMode","isLogin","pureSmallflow","newGuideStep","experienceCount","isNewGuide","experienceCount","isFromAladdin"])),Object(n.mapGetters)(["tplName","docInfo2019","readerInfo2019","isPureMode","isVip","isPureGuide","isZhenxuanDoc","pureModeTest","docType","zhenxuanDocTag"])),Object(n.mapGetters)("docInfo",["isTitleDoc"])),{},{curPageInputW:function(){return 9*String(this.curPage).length+15},visibleGotoPage:function(){return!this.isTitleDoc&&"html"!==this.pageData.tplName},pureTipVipVisible:function(){var t=this.pureScroll,e=this.pureScrollNumber,o=this.screenMode,n=this.isVip;return!this.isFromAladdin&&(t!==e&&(!("full"!==o||!n||!this.isPureGuide)&&(i.log.xsend(103073,{index:1,pureTest:this.pureModeTest}),!0)))},pureTipNotVipVisible:function(){var t=this.pureScroll,e=this.pureScrollNumber,o=this.screenMode,n=this.isVip,r=this.pureModeTest,a=this.experienceCount;return!this.isFromAladdin&&(2===r?t!==e&&(!!("full"===o&&!n&&this.isPureGuide&&a>0)&&(i.log.xsend(103073,{index:2,pureTest:r}),!0)):void 0)},isFullScreen:function(){return"full"===this.screenMode},pureBtnClass:function(){return{"pure-tool-btn":this.isPureGuide,"test-btn":2===this.pureModeTest}}}),watch:{scrollObject:function(t){this.bindOnScroll(t),this.bindOnPureScroll(t)},curPage:function(t,e){isNaN(t)&&t&&(this.curPage=e)},screenMode:function(t){"full"===t?this.fullScreen():"normal"===t&&(this.isVip||2!==this.pureModeTest||this.delPureExperice(),this.handleExitFullScreen())},isTopbarFixed:function(t){t?(this.isFirstLongTagLog&&i.log.xsend(103093,{index:2}),this.isFirstLongTagLog=!1):(this.isFirstShotTagLog&&i.log.xsend(103093,{index:1}),this.isFirstShotTagLog=!1)}},mounted:function(){var t=this.scrollObject,e=t.top,o=void 0===e?0:e,n=t.direction;this.bindOnScroll({top:o,direction:n}),this.bindOnFullScreen(),this.isTopbarFixed?(i.log.xsend(103093,{index:2}),this.isFirstLongTagLog=!0):(i.log.xsend(103093,{index:1}),this.isFirstShotTagLog=!1),this.isFromAladdin&&Object(r.$)(window).trigger("on-full-screen")},methods:m(m(m({},Object(n.mapMutations)(["setScreenMode","setNewGuideStep","setExperienceCount","setPureExperience"])),Object(n.mapMutations)("readerPlugin",["setVisible"])),{},{bindOnScroll:function(t){var e=t||{},o=e.direction,n=e.top,i=+this.curPage||1,a=i,s=document.getElementById("reader-container"),c=s?s.getBoundingClientRect():{bottom:0};if("down"===o){for(var l;l=document.getElementById("pageNo-".concat(a));){var u=Number(Object(r.$)(window).height()),p=l.getBoundingClientRect();if(u>p.top&&p.top>0&&Object(r.$)(l).is(":visible")&&c.bottom+5>p.bottom)break;a++}a=l?a:i}else if("up"===o){for(var d;d=document.getElementById("pageNo-".concat(a));){var f=Number(Object(r.$)(window).height()),v=d.getBoundingClientRect();if(f>v.top&&v.top>0&&Object(r.$)(d).is(":visible"))break;a--}a=d?a:i}if("full"===this.screenMode&&n<50&&(a=1),0===a&&(a=""),this.curPage=a,"full"!==this.screenMode){n>(Object(r.$)(".doc-info-wrapper .doc-title").offset()||{top:0}).top+25-60?Object(r.$)(".doc-title.normal-screen-mode").css({opacity:1}):Object(r.$)(".doc-title.normal-screen-mode").css({opacity:0});var h=Object(r.$)(".reader-wrap"),b=Object(r.$)(".reader-topbar"),g=h.offset()||{top:0},m=Number(Object(r.$)(".search-box-wrapper").height())||Number(Object(r.$)(".search-box-old-wrapper").height());n>g.top-m&&n<g.top+Number(h.height())?(b.css({position:"fixed",top:"".concat(m,"px"),"margin-top":0}),Object(r.$)("#reader-container").css({"padding-top":"45px"}),this.isTopbarFixed=!0):n>=g.top+Number(h.height())?b.css({"margin-top":"-".concat(b.height(),"px")}):n<g.top-m&&(b.css({position:"relative",top:"0px"}),Object(r.$)("#reader-container").css({"padding-top":0}),this.isTopbarFixed=!1)}},bindOnPureScroll:b.a.throttle((function(t){if(this.resetScroll)this.resetScroll=!1;else{var e=t||{},o=e.direction,n=(e.top,!1);Object(r.$)("#passport-login-pop")&&(n="block"===Object(r.$)("#passport-login-pop").css("display")),"full"===this.screenMode&&o&&(this.isLogin||n||this.isFromAladdin?this.pureScroll=1:(i.log.xsend(103071,{pureTest:this.pureModeTest}),_.log()))}}),300,{leading:!1}),bindOnFullScreen:function(){Object(r.$)(window).on("on-full-screen",r.$.proxy(this.fullScreen,this,"position-1"))},keyupCurPage:function(t){if(13!==t.keyCode){var e=t.target.value.replace(/\D/g,"");if(""!==(e=isNaN(parseInt(e,10))?"":parseInt(e,10))){var o=this.readerInfo2019;e>+o.show_page?e=+o.show_page:e<1&&(e=1)}else e="";this.curPage=e}else this.gotoPage()},handleClickCurPage:function(){var t=1;"full"===this.screenMode&&(t=0),i.log.xsend(102232,{index:t})},gotoPage:function(){var t=this.curPage;this.$emit("gotopage",{curPage:t}),i.log.xsend(101365)},handleFullScreen:function(){var t=this.pureModeTest;this.setVisible(!1),2===t?(this.isLogin?this.fullScreen():(i.log.xsend(103071,{pureTest:t}),_.log()),i.log.xsend(101487,{index:1,isPureMode:+this.pureSmallflow,pureTest:t})):1===t?(this.fullScreen(),i.log.xsend(101487,{index:1,isPureMode:+this.pureSmallflow,pureTest:t})):(this.fullScreen(),i.log.xsend(101487,{index:1,isPureMode:+this.pureSmallflow}))},fullScreen:function(){this.$emit("enterfullscreen"),this.resetScroll=!0,this.isHxVisible(!1),"xmind"===this.tplName&&Object(r.$)(".content-wrapper").addClass("xmind-wrapper");var t=this.scrollObject.top,e=void 0===t?0:t;window.scrollTo(0,e>0?e-315:0),this.setScreenMode("full"),Object(r.$)(".reader-topbar").css({position:"fixed",top:"0px"}),Object(r.$)("html").addClass("full-screen").removeClass("normal-screen"),Object(r.$)(".no-full-screen, #page-footer").hide(),Object(r.$)(".anti-no-full-screen").show(),window._zoomDetectInst&&(window._zoomDetectInst.destroy(),window._zoomDetectInst=null)},handleExitFullScreen:function(){this.$emit("exitfullscreen"),this.pureScroll=0,this.setVisible(!1),this.isHxVisible(!0),Object(r.$)("html").removeClass("full-screen").addClass("normal-screen"),Object(r.$)("#app .no-full-screen, #page-footer").show();var t=this.scrollObject,e=t.top,o=void 0===e?0:e,n=t.direction;window.scrollTo(0,o>0?o+315:0),Object(r.$)(window).trigger("scroll"),this.setScreenMode("normal"),Object(r.$)(".anti-no-full-screen").hide(),this.bindOnScroll({top:o,direction:n}),i.log.xsend(101487,{index:0}),void 0===window._zoomDetectInst&&(window._zoomDetectInst=c.a.run({dynamicDetect:!0,toastOnce:!0}))},isHxVisible:function(t){if(this.isPureGuide){var e=Object(r.$)(".content-wrapper .hx-warp"),o=Object(r.$)(".content-wrapper .hx-recom-wrapper");t?(e&&e.show(),o&&o.show()):(e&&e.hide(),o&&o.hide())}},gotoSubPage:function(){var t,e,o=(null===(t=this.docInfo2019)||void 0===t||null===(e=t.doc_info)||void 0===e?void 0:e.new_cid1)||2;this.isTopbarFixed?i.log.xsend(103094,{index:2}):i.log.xsend(103094,{index:1}),window.open("/ndcore/browse/sub?isType=".concat(o))},nextStep:function(){this.setNewGuideStep(3)},toVip:function(){var t=Object(u.c)(u.a.VIP,{location:"pureGuideTip",ext:"PureFullMode"});i.log.xsend(103072,{index:4,pureTest:this.pureModeTest}),window.location.href=t},delPureExperice:function(){var t=this;p.wkAxios.get("/user/interface/puremodeguide",{params:{type:2}}).then((function(e){t.setExperienceCount(+e.leftExperienceTimes),+e.leftExperienceTimes>0?t.setPureExperience(!0):t.setPureExperience(!1)}))}})},O=(o(732),o(5)),C=Object(O.default)(w,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"reader-topbar",class:2===t.newGuideStep&&t.isNewGuide?"new-guide-index":""},[o("div",{staticClass:"topbar-container"},[t.isZhenxuanDoc?[o("div",{staticClass:"zhenxuan-guide",class:{"zhenxuan-fixed":t.isTopbarFixed||t.isFullScreen,"p-left":t.isFullScreen},on:{click:t.gotoSubPage}},[o("span",{staticClass:"zx-title"},[t._v("甄选")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!(t.isTopbarFixed||t.isFullScreen),expression:"!(isTopbarFixed || isFullScreen)"}],staticClass:"tag"},[t._v(t._s(t.zhenxuanDocTag))])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isTopbarFixed||t.isFullScreen,expression:"isTopbarFixed || isFullScreen"}],staticClass:"zhenxuan-title",class:{"m-left":t.isFullScreen}},[t._v("\n                "+t._s(t.docInfo2019.doc_info.title)+"\n            ")])]:["full"===t.screenMode?o("div",{staticClass:"doc-title full-screen-mode"},[o("DocTypeIcon",{attrs:{"type-name":t.docInfo2019.doc_info.typeName}}),t._v("\n                "+t._s(t.docInfo2019.doc_info.title)+"\n            ")],1):t._e(),t._v(" "),t.isTitleDoc&&!t.isFullScreen?o("div",{staticClass:"tilu-doc-title"},[t._v("\n                因版权原因，仅展示原文概要，查看原文内容请"+t._s(t.docType===t.DOC_TYPE.CASH?"购买":"下载")+"\n            ")]):o("div",{staticClass:"doc-title normal-screen-mode",style:"display: "+("normal"===t.screenMode?"block":"none")},[o("DocTypeIcon",{staticStyle:{left:"15px"},attrs:{"type-name":t.docInfo2019.doc_info.typeName}}),t._v(t._s(t.docInfo2019.doc_info.title)+"\n            ")],1)],t._v(" "),o("div",{staticClass:"full-screen tool-btn",class:t.pureBtnClass,style:"display: "+("normal"===t.screenMode?"block":"none"),on:{click:function(e){return e.target!==e.currentTarget?null:t.handleFullScreen(e)}}},[2===t.newGuideStep&&t.isNewGuide?o("div",[o("UserGuideMask",[o("div",{staticClass:"userguide-pure-btn"},[o("div",{staticClass:"next-step",on:{click:function(e){return e.stopPropagation(),t.nextStep(e)}}})])])],1):t._e()]),t._v(" "),o("CoreBtn",{style:"display: "+("full"===t.screenMode?"block":"none"),attrs:{from:"topBar","father-comp":"readerTopBar"}}),t._v(" "),o("div",{staticClass:"exit-full-screen full-screen-mode",style:"display: "+("full"===t.screenMode?"block":"none"),on:{click:t.handleExitFullScreen}}),t._v(" "),t.visibleGotoPage?o("div",{staticClass:"goto-page"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.curPage,expression:"curPage"}],staticClass:"cur-page",style:"width: "+t.curPageInputW+"px",attrs:{type:"text"},domProps:{value:t.curPage},on:{keyup:t.keyupCurPage,click:t.handleClickCurPage,input:function(e){e.target.composing||(t.curPage=e.target.value)}}})]),t._v(" "),o("span",[t._v("/")]),t._v(" "),o("span",[t._v(t._s(t.docInfo2019.doc_info.page))])]):t._e()],2),t._v(" "),t.pureTipVipVisible?o("div",{staticClass:"pure-mode-tip"},[o("div",{staticClass:"vip-icon"}),t._v(" "),t._m(0)]):t._e(),t._v(" "),t.pureTipNotVipVisible?o("div",{staticClass:"pure-mode-tip"},[o("p",[t._v("尊贵的用户，"),o("span",[t._v("纯净模式")]),t._v("为会员专属功能，已为您发放免费体验次数，当前剩余"),o("span",[t._v(t._s(t.experienceCount))]),t._v("次体验机会。\n            "),o("span",{staticClass:"to-vip",on:{click:t.toVip}},[t._v("直接开通VIP")]),t._v(" "),o("span",{staticClass:"icon-tri"})])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("尊贵的文库VIP，已为您开启会员专属阅读"),e("span",[this._v("纯净模式")]),this._v("，无广告全屏阅读，沉浸浏览无打扰")])}],!1,null,null,null);e.a=C.exports},function(t,e,o){"use strict";var n=o(1),i=o(0);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=u(t);if(e){var i=u(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return l(this,o)}}function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(o,t);var e=c(o);function o(){var t;return a(this,o),(t=e.apply(this,arguments)).blocks=function(){for(var t=[],e=0;e<50;e++)t.push(1);return t}(),t}return o}(i.Vue),d=p=Object(n.a)([i.Component],p),f=(o(731),o(5)),v=Object(f.default)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-page"},[e("div",{staticClass:"loader-block title-block"}),this._v(" "),this._l(this.blocks,(function(t,o){return e("div",{key:o,staticClass:"loader-block"})}))],2)}),[],!1,null,null,null);e.a=v.exports},,,function(t,e,o){"use strict";var n=o(6),i=o(594),r=o(194),a=o(191),s=o(190),c=o(193),l=o(4),u=o(3);function p(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function d(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?p(Object(o),!0).forEach((function(e){f(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function f(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=y(t);if(e){var i=y(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return m(this,o)}}function m(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function O(t,e,o){return e&&w(t.prototype,e),o&&w(t,o),t}var C=function(){function t(e,o){_(this,t),this.pageData=e,this.type=o}return O(t,[{key:"show",value:function(){return!1}}]),t}(),P=function(t){h(o,t);var e=g(o);function o(){return _(this,o),e.apply(this,arguments)}return O(o,[{key:"show",value:function(){return!0}}]),o}(C),j=function(t){h(o,t);var e=g(o);function o(){return _(this,o),e.apply(this,arguments)}return O(o,[{key:"show",value:function(){return!0}}]),o}(C),I=function(t){h(o,t);var e=g(o);function o(){return _(this,o),e.apply(this,arguments)}return O(o,[{key:"show",value:function(){if(!this.pageData||!this.pageData.docInfo2019)return!1;var t=this.pageData.docInfo2019;return t&&l.$.isArray(t.hot_words)&&t.hot_words.length>0}}]),o}(C),x=function(t){h(o,t);var e=g(o);function o(){return _(this,o),e.apply(this,arguments)}return O(o,[{key:"show",value:function(){return!0}}]),o}(C),S={data:function(){return{fixAreaHeight:0,historyTop:0,datas:[]}},computed:d(d({},Object(n.mapState)(["pageData","scrollObject","fixBox"])),Object(n.mapGetters)(["relativeCourseInfo","wkSmallflow"])),components:{ShopGoods:i.a,RelativeSearch:r.a,RelativeDoc:a.a,RelativeCourse:s.a,AdRight:c.a},watch:{"scrollObject.top":function(t){this.changePosition(t)}},mounted:function(){this.dealWithShowItem(),this.sendIELog()},methods:d(d({},Object(n.mapMutations)(["setFixBoxBottom","setFixBoxFixed"])),{},{dealWithShowItem:function(){var t=this.pageData,e=[new P(t,"doc"),new j(t,"course"),new I(t,"hotsearch"),new x(t,"ad")],o=[];e.forEach((function(t){t.show()&&o.length<2&&o.push(t)})),this.datas=o},changePosition:function(t){var e=Number(Object(l.$)(document).height()),o=Object(l.$)("#fix-top-line").offset(),n=Number((o||{}).top),i=Object(l.$)("#footer-wrapper-id"),r=Number(i.height())+Number(Object(l.$)("#page-footer").height());if(t){var a=Object(l.$)("#side-fixed-box"),s=e-t;if(this.historyTop<t){if(t>=n-60&&(this.setFixBoxBottom(!1),this.setFixBoxFixed(!0)),s-r-40-60<=Number(a.height())){this.setFixBoxFixed(!1);var c=this.fixAreaHeight,u=Number(Object(l.$)(".left-wrapper").height())-40;u>0&&c!==u&&(Object(l.$)("#right-wrapper-id").css({maxHeight:u,height:u}),this.fixAreaHeight=u),this.setFixBoxBottom(!0)}}else s>Number(a.height())+r+40+60&&(this.setFixBoxBottom(!1),this.setFixBoxFixed(!0)),t<=n&&(this.setFixBoxBottom(!1),this.setFixBoxFixed(!1));this.historyTop=t}},sendIELog:function(){var t,e="undefined"!=typeof navigator&&navigator.userAgent.match(/msie\s*([0-9]+)/i),o=e?e[1]-0:0,n=this.isIE();0===o&&n&&(o=11),u.log.xsend(103110,{module:"ndview",ieVersion:o,isie:n,wkua:(null===(t=navigator)||void 0===t?void 0:t.userAgent)||"noua"})},isIE:function(){return!(!window.ActiveXObject&&!("ActiveXObject"in window))}})},k=(o(664),o(5)),D=Object(k.default)(S,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"fix-top-line"}}),t._v(" "),o("div",{staticClass:"fix-recommend-wrapper",attrs:{id:"fix-recommend-side"}},[o("div",{class:{bottom:t.fixBox.bottom,fixed:t.fixBox.fixed},style:{opacity:t.fixBox.bottom||t.fixBox.fixed?1:0},attrs:{id:"side-fixed-box"}},[o("ShopGoods"),t._v(" "),2!=+t.wkSmallflow.wkWeb2024?[o("RelativeSearch",{attrs:{fix:!0}}),t._v(" "),t._l(t.datas,(function(e,n){return["doc"===e.type?o("RelativeDoc",{key:n,staticClass:"fix-block",class:{"sider-edge":1===n},attrs:{fix:!0}}):t._e(),t._v(" "),"course"===e.type?o("RelativeCourse",{key:n,staticClass:"fix-block",class:{"sider-edge":1===n},attrs:{fix:!0}}):t._e(),t._v(" "),"ad"===e.type?o("AdRight",{key:n,staticClass:"ad-right-wrapper fix-block",class:{"sider-edge":1===n}}):t._e()]}))]:t._e()],2)])])}),[],!1,null,null,null);e.a=D.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";var n,i=o(3),r=o(4),a=o(17),s=o(187),c={},l=0,u=function(){var t=window.BCat_2030;t&&t.miaowu&&t.miaowu({subid:"wenkucps"})};e.a={getData:function(){if(0===l)l=1,n=new Promise((function(t){var e={pid:1,exinfo:"",slotinfo:s.a.viewPageAllDsp(),flowType:"pc"};r.$.ajax({url:"https://wkdsp.baidu.com/api/get",method:"post",dataType:"json",data:JSON.stringify(e),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){l=2;var o=e.data||{};c=o,t(o)},error:function(e){l=2,console.log(e),c={},t({})}})}));else if(2===l)return c;return n},render:function(t){var e,o,n,s=t.data,c=t.slotid,l=t.dom,p=a.a.state.isHorizontal,d={};try{(d=JSON.parse(s.contents||{})).description=d.description||d.desc||""}catch(t){console.log(t)}switch(e=d.main_img||{},+c){case 46:o='<div class="relative-doc-item-horizontal">\n                    <a href="'.concat(s.clickurl,'" target="_blank">\n                        <div class="content">\n                            <div class="title">\n                                <span class="con">').concat(d.title,'</span>\n                                <span class="icon-jingxuan">精选</span></div>\n                            <p class="desc">').concat(d.description,'</p>\n                            <div class="state">\n                                <div class="score">立刻查看 ></div>\n                            </div>\n                        </div>\n                        <div class="cover-wrapper">\n                            <div class="cover" style="background-image: url(').concat(e.url,')"></div>\n                        </div>\n                    </a>\n                </div>').trim(),Object(r.$)(l).html(o).show(),i.log.xsend(102796,{index:6}),Object(r.$)("#app").on("click",".relative-doc-dspad-wrapper",(function(){u(),i.log.xsend(102796,{index:8})}));var f=!1;r.Util.Common.onElsVisible(".relative-doc-dspad-wrapper",(function(){f||(i.log.xsend(102796,{index:7,des:"show"}),f=!0)})),p&&1!=+s.mustshow&&(n=s.impurl)&&((new Image).src=n);break;case 53:o='<a href="'.concat(s.clickurl,'" target="_blank">\n                    <div class="thumb-wrapper">\n                        <div class="thumb" style="background-image: url(').concat(e.url,')"></div>\n                        <div class="playbar"></div>\n                    </div>\n                    <div class="title">').concat(d.title,'</div>\n                    <div class="state">\n                        <div class="org">限时特惠</div>\n                        <div class="price">\n                            立即抢购\n                        </div>\n                    </div>\n                </a>').trim(),window.eventBus.emit("relativeCourseAdLoad",{adNum:1}),Object(r.$)(l).html(o).css("display","inline-block"),i.log.xsend(102796,{index:3}),Object(r.$)("#app").on("click",".relative-course-item-ad",(function(){u(),i.log.xsend(102796,{index:5})}));var v=!1;r.Util.Common.onElsVisible(".relative-course-item-ad .thumb-wrapper",(function(){v||(i.log.xsend(102796,{index:4,des:"show"}),v=!0)}))}}}},,function(t,e,o){"use strict";var n=o(4);e.a={setStyle:function(t){t&&Object(n.$)("head").append("<style>".concat(t,"</style>"))},markColor:function(t,e,o){if(o=o||70,t.desc=t.desc.length>o?t.desc.substring(0,o)+"...":t.desc,e){var n=new RegExp(e,"g");t.title=t.title.replace(n,"<em>"+e+"</em>"),t.desc=t.desc.replace(n,"<em>"+e+"</em>")}return t}}},,,,,,,,function(t,e,o){"use strict";var n=o(6),i=o(3),r=o(4),a=o(12),s=o(135),c=o(13);function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function u(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){p(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function p(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var d={props:{from:String},filters:{formatMoney:c.c},computed:u(u(u({},Object(n.mapState)("priceInfo",["shopVoucherInfo","confirmPrice","payPriceShow"])),Object(n.mapGetters)("docInfo",["isTitleDoc"])),{},{showPrice:function(){return"summary"!==this.from},price:function(){return this.shopVoucherInfo.shopConfirmPrice},couponBtnText:function(){var t=this.shopVoucherInfo.isDraw?"立即购买":"领券购买";return this.isTitleDoc?t+"原文":t}})},f=(o(689),o(5)),v=Object(f.default)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"coupon-btn",class:{"short-style":"topBar"===t.from}},[t.showPrice?[o("div",{staticClass:"price-wrap"},[o("p",{staticClass:"confirm-price"},[t._v("￥"+t._s(t._f("formatMoney")(t.price)))]),t._v(" "),o("p",{staticClass:"original-price"},[t._v("价格￥"+t._s(t.payPriceShow))])])]:t._e(),t._v(" "),o("div",[t._v("\n        "+t._s(t.couponBtnText)+"\n    ")])],2)}),[],!1,null,"1cb90728",null).exports,h=o(69),b=o.n(h);function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var o=[],n=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return m(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function y(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function _(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?y(Object(o),!0).forEach((function(e){w(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function w(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var O={props:{visibleGuideApp:{type:Boolean,default:!1}},data:function(){return{hh:"--",mm:"--",ss:"--",timer:null,displayed:!1}},computed:_(_({},Object(n.mapGetters)(["testData","docId"])),{},{qrcodeImgSrc:function(){return"https://edu-wenku.bdimg.com/v1/wap/guideToCollegeApp/guide517/qrcode-logo.png"}}),watch:{visibleGuideApp:function(t){var e=this;if(t){var o="".concat("https://tanbi.baidu.com/san-home/jump_download","?fromKey=517_pc_ydy_xz&docId=").concat(this.docId);this.$nextTick((function(){e.qr=new b.a(e.$refs.qrcodeWrap,{text:o,width:110,height:110,colorDark:"#000000",colorLight:"#ffffff",correctLevel:b.a.CorrectLevel.H})}))}t&&!this.displayed&&(this.displayed=!0,this.runCountdown())}},beforeMount:function(){clearInterval(this.timer)},methods:{runCountdown:function(){var t,e=this,o=(null==this||null===(t=this.testData)||void 0===t?void 0:t[40028])||{},n=o.wkWeb3875STime,i=o.wkWeb3875ETime,r=Object(c.g)(n),a=Object(c.g)(i);this.timer=setInterval((function(){var t=Date.now();if(+r<=+t&&+t<=+a){var o=+a-+t,n=g(c.a.parseNum2HMS(o),3),i=n[0],s=n[1],l=n[2];e.hh=i,e.mm=s,e.ss=l}else e.hh="--",e.mm="--",e.ss="--"}),1e3)},closeHandle:function(){this.$emit("close")},btnToCashier:function(){this.$emit("close"),this.$emit("toCashier")}}},C=(o(690),Object(f.default)(O,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visibleGuideApp?o("div",{staticClass:"guide-app-wrap"},[o("div",{staticClass:"guide-app-dialog"},[o("div",{staticClass:"guide-app-close",on:{click:t.closeHandle}}),t._v(" "),o("div",{staticClass:"guide-app-body"},[o("div",{staticClass:"countdown"},[o("div",{staticClass:"hh",domProps:{textContent:t._s(t.hh)}}),t._v(" "),o("div",{staticClass:"colon"},[t._v(":")]),t._v(" "),o("div",{staticClass:"mm",domProps:{textContent:t._s(t.mm)}}),t._v(" "),o("div",{staticClass:"colon"},[t._v(":")]),t._v(" "),o("div",{staticClass:"ss",domProps:{textContent:t._s(t.ss)}})]),t._v(" "),o("div",{staticClass:"qrcode-wrap"},[o("img",{attrs:{src:t.qrcodeImgSrc}}),t._v(" "),o("div",{ref:"qrcodeWrap",staticClass:"qrcode-item"})]),t._v(" "),o("div",{staticClass:"slogan"},[t._v("\n                扫码打开APP免费获取文档\n            ")])]),t._v(" "),o("div",{staticClass:"guide-app-foot"},[o("div",{staticClass:"link-to-cashier",on:{click:t.btnToCashier}},[t._v("\n                继续开通VIP下载\n            ")])])]),t._v(" "),o("div",{staticClass:"guide-app-mask"})]):t._e()}),[],!1,null,"27d60d80",null).exports),P=o(15),j={DOWNLOAD:1,TICKET:2,VIP_CASHIER:3,DOC_CASHIER:3,DISABLED:4},I={DOWNLOAD:1,COUPON:2,VIP_DISOUNT:3,BUY:4};var x=o(23);function S(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function k(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?S(Object(o),!0).forEach((function(e){D(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):S(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function D(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var T=new(o.n(x).a),E={data:function(){return{downloader:void 0,DOC_TYPE:a.a,BTN_TYPE:j,btnType:0,btnClassObj:{},btnText:"",btnCashDocShow:0,BTN_CASH_DOC_SHOW:I,visibleGuideApp:!1}},filters:{formatMoney:c.c},props:{from:{type:String,default:""},fatherComp:{type:String,default:""}},components:{CompBtnCoupon:v,CompGuideApp:C},mounted:function(){window.tsCTTI=+new Date,this.calBtnView(),this.downloader=s.a.createDownload(),this.viewLog(),this.getLimitedInfo()},computed:k(k(k(k(k(k({},Object(n.mapState)(["pageData","isLogin","screenMode"])),Object(n.mapState)("priceInfo",["cashType","ispaied","docTicket","payPriceShow","confirmPriceShow","vipPriceShow"])),Object(n.mapGetters)(["docInfo2019","isVip","docType","bizUserInfo","readallDownloadable","isOrgDownloadDisabled","isZhenxuanDoc","isDownloadable","testData"])),Object(n.mapGetters)("priceInfo",["visiblePromotion","visibleCoupon","visibleNewUserPromotion"])),Object(n.mapGetters)("docInfo",["isVipDocPack","isTitleDoc","isVipFreeDoc"])),{},{visiblePrice:function(){return!this.visiblePromotion&&!this.visibleNewUserPromotion&&!this.visibleCoupon},visiblePriceBuyBtn:function(){return!this.visiblePromotion&&!this.visibleNewUserPromotion},price:function(){return this.isVip?this.vipPriceShow:this.payPriceShow},hasGot:function(){return 1==+this.ispaied},secretDownloadable:function(){var t,e;return this.isDownloadable||(null==this||null===(t=this.docInfo2019)||void 0===t||null===(e=t.doc_info)||void 0===e?void 0:e.is_creater)},rightBtnText:function(){var t=this.cashType,e=this.isVip,o=this.confirmPriceShow,n=this.vipPriceShow;return"CASH_PACK"===t?"￥0 VIP首单免费":"CASH_DISCOUNT"===t?e?"续费VIP":"￥".concat(n," VIP8折购买"):"CASH_VIP_VOUCHER"===t?e?"续费VIP":"￥".concat(o," VIP优惠购买"):""},visibleBtnRight:function(){var t=this.from,e=this.cashType;return["CASH_PACK","CASH_DISCOUNT","CASH_VIP_VOUCHER"].indexOf(e)>-1&&["summary","docBtns","foldpage"].indexOf(t)>-1&&!this.hasGot}}),methods:k(k(k({},Object(n.mapActions)("userInfo",["getLimitedInfo"])),Object(n.mapActions)(["clickCoreBtn","xsendQuery"])),{},{calBtnView:function(){var t=function(t){var e=0,o={},n="",i=0,r=t.docType,s=t.docTicket,c=t.isDownloadable,l=t.isZhenxuanDoc,u=t.screenMode,p=t.cashType,d=t.isVip,f=t.readallDownloadable,v=t.hasGot,h=t.isTitleDoc,b=t.visiblePrice,g=t.price,m=t.visibleCoupon,y=t.visiblePriceBuyBtn,_=t.secretDownloadable,w=h?"下载原文":"下载文档",O=c?h?"VIP专享下载原文":"VIP专享下载":"加入VIP看全文",C=h?"购买原文":"购买文档";switch(r){case a.a.TICKET:o={"btn-ticket":s,"btn-normal":!s},e=s?j.TICKET:j.DOWNLOAD,n=w;break;case a.a.CASH:var P="CASH_DISCOUNT"===p||"CASH_VIP_VOUCHER"===p;!c&&"0-0"!==f||v?c&&v?(e=j.DOWNLOAD,n=w,o={"btn-normal":!0}):!c&&v&&(e=j.DISABLED):(e=j.DOC_CASHIER,o={"btn-pay":!0,"tag-vip-discount":P&&!d&&"0-0"===f&&!v,discount:P&&d},"CASH_PACK"===p?b?(i=I.DOWNLOAD,n=["￥".concat(g),"0-0"!==f||v?w:"查看全文"].join("")):d&&m?i=I.COUPON:(n=C,i=I.BUY):P?m?i=I.COUPON:!d&&("1-1"===f&&b||"1-1"!==f&&y)?(i=I.BUY,n=["￥".concat(g),"0-0"!==f||v?C:"查看全文"].join("")):d&&y&&(i=I.VIP_DISOUNT,n="0-0"!==f||v?"VIP8折购买":"VIP8折看全文","CASH_VIP_VOUCHER"===p&&(n="0-0"!==f||v?"VIP优惠购买":"VIP优惠看全文")):"CASH_NEW_CUSTOMER"!==p&&"CASH_NORMAL"!==p||(m?i=I.COUPON:y?(i=I.DOWNLOAD,n=["￥".concat(g),"0-0"!==f||v?w:"查看全文"].join("")):(n=C,i=I.BUY)));break;case a.a.VIP_RIGHT:v&&(!d&&c||d&&"1-1"===f)?(e=j.DOWNLOAD,n=w,o={"btn-normal":!0}):c||!d&&"0-0"===f&&!v?(e=j.VIP_CASHIER,n=O,o={"btn-vip":!0,"btn-vip-zhenxuan":c&&l&&"full"!==u}):!c&&(!d&&v||d)&&(e=j.DISABLED);break;case a.a.SECRET:_?(o={"btn-normal-secret":!0},n=w):(o={"btn-disable-private":!0},n="仅支持阅读");break;case a.a.PRIVATE:o={"btn-normal":!0},n=w}return e===j.DISABLED&&(n="仅支持阅读",o={"btn-disable":!0}),{btnType:e,btnText:n,btnClassObj:o,btnCashDocShow:i}}(this),e=t.btnType,o=t.btnText,n=t.btnClassObj,i=t.btnCashDocShow;this.btnType=e,this.btnText=o,this.btnClassObj=n,this.btnCashDocShow=i},viewLog:function(){var t=this.from;r.Util.Common.onElsVisible(".core-btn-wrapper.".concat(t),(function(){var e=Object(r.$)(this);"hidden"!==e.css("visibility")&&((e.data("logged")?1:0)||(i.log.xsend(102622,{from:t}),e.data("logged",1)))}))},clickBtnPayVip:function(){var t=this.cashType,e=this.fatherComp,o=this.from,n=this.isVip,r=this.isLogin,a=this.isVipDocPack;if(this.xsendQuery({type:"click"}),i.log.xsend(102688,{isVip:n,cashType:t,position:o}),r){var s={summary:"Inf",docBtns:"Toolbar"},l={location:"".concat(e,".coreBtn")};if(+a>0){i.log.xsend(102741,{pos:"coreBtn",idx:2,isVipDocPack:a});var u={isVipDocPack:a},p=Object(P.c)(P.a.VIP_AND_DOC,l,u);location.href=p}else if("CASH_PACK"!==t||n){if("CASH_DISCOUNT"===t||"CASH_VIP_VOUCHER"===t){var d="ViewpaydiscountDownload".concat(s[o]);if(l.ext=d,i.log.xsend(102741,{pos:"coreBtn",idx:2,isVipDocPack:a}),Object(c.h)(l))return;var f=Object(P.c)(P.a.VIP,l);location.href=f}}else{var v="ViewpaypackageDownload".concat(s[o]);l.ext=v,i.log.xsend(102741,{pos:"coreBtn",idx:1});var h=Object(P.c)(P.a.VIP_WITH_DOC,l);location.href=h}}else T.log()},handleClick:function(t){var e="string"==typeof t?t:"";if(this.docType===a.a.SECRET){if(!this.secretDownloadable)return void this.log("secretReadOnly");e="secretDownload"}this.xsendQuery({type:"click"}),this.log(e),this.needGuideApp()?this.visibleGuideApp=!0:this.toCashier()},needGuideApp:function(){try{var t,e,o,n,i,r=this.isVip,s=this.docType,l=this.docTicket,u=this.isVipFreeDoc,p=this.pageData.appBGKStartup,d=((null==this||null===(t=this.testData)||void 0===t?void 0:t[40028])||{}).wkWeb3875Open,f=null==p||null===(e=p.date)||void 0===e?void 0:e.substr(0,4),v=null==p||null===(o=p.date)||void 0===o?void 0:o.substr(4,2),h=null==p||null===(n=p.date)||void 0===n?void 0:n.substr(6,4),b=+new Date("".concat(f,"-").concat(v,"-").concat(h," 00:00:00")),g=new Date,m=+g,y=(null==this||null===(i=this.bizUserInfo)||void 0===i?void 0:i.uid)||"",_="wkWeb3875ShowPop_".concat(y),w=localStorage.getItem(_),O=Object(c.b)(g,"yyyy-MM-dd"),C=!0;(!b||!(null==p?void 0:p.startup)&&m>=b&&m<b+864e5)&&(C=!1);var P=a.a.VIP_RIGHT===s||a.a.TICKET===s&&l||u;return!(C||"1"!==d||r||!P||w===O)&&(localStorage.setItem(_,O),!0)}catch(t){return!0}},toCashier:function(){this.clickCoreBtn({from:this.from,fatherComp:this.fatherComp})},log:function(t){var e=this.from,o=this.cashType,n=void 0===o?"":o,r=this.isLogin;i.log.xsend(102340,{from:e,cashType:n,isLogin:r,btnType:t||""})}})},V=(o(691),Object(f.default)(E,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:[t.cashType,t.from,"core-btn-wrapper"]},[t.isOrgDownloadDisabled?o("div",{staticClass:"btn-org-disabled"},[t._v("\n        店铺资源已下线\n    ")]):t.docType!==t.DOC_TYPE.CASH?[o("div",{class:t.btnClassObj,on:{click:t.handleClick}},[t._v("\n            "+t._s(t.btnText)+"\n        ")])]:t.docType===t.DOC_TYPE.CASH?[t.btnType===t.BTN_TYPE.DOC_CASHIER?o("div",{staticClass:"btn-pay",class:t.btnClassObj,on:{click:t.handleClick}},[t.btnCashDocShow===t.BTN_CASH_DOC_SHOW.DOWNLOAD?[t._v("\n                "+t._s(t.btnText)+"\n            ")]:t.btnCashDocShow===t.BTN_CASH_DOC_SHOW.COUPON?[o("CompBtnCoupon",{attrs:{from:t.from}})]:t.btnCashDocShow===t.BTN_CASH_DOC_SHOW.VIP_DISOUNT?[o("div",{staticClass:"vip-discount-line-wrap"},[o("p",{staticClass:"vip-price"},[t._v("￥"+t._s(t.price))]),t._v(" "),o("p",{staticClass:"not-vip"},[t._v("价格￥"+t._s(t.payPriceShow))])]),t._v(t._s(t.btnText)+"\n            ")]:t.btnCashDocShow===t.BTN_CASH_DOC_SHOW.BUY?[t._v("\n                "+t._s(t.btnText)+"\n            ")]:t._e()],2):o("div",{class:t.btnClassObj,on:{click:t.handleClick}},[t._v("\n            "+t._s(t.btnText)+"\n        ")]),t._v(" "),t.visibleBtnRight?o("div",{staticClass:"btn-pay-vip",on:{click:t.clickBtnPayVip}},[t._v("\n            "+t._s(t.rightBtnText)+"\n        ")]):t._e()]:t._e(),t._v(" "),o("CompGuideApp",{attrs:{"visible-guide-app":t.visibleGuideApp},on:{toCashier:t.toCashier,close:function(e){t.visibleGuideApp=!1}}})],2)}),[],!1,null,"7a245aba",null));e.a=V.exports},,,,,,,,function(t,e){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n,i,r;n='.fc-ad-line{position:relative}.fc-ad-line:after{display:block;content:"";position:absolute;left:-50%;bottom:0;width:200%;height:1px;background:#e5e5e5;-webkit-transform:scale(.5);transform:scale(.5);pointer-events:none}',i=document.head||document.getElementsByTagName("head")[0],(r=document.createElement("style")).type="text/css",r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),i.appendChild(r),function(){var t="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(t){return o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)};if(window&&!window.Apex&&(window.Apex=function(){function e(t,e){var o=t[e];if("function"==typeof o)return o.call(t)}function o(t,e,o,n){if("function"==typeof t.methods[n])for(var i=t.__dom,r=0,a=i.length;r<a;r++)for(var s=i[r].querySelectorAll(o),c=0,l=s.length;c<l;c++)s[c].addEventListener(e,t.methods[n].bind(t))}var n=function(o){if("object"===(void 0===o?"undefined":t(o))){for(var n in this.styles={},o)this[n]=o[n];if(this.__dom=document.querySelectorAll(o.el)||[],this.domStyles){var i={};for(var r in this.domStyles)if(this.domStyles[r]){var a="",s=this.domStyles[r];for(var c in s)a=a+c+":"+s[c]+";";i[r]=a}this.styles=i}e(this,"init"),this.isDelay||this.render()}};return n.VERSION="0.1.0",n.eventSplitter=/\s+/,n.register=function(e,o,n){"function"==typeof o&&(n=o,o="");var i=window.Apex;i&&("object"!==t(i.plugin)&&(i.plugin={}),i.plugin[e]?i.plugin[e+"."+o]=n:i.plugin[e]=n)},n.prototype._initEvent=function(){var t=this.events;if(t)for(var e in t){var i=t[e],r=e.split(n.eventSplitter);r.length>1&&o(this,r[0],r[1],i)}},n.prototype.render=function(t){"function"==typeof this.template?this._render(this.template(t||this)):"string"==typeof this.template&&this._render(this.template),e(this,"created"),this._initEvent(),e(this,"mounted")},n.prototype._render=function(t){for(var e=this.__dom,o=0,n=e.length;o<n;o++)e[o].innerHTML=t},n}()),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),o=this,n=function(){},i=function n(){return o.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),i.prototype=new n,i}),!Element.prototype.addEventListener){var e=function(t){t||(t=window.event);for(var e=0,o=0,i=n[t.type];o<i.aEls.length;o++)if(i.aEls[o]===this){for(;e<i.aEvts[o].length;e++)i.aEvts[o][e].call(this,t);break}},n={};Element.prototype.addEventListener=function(t,o){if(n.hasOwnProperty(t)){for(var i=n[t],r=-1,a=0;a<i.aEls.length;a++)if(i.aEls[a]===this){r=a;break}if(-1===r)i.aEls.push(this),i.aEvts.push([o]),this["on"+t]=e;else{var s=i.aEvts[r];this["on"+t]!==e&&(s.splice(0),this["on"+t]=e);for(var c=0;c<s.length;c++)if(s[c]===o)return;s.push(o)}}else n[t]={aEls:[this],aEvts:[[o]]},this["on"+t]=e},Element.prototype.removeEventListener=function(t,e){if(n.hasOwnProperty(t)){for(var o=n[t],i=-1,r=0;r<o.aEls.length;r++)if(o.aEls[r]===this){i=r;break}if(-1!==i)for(var a=0,s=o.aEvts[i];a<s.length;a++)s[a]===e&&s.splice(a,1)}}}"object"===("undefined"==typeof window?"undefined":t(window))&&(window.Apex=window.Apex||{},window.Apex.ck=function(){var t,e,o,n,i,r,a,s,c,l,u,p,d,f,v,h,b,g,m,y,_,w,O;function C(t){return e=document.body,o=0,n=0,i=0,r=0,a=0,c=0,0,l=0,u=0,p=0,d="none",f=0,v=0,h="none",b=0,g=0,m=0,y=0,w=0,O=0,_=t,function(){e.removeEventListener("touchstart",P),e.removeEventListener("touchend",j,!0),e.removeEventListener("touchmove",I,!0),e.removeEventListener("click",S,!0),window.removeEventListener?window.removeEventListener("scroll",x,!0):window.detachEvent("onscroll",x.bind(window));e.addEventListener("touchstart",P,!0),e.addEventListener("touchend",j,!0),e.addEventListener("touchmove",I,!0),e.addEventListener("click",S,!0),window.addEventListener?window.addEventListener("onscroll",x,!1):window.attachEvent("onscroll",x.bind(window))}(),{addCkOnUrl:V,clearCount:R,addAdsCk:A}}function P(t){var e=t.touches.item(0);r=parseInt(e.pageX,10),a=parseInt(e.pageY,10),s&&"none"!==h&&(D(),v=0,s=!1,d="none"),o=T(t),k(t)}function j(t){n=T(t),i=n>o?Math.round(n-o):0,k(t)}function I(t){x(t)}function x(t){s||(s=!0,window.scrollY);var e,o,n=window.scrollY,i=Math.abs(n-c),r=((o=n)>(e=c)?"up":o<e&&"down")||d,a=T(t);(function(t,e){"none"===d&&(d=e);e!==d?(d=e,v=0):v+=t;return v>10})(i,r)&&(a>u&&(u=a),"none"===h&&(h=d,l=a),h!==d&&(D(),l=a,h=d)),c=n}function S(t){b=T(t),g=t.pageX,m=t.pageY,k(t)}function k(t){try{var e=function(t,e){var o=document.querySelectorAll(e),n=t.parentNode;for(;n&&!E(o,n);)n=n.parentNode;return n}(t.target,_);e&&(w=e.offsetWidth,O=e.offsetHeight)}catch(t){}}function D(){f++,p+=Math.round(u-l),h="none"}function T(t){return 0!==t.timeStamp?t.timeStamp:(new Date).getTime()}function E(t,e){for(var o=0,n=t.length;o<n;o++)if(t[o]===e)return!0;return!1}function V(t,e,o){var s=function(t,e,o){if("string"!=typeof t)return!1;if(-1===t.indexOf("baidu.php?url=")&&-1===t.indexOf("link?url="))return!1;if(1===o)return"0.0.0.0.0.0.0.0.0.0.0";var s;if(!1===(s=function(t,e,o,n){var i,r=/link\?url=([^&]+)/,a=0;if(i=r.exec(t)||/\?url=([^.]+)\./.exec(t)){var s=o*e%99+9,c=i[1].length;r.exec(t)&&(c=i[1].length<20?i[1].length:20);for(var l=0;l<s;++l)a+=i[1].charCodeAt(n*l%c);return a}return!1}(t,e,i,r)))return!1;y=0,b>0&&b>n&&(y=Math.round(b-n));return[s,i,r,a,w,O,f,p,y,g,m].join(".")}(t,e,o);return!1===s||(-1===t.indexOf("&ck=")?t+="&ck="+s:t=t.replace(/&ck=[\w.]*/,"&ck="+s)),t}function R(){f=0,p=0}function A(t,e){for(var o,n=t.length-1;n>=0;n--)for(var i=(o=t[n].querySelectorAll("a")).length-1;i>=0;i--){var r=o[i];"A"===r.tagName&&""!==r.href&&-1!==r.href.indexOf("baidu")&&(L(r,e,1),r.addEventListener("touchend",(function(t){b=0,g=0,m=0,L(this,e)}),!0),r.addEventListener("click",(function(t){L(this,e),R()}),!0))}}function L(t,e,o){t.href=V(t.href,e,o)}return{getInstance:function(e){return t||(t=C(e)),t}}}().getInstance()),function(){var t=".fc-parallax-scrolling{height:88px;position:relative;overflow:hidden;width:845px;min-width:560px;border-radius:4px;}.fc-parallax-scrolling-content-inner{text-align:left}.fc-parallax-scrolling a{text-decoration:none;color:#fff}.fc-parallax-scrolling .fc-parallax-scrolling-wrapper{width:100%;position:absolute;top:-88px}.fc-parallax-scrolling .fc-parallax-scrolling-wrapper .fc-parallax-scrolling-run{display:block;width:100%;height:88px;margin:0;padding:0}.fc-parallax-scrolling-d9b779{background-color:#d9b779}.fc-parallax-scrolling-25ae84{background:#d9b779}.fc-parallax-scrolling-25ae84 .fc-parallax-scrolling-bogus{color:#f8e71c}.fc-parallax-scrolling .fc-parallax-scrolling-without-image .fc-parallax-scrolling-text{padding-left:6.8%}.fc-parallax-scrolling-text-line{overflow:hidden;text-overflow:ellipsis;-ms-text-overflow:ellipsis;-o-text-overflow:ellipsis;white-space:nowrap}.fc-parallax-scrolling .fc-parallax-scrolling-text .fc-parallax-scrolling-title{width:78%;font-size:24px;height:24px;line-height:24px;padding:19px 0 13px}.fc-parallax-scrolling .fc-parallax-scrolling-text .fc-parallax-scrolling-content{width:100%;height:14px;font-size:14px;line-height:14px}.fc-parallax-scrolling .fc-parallax-scrolling-text .fc-parallax-scrolling-content .fc-parallax-scrolling-content-left{width:100%;float:left}.fc-parallax-scrolling .fc-parallax-scrolling-text .fc-parallax-scrolling-sub{max-width:55%;display:inline-block}.fc-parallax-scrolling .fc-parallax-scrolling-text .fc-parallax-scrolling-tag{display:inline-block;font-size:12px;border:1px solid #fff;border-radius:2px;margin-right:6px;vertical-align:top}.fc-parallax-scrolling .fc-parallax-scrolling-text .fc-parallax-scrolling-bogus{display:inline-block;margin-left:13px;vertical-align:top}.fc-parallax-scrolling .fc-parallax-scrolling-wrapper .fc-parallax-scrolling-with-image .fc-parallax-scrolling-text{float:left;width:100%;margin-left:-268px}.fc-parallax-scrolling .fc-parallax-scrolling-wrapper .fc-parallax-scrolling-with-image .fc-parallax-scrolling-text-inner{margin-left:268px;padding-left:2.3%}.fc-parallax-scrolling .fc-parallax-scrolling-image{float:right;width:268px;background-color:#fff}.fc-parallax-scrolling .fc-parallax-scrolling-image ul{list-style:none;margin:0;padding:0}.fc-parallax-scrolling .fc-parallax-scrolling-image li{float:left}.fc-parallax-scrolling .fc-parallax-scrolling-image li div{width:88px;height:88px;background-repeat:no-repeat;background-size:cover;background-position:center center}.fc-parallax-scrolling .fc-parallax-scrolling-image .fc-parallax-scrolling-second-image{margin:0 2px}.fc-parallax-scrolling .fc-parallax-scrolling-without-image .fc-parallax-scrolling-text .fc-parallax-scrolling-bogus{float:none}@media (min-width:900px) and (max-width:1200px){.fc-parallax-scrolling .fc-parallax-scrolling-with-image .fc-parallax-scrolling-text .fc-parallax-scrolling-sub{width:90%}}@media (min-width:700px) and (max-width:900px){.fc-parallax-scrolling .fc-parallax-scrolling-with-image .fc-parallax-scrolling-text .fc-parallax-scrolling-sub{max-width:67%}}@media (min-width:600px) and (max-width:700px){.fc-parallax-scrolling .fc-parallax-scrolling-with-image .fc-parallax-scrolling-text .fc-parallax-scrolling-sub{max-width:59%}}",e=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t)),e.appendChild(o)}(),function(){function t(t){t=t||{};var e=[];return e.push('<div class="fc-parallax-scrolling">     '),"[object Array]"===Object.prototype.toString.call(t.data.ads)&&1===t.data.ads.length?(e.push('         <div class="fc-parallax-scrolling-wrapper" style="top: 0px">             '),"[object Array]"===Object.prototype.toString.call(t.data.ads[0].images)&&t.data.ads[0].images.length>2?e.push('                 <a class="fc-parallax-scrolling-run fc-parallax-scrolling-with-image fc-parallax-scrolling-25ae84 fc-link"                    href="',t.data.ads[0].link,'">                     <div class="fc-parallax-scrolling-text">                         <div class="fc-parallax-scrolling-text-inner">                             <div class="fc-parallax-scrolling-title fc-parallax-scrolling-text-line">                                 ',t.data.ads[0].title,'                             </div>                             <div class="fc-parallax-scrolling-content">                                 <div class="fc-parallax-scrolling-content-left">                                     <p class="fc-parallax-scrolling-content-inner">                                         <span class="fc-parallax-scrolling-tag">广告</span>                                         <span class="fc-parallax-scrolling-sub fc-parallax-scrolling-text-line">',t.data.ads[0].desc,'</span>                                         <span class="fc-parallax-scrolling-bogus">查看详情 ></span>                                     </p>                                 </div>                             </div>                         </div>                     </div>                     <div class="fc-parallax-scrolling-image">                         <ul>                             <li>                                 <div style="background-image: url(',t.data.ads[0].images[0],')"></div>                             </li>                             <li class="fc-parallax-scrolling-second-image">                                 <div style="background-image: url(',t.data.ads[0].images[1],')"></div>                             </li>                             <li>                                 <div style="background-image: url(',t.data.ads[0].images[2],')"></div>                             </li>                         </ul>                     </div>                 </a>             '):e.push('                 <a class="fc-parallax-scrolling-run fc-parallax-scrolling-without-image fc-parallax-scrolling-25ae84 fc-link"                    href="',t.data.ads[0].link,'">                     <div class="fc-parallax-scrolling-text">                         <div class="fc-parallax-scrolling-title fc-parallax-scrolling-text-line">',t.data.ads[0].title,'                         </div>                         <div class="fc-parallax-scrolling-content">                             <span class="fc-parallax-scrolling-tag">广告</span>                             <span                                 class="fc-parallax-scrolling-sub fc-parallax-scrolling-text-line">',t.data.ads[0].desc,'</span>                             <span class="fc-parallax-scrolling-bogus">查看详情 ></span></div>                     </div>                 </a>             '),e.push("         </div>     ")):"[object Array]"===Object.prototype.toString.call(t.data.ads)&&t.data.ads.length>1&&(e.push('         <div class="fc-parallax-scrolling-wrapper">             '),"[object Array]"===Object.prototype.toString.call(t.data.ads[1].images)&&t.data.ads[1].images.length>2?e.push('                 <a class="fc-parallax-scrolling-run fc-parallax-scrolling-with-image fc-parallax-scrolling-d9b779 fc-link"                    href="',t.data.ads[1].link,'">                     <div class="fc-parallax-scrolling-text">                         <div class="fc-parallax-scrolling-text-inner">                             <div class="fc-parallax-scrolling-title fc-parallax-scrolling-text-line">                                 ',t.data.ads[1].title,'                             </div>                             <div class="fc-parallax-scrolling-content">                                 <div class="fc-parallax-scrolling-content-left">                                     <p class="fc-parallax-scrolling-content-inner">                                         <span class="fc-parallax-scrolling-tag">广告</span>                                         <span class="fc-parallax-scrolling-sub fc-parallax-scrolling-text-line">',t.data.ads[1].desc,'</span>                                         <span class="fc-parallax-scrolling-bogus">查看详情 ></span>                                     </p>                                 </div>                             </div>                         </div>                     </div>                     <div class="fc-parallax-scrolling-image">                         <ul>                             <li>                                 <div style="background-image: url(',t.data.ads[1].images[0],')"></div>                             </li>                             <li class="fc-parallax-scrolling-second-image">                                 <div style="background-image: url(',t.data.ads[1].images[1],')"></div>                             </li>                             <li>                                 <div style="background-image: url(',t.data.ads[1].images[2],')"></div>                             </li>                         </ul>                     </div>                 </a>             '):e.push('                 <a class="fc-parallax-scrolling-run fc-parallax-scrolling-without-image fc-parallax-scrolling-d9b779 fc-link"                    href="',t.data.ads[1].link,'">                     <div class="fc-parallax-scrolling-text">                         <div class="fc-parallax-scrolling-title fc-parallax-scrolling-text-line">',t.data.ads[1].title,'                         </div>                         <div class="fc-parallax-scrolling-content">                             <span class="fc-parallax-scrolling-tag">广告</span>                             <span                                 class="fc-parallax-scrolling-sub fc-parallax-scrolling-text-line">',t.data.ads[1].desc,'</span>                             <span class="fc-parallax-scrolling-bogus">查看详情 ></span></div>                     </div>                 </a>             '),e.push("             "),"[object Array]"===Object.prototype.toString.call(t.data.ads[0].images)&&t.data.ads[0].images.length>2?e.push('                 <a class="fc-parallax-scrolling-run fc-parallax-scrolling-with-image fc-parallax-scrolling-25ae84 fc-link"                    href="',t.data.ads[0].link,'">                     <div class="fc-parallax-scrolling-text">                         <div class="fc-parallax-scrolling-text-inner">                             <div class="fc-parallax-scrolling-title fc-parallax-scrolling-text-line">                                 ',t.data.ads[0].title,'                             </div>                             <div class="fc-parallax-scrolling-content">                                 <div class="fc-parallax-scrolling-content-left">                                     <p class="fc-parallax-scrolling-content-inner">                                         <span class="fc-parallax-scrolling-tag">广告</span>                                         <span class="fc-parallax-scrolling-sub fc-parallax-scrolling-text-line">',t.data.ads[0].desc,'</span>                                         <span class="fc-parallax-scrolling-bogus">查看详情 ></span>                                     </p>                                 </div>                             </div>                         </div>                     </div>                     <div class="fc-parallax-scrolling-image">                         <ul>                             <li>                                 <div style="background-image: url(',t.data.ads[0].images[0],')"></div>                             </li>                             <li class="fc-parallax-scrolling-second-image">                                 <div style="background-image: url(',t.data.ads[0].images[1],')"></div>                             </li>                             <li>                                 <div style="background-image: url(',t.data.ads[0].images[2],')"></div>                             </li>                         </ul>                     </div>                 </a>             '):e.push('                 <a class="fc-parallax-scrolling-run fc-parallax-scrolling-without-image fc-parallax-scrolling-25ae84 fc-link"                    href="',t.data.ads[0].link,'">                     <div class="fc-parallax-scrolling-text">                         <div class="fc-parallax-scrolling-title fc-parallax-scrolling-text-line">',t.data.ads[0].title,'                         </div>                         <div class="fc-parallax-scrolling-content">                             <span class="fc-parallax-scrolling-tag">广告</span>                             <span                                 class="fc-parallax-scrolling-sub fc-parallax-scrolling-text-line">',t.data.ads[0].desc,'</span>                             <span class="fc-parallax-scrolling-bogus">查看详情 ></span></div>                     </div>                 </a>             '),e.push("         </div>     ")),e.push(" </div> "),e.join("")}var e=function(t,e){return window.Apex&&window.Apex.ck&&e?window.Apex.ck.addCkOnUrl(t,e):t};window.Apex&&window.Apex.register("parallax-scrolling",(function(o,n){return new window.Apex({el:o,data:n,template:t,events:{"click .fc-link":"toLp"},created:function(){"[object Array]"===Object.prototype.toString.call(this.data.ads)&&this.data.ads.length>1&&this.__dom&&this.__dom.length},methods:{toLp:function(t){if(this.data.imTimeSign){var o=t.currentTarget?t.currentTarget:t.srcElement,n=o.getAttribute("href"),i=e(n,this.data.imTimeSign);o.setAttribute("href",i)}}}})}))}(),window.Apex&&window.Apex.register("parallax-scrolling-webku",(function(t,e){if(e){var o=e.im_time_sign||"",n=[];if("[object Array]"===Object.prototype.toString.call(e.ads)&&e.ads.length>0){for(var i=window.Apex.plugin["parallax-scrolling"],r=0,a=e.ads.length;r<a;r++){var s={};s.title=e.ads[r].title||"",s.desc=e.ads[r].desc||"",s.link=e.ads[r].link||"";var c=e.ads[r].style;if(c&&c.idea2408&&"[object Array]"===Object.prototype.toString.call(c.idea2408.images)&&c.idea2408.images.length>2){var l=c.idea2408.images;s.images=[l[0].image_url,l[1].image_url,l[2].image_url]}n.push(s)}i(t,{imTimeSign:o,ads:n})}}}))}()},,function(t,e,o){},function(t,e,o){},,function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},,,,,,,function(t,e,o){},function(t,e,o){},,,,function(t,e,o){},function(t,e,o){},function(t,e,o){},,function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},,function(t,e,o){},function(t,e,o){},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){},function(t,e,o){},function(t,e,o){},,,,,,,,,,,,,,function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},,function(t,e,o){},function(t,e,o){},,function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){},,,,function(t,e,o){"use strict";var n=o(195),i=o(447),r=o(445),a=o(187),s=o(3),c=o(4),l=o(17);e.a={render:function(t){var e=t.zsyxContent,o=t.mainContent,u=t.dspContent,p=Object(c.$)(".relative-doc-ad-wrapper"),d=0,f=l.a.state.docInfo.title;if(e[2147])d++,n.a.render({zsyxContent:e,zsyxPlaceId:2147,docTitle:f});else if(c.$.isArray(o)&&!o.code){var v="",h="",b={};if(o.forEach((function(t,e,o){1087===t.adPlace.ad_place_id&&(v=t.adPlace&&t.adPlace.ad_place_css,h=t.adPlace&&t.adPlace.ad_place_js,b.right1087=t.adPlace.ad_place_data)})),b.right1087){d++,i.a.setStyle(v);for(var g=0;g<p.length;g++)p.eq(g).html(b.right1087).show();s.log.xsend(102345,{index:1087,des:"show"}),h="<script>".concat(h,"<\/script>"),Object(c.$)("body").append(h)}}if(u&&u.length>0)try{d++,r.a.render({data:u[0],slotid:a.a.RELATIVEDOC.id,dom:a.a.RELATIVEDOC.dom})}catch(t){console.log("DSP req err",a.a.RELATIVECOURSE.id,t)}d>0&&window.eventBus.emit("adLoadSuccess",{adNum:d})}}},function(t,e,o){"use strict";var n,i=o(4),r="fengchao_no_query_search_default_query";e.a={getEssQuery:function(){var t=new i.$.Deferred;if(n)return t.resolve(n),t.promise();var e=i.Util.Common.getParamByStr("eqid",document.referrer);return e&&e.length?i.$.ajax({url:"//wenku.baidu.com/common/api/getsearchquery",dataType:"json",type:"get",data:{eqid:e},success:function(e){n=e&&e.wd?e.wd:r,t.resolve(n)},error:function(){n=r,t.resolve(n)}}):(n=r,t.resolve(n)),t.promise()}}},,,function(t,e,o){"use strict";var n=o(3),i={props:{goodsData:Object}},r=(o(656),o(5)),a=Object(r.default)(i,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shop-goods-audio"},[o("div",{staticClass:"audio-cover",style:{backgroundImage:"url("+t.goodsData.cover+")"}},[o("div",{staticClass:"amount"},[t._v("共"+t._s(t.goodsData.num)+"节")])]),t._v(" "),o("div",{staticClass:"audio-info-wrap"},[o("div",{staticClass:"audio-title"},[t._v(t._s(t.goodsData.title))]),t._v(" "),o("div",{staticClass:"audio-view"},[t._v(t._s(t.goodsData.viewText?t.goodsData.viewText+"播放":"新品推荐"))])])])}),[],!1,null,null,null).exports,s=o(186),c=o(13),l=o(6);function u(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?u(Object(o),!0).forEach((function(e){d(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function d(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var f={props:{goodsData:Object},computed:p(p({},Object(l.mapGetters)(["docInfo2019"])),{},{docInfo:function(){return this.docInfo2019.doc_info||{}},docType:function(){return c.a.getDocType(this.goodsData.ext)}}),components:{DocTypeIcon:s.a}},v=(o(657),Object(r.default)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:["shop-goods-doc","doc-type-"+t.docType]},[o("div",{staticClass:"doc-cover",style:{backgroundImage:"url("+t.goodsData.cover+")"}},[o("DocTypeIcon",{attrs:{"type-name":t.docType}})],1),t._v(" "),o("div",{staticClass:"doc-info-wrap"},[o("div",{staticClass:"doc-title"},[t._v(t._s(t.goodsData.title))]),t._v(" "),o("div",{staticClass:"doc-view"},[t._v(t._s(t.goodsData.viewText?t.goodsData.viewText+"阅读":"新品推荐"))])])])}),[],!1,null,null,null).exports),h={props:{goodsData:Object}},b=(o(658),Object(r.default)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shop-goods-doc-set"},[o("div",{staticClass:"doc-set-cover",style:{backgroundImage:"url("+t.goodsData.cover+")"}},[o("div",{staticClass:"amount"},[t._v(t._s(t.goodsData.num)+"篇文档")])]),t._v(" "),o("div",{staticClass:"doc-set-info-wrap"},[o("div",{staticClass:"doc-set-title"},[t._v(t._s(t.goodsData.title))]),t._v(" "),o("div",{staticClass:"doc-set-view"},[t._v(t._s(t.goodsData.viewText?t.goodsData.viewText+"阅读":"新品推荐"))])])])}),[],!1,null,null,null).exports),g={props:{goodsData:Object}},m=(o(659),Object(r.default)(g,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"shop-goods-video"},[o("div",{staticClass:"video-cover",style:{backgroundImage:"url("+t.goodsData.cover+")"}},[o("div",{staticClass:"amount"},[t._v("共"+t._s(t.goodsData.num)+"节")])]),t._v(" "),o("div",{staticClass:"video-info-wrap"},[o("div",{staticClass:"video-title"},[t._v(t._s(t.goodsData.title))]),t._v(" "),o("div",{staticClass:"video-view"},[t._v(t._s(t.goodsData.viewText?t.goodsData.viewText+"播放":"新品推荐"))])])])}),[],!1,null,null,null).exports),y=o(7);function _(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function w(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?_(Object(o),!0).forEach((function(e){O(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function O(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var C,P={DOC:1,DOC_SET:2,VIDEO:3,AUDIO:4},j={data:function(){return{GOODS_TYPE:P,pn:1,rn:10,visible:!1,hoverGoodsIdx:1,goodsList:[]}},components:{GoodsAudio:a,GoodsDoc:v,GoodsDocSet:b,GoodsVideo:m},watch:{goodsList:function(t){t.length&&(this.visible=!0,n.log.xsend(102851))}},created:function(){2==+this.wkSmallflow.wkWeb2024&&this.fetchData()},computed:w(w({},Object(l.mapGetters)(["wkSmallflow","docId","shopInfo"])),{},{showGoodsList:function(){var t=this.rn,e=(this.pn-1)*t,o=e+t;return this.goodsList.slice(e,o)},totalPages:function(){var t=this.rn,e=this.goodsList,o=Math.ceil(e.length/t);return o},disabledPrev:function(){return 1===this.pn},disabledNext:function(){var t=this.totalPages;return this.pn===t}}),methods:{fetchData:function(){var t=this;if(!C){var e=this.shopInfo.shop_id_str;C=y.wkAxios.get("/browse/interface/gethotsalesrec",{params:{doc_id:this.docId,powerId:2,shop_id:e}})}C.then((function(e){t.goodsList=e.test_datas.map((function(t,e){var o=t.view_count,n=String(o);return o<100?n="":o>=1e9?n=(o/1e9).toFixed(1)+"亿":o>1e4&&(n=(o/1e4).toFixed(1)+"W"),w(w({},t),{},{viewText:n,idx:e+1})}))}))},toPrev:function(t){if(!this.disabledPrev){var e=this.pn-1;this.pn=e}},toNext:function(t){this.disabledNext||(this.pn=this.pn+1)},mouseoverGoods:function(t){var e=t.idx;this.hoverGoodsIdx=e},clickGoods:function(t){var e=t.url,o=t.type;n.log.xsend(102852,{goodsType:o}),e+=[e.indexOf("?")>-1?"&":"?","cc=_viewPageShopGoods",o,"_"].join(""),window.open(e)}}},I=(o(660),Object(r.default)(j,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",{staticClass:"shop-goods-wrapper"},[o("p",{staticClass:"topic"},[t._v("本店热销")]),t._v(" "),o("div",{staticClass:"pager"},[o("span",{class:["link","link-prev",t.disabledPrev?"disabled":"none"],on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toPrev(e)}}}),t._v(" "),o("span",{class:["link","link-next",t.disabledNext?"disabled":"none"],on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toNext(e)}}})]),t._v(" "),o("div",{staticClass:"divider"}),t._v(" "),o("div",{staticClass:"goods-list-wrapper"},t._l(t.showGoodsList,(function(e,n){return o("div",{key:e.url,class:["item","goods-"+e.type,t.hoverGoodsIdx===e.idx?"hover-item":""],on:{click:function(o){return t.clickGoods(e,n)},mouseover:function(o){return t.mouseoverGoods(e)}}},[o("div",{class:["item-idx","idx-"+e.idx]},[t._v(t._s(e.idx))]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.hoverGoodsIdx!==e.idx,expression:"hoverGoodsIdx !== item.idx"}],staticClass:"item-title"},[t._v("\n                "+t._s(e.title)+"\n            ")]),t._v(" "),e.type===t.GOODS_TYPE.DOC?[o("GoodsDoc",{directives:[{name:"show",rawName:"v-show",value:t.hoverGoodsIdx===e.idx,expression:"hoverGoodsIdx === item.idx"}],attrs:{"goods-data":e}})]:e.type===t.GOODS_TYPE.DOC_SET?[o("GoodsDocSet",{directives:[{name:"show",rawName:"v-show",value:t.hoverGoodsIdx===e.idx,expression:"hoverGoodsIdx === item.idx"}],attrs:{"goods-data":e}})]:e.type===t.GOODS_TYPE.VIDEO?[o("GoodsVideo",{directives:[{name:"show",rawName:"v-show",value:t.hoverGoodsIdx===e.idx,expression:"hoverGoodsIdx === item.idx"}],attrs:{"goods-data":e}})]:e.type===t.GOODS_TYPE.AUDIO?[o("GoodsAudio",{directives:[{name:"show",rawName:"v-show",value:t.hoverGoodsIdx===e.idx,expression:"hoverGoodsIdx === item.idx"}],attrs:{"goods-data":e}})]:t._e()],2)})),0)]):t._e()}),[],!1,null,null,null));e.a=I.exports},,,function(t,e,o){"use strict";var n=o(1),i=o(0);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=p(t);if(e){var i=p(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return u(this,o)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,t);var e,o,n,i=l(r);function r(){var t;return a(this,r),(t=i.apply(this,arguments)).bgImgLoadStatus=0,t}return e=r,(o=[{key:"mounted",value:function(){this.setCover()}},{key:"onInfo",value:function(){this.setCover()}},{key:"setCover",value:function(){var t=this,e=this.info&&this.info.pic;if(e){var o=new Image;o.onerror=function(){t.bgImgLoadStatus=2},o.onload=function(){t.bgImgLoadStatus=1},o.src=e}}}])&&s(e.prototype,o),n&&s(e,n),r}(i.Vue);Object(n.a)([Object(i.Prop)(Object)],d.prototype,"info",void 0),Object(n.a)([Object(i.Prop)()],d.prototype,"index",void 0),Object(n.a)([Object(i.Watch)("info")],d.prototype,"onInfo",null);var f=d=Object(n.a)([Object(i.Component)({})],d),v=(o(646),o(5)),h=Object(v.default)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.info?o("div",{staticClass:"relative-recommend-item-vertical"},[o("div",{staticClass:"cover-wrapper"},[t.info.pic?o("div",{staticClass:"cover",class:{default:2===t.bgImgLoadStatus},style:{backgroundImage:1===t.bgImgLoadStatus?"url("+t.info.pic+")":"none"}}):o("div",{staticClass:"cover default"})]),t._v(" "),o("div",{staticClass:"title",domProps:{textContent:t._s(t.info.title)}}),t._v(" "),o("div",{staticClass:"state"},[o("div",{staticClass:"star"}),t._v(" "),o("div",{staticClass:"score",domProps:{textContent:t._s(t.info.scoreTag)}}),t._v(" "),o("div",{staticClass:"viewcount",domProps:{textContent:t._s(t.info.viewCountTag)}})])]):t._e()}),[],!1,null,"0901ad80",null);e.a=h.exports},,,,,,function(t,e,o){"use strict";var n=o(3),i=o(4),r=o(17),a=o(602),s=o(29),c=o(591),l=function(){for(var t=[{sId:2147,dom:".knowledge-relative .desc"},{sId:2148,dom:".knowledge-wrap"},{sId:2149,dom:".hx-warp .knowledge"},{sId:2150,dom:".knowledge-bottom .item"}],e=function(e){Object(i.$)("body").on("click",t[e].dom,(function(){n.log.xsend(102595,{index:t[e].sId,des:"click"})}))},o=0;o<t.length;o++)e(o)},u=o(7),p=o(447),d=function(t,e){return n.log.xsend(102345,{index:0,des:"req",eid:e}),new Promise((function(o,n){var i=r.a.state.docInfo.title;u.wkAxios.get("/ndview/interface/hx/fc",{params:{query:i,essquery:t,eidStr:e,url:location.href}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},f=o(195),v=o(445),h=function(t){var e=t.zsyxContent,o=t.mainContent,r=Object(i.$)(".hx-bottom-wrapper"),a=window.wkCommonLogParam&&window.wkCommonLogParam.doc_title;if(e[2150])f.a.render({zsyxContent:e,zsyxPlaceId:2150,docTitle:a});else if(i.$.isArray(o)&&!o.code){var s="",c="",l={};o.forEach((function(t,e,o){1983===t.adPlace.ad_place_id&&(s=t.adPlace&&t.adPlace.ad_place_css,c=t.adPlace&&t.adPlace.ad_place_js,l.bottom1983=t.adPlace.ad_place_data)})),l.bottom1983&&(p.a.setStyle(s),r.append(l.bottom1983).show(),n.log.xsend(102345,{index:1983,des:"show"}),c="<script>".concat(c,"<\/script>"),Object(i.$)("body").append(c))}},b=o(590),g=function(t){var e=t.mainContent;if(i.$.isArray(e)&&!e.code){var o="",r="",a={};e.forEach((function(t,e,n){1984===t.adPlace.ad_place_id&&(o+=t.adPlace&&t.adPlace.ad_place_css,r+=t.adPlace&&t.adPlace.ad_place_js,a.right1984=t.adPlace.ad_place_data),1985===t.adPlace.ad_place_id&&(o+=t.adPlace&&t.adPlace.ad_place_css,r+=t.adPlace&&t.adPlace.ad_place_js,a.right1985=t.adPlace.ad_place_data)})),p.a.setStyle(o),a.right1984?(Object(i.$)(".hx-right-up").append(a.right1984).show(),n.log.xsend(102345,{index:1984,des:"show"})):a.right1985&&(Object(i.$)(".hx-right-bottom").append(a.right1985).show(),n.log.xsend(102345,{index:1985,des:"show"})),r="<script>".concat(r,"<\/script>"),Object(i.$)("body").append(r)}},m=o(187);function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var o=[],n=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var w=function(t,e,o){Promise.all([d(t,e),f.a.getData(t,e,o),v.a.getData()]).then((function(t){var e=y(t,3),o=e[0],n=e[1],r=e[2],a=(r=void 0===r?{}:r)[m.a.RELATIVEDOC.id];Object(i.$)(".relative-doc-ad-wrapper").length>0?b.a.render({zsyxContent:n,mainContent:o,dspContent:a}):window.AdDataRecomRight={zsyxContent:n,mainContent:o,dspContent:a},g({mainContent:o}),h({zsyxContent:n,mainContent:o})}))};function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var C=function(t,e){return n.log.xsend(102345,{index:573,des:"req",eid:e}),new Promise((function(o,n){var a=r.a.state.docInfo.title;u.wkAxios.get("/ndview/interface/hx/viewRecom",{params:{url:location.href,query:a,essQuery:t,eidStr:e}}).then((function(t){var e={};i.$.map(t,(function(t){1134==+t.srcId&&(e=t.adPlace)})),o(e)})).catch((function(t){o(t)}))}))},P=function(t){var e=t.pageRecom,o=t.eid;if(e&&e.ad_place_data){var r=e;if(n.log.xsend(102345,{index:573,des:"res-success",eid:o}),r&&r.ad_place_data&&"object"!==O(r.ad_place_data)){var a="<script>".concat(r.ad_place_js,"<\/script>"),s=r.ad_place_data,c='<style type="text/css">'.concat(r.ad_place_css,"</style>");Object(i.$)(".hx-recom-wrapper").html(s+a+c),Object(i.$)(".hx-recom-wrapper").show()}}else e&&e.code&&n.log.xsend(102345,{index:573,des:"res-fail",errcode:e.code})};function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var o=[],n=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return I(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var x=function(t,e,o){var n=r.a.state.docInfo.title;Promise.all([C(t,e),f.a.getData(t,e,o)]).then((function(t){var o=j(t,2),i=o[0],r=o[1];f.a.render({zsyxContent:r,zsyxPlaceId:2148,docTitle:n}),!r[2148]&&P({pageRecom:i,eid:e})}))};var S=function(t,e){return n.log.xsend(102345,{index:1077,des:"req",eid:e}),new Promise((function(o,n){var i=r.a.state.docInfo.title;u.wkAxios.get("/ndview/interface/hx/pageCenter",{params:{url:location.href,query:i,essQuery:t,eidStr:e}}).then((function(t){o(t)})).catch((function(t){o(t)}))}))},k=function(t){var e=t.pageCenter,o=t.eid,r=t.brandContent,a=t.zsyxData;if(e&&e.ads){var s=e;n.log.xsend(102345,{index:1077,des:"res-success"});var c=[];!function(t){for(var e=0;e<t.length;e++)if(t[e].style&&"idea2408"in t[e].style&&t[e].style.idea2408.images){t[e].style.idea2408.pic_url_items=t[e].style.idea2408.images;var o=t[e].style.idea2408.pic_url_items;if(o&&o.length)for(var n=0;n<o.length;n++)o[n].pic=o[n].image_url}}(s.ads),function t(e,o,n){o<=0||e.length<=0||(n.push(e.splice(0,1)),t(e,--o,n))}(s.ads,4,c);var l=4,u=0;r&&r.newImgLink&&(u=1,l-=1),a&&a.length>0&&(u+=a.length,l-=a.length),l>0&&c.length>0&&n.log.xsend(102345,{index:1077,des:"res-show",eid:o});for(var p=u;l>0;p++){l--;var d=c.shift();if(Object(i.$)("#pageNo-"+(p+2)).length&&d&&d.length>0){var f='<div class="hx-warp"><div id="wkad2'+(p+1)+'"></div><a class="ad-logo"></a></div>';Object(i.$)("#pageNo-"+(p+1)).after(f),window.Apex.plugin["parallax-scrolling-webku"]("#wkad2"+(p+1),{im_time_sign:s.im_time_sign,ads:d})}}}else e&&e.code&&n.log.xsend(102345,{index:1077,des:"res-fail",errcode:e.code})};var D=function(){return new Promise((function(t,e){var o=r.a.state.docInfo.title;u.wkAxios.get("/xpage/form/getform",{params:{id:"pinpaiguanggao"}}).then((function(e){e=function(t,e){var o=e&&e.form_data&&e.form_data.list;if(!t||!o)return!1;for(var n=!1,i=0;i<o.length;i++){var r=o[i].words;if(null!==(n=new RegExp(r).exec(t)))return o[i]}return n}(o,e),t(e)})).catch((function(e){t({})}))}))},T=function(t){if(t.newImgLink&&t.clickLink){var e='<div class="hx-warp"><div id="wkad21"><a class="brand-click" href="'+t.clickLink+'"><img class="brand-img" src="'+t.newImgLink+'"></a></div><a class="ad-logo"></a></div>';Object(i.$)("#pageNo-1").after(e),n.log.xsend(102516),Object(i.$)("#wkad21").on("click",".brand-click",(function(){n.log.xsend(102517)}))}};function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var o=[],n=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return V(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var R=function(t,e,o){Promise.all([D(),S(t,e),f.a.getData(t,e,o)]).then((function(t){var o=E(t,3),n=o[0],i=o[1],r=o[2];n&&T(n),r&&f.a.render({zsyxContent:r,zsyxPlaceId:2149,brandContent:n});var a=r&&r[2149]&&r[2149].adPlaceData;k({pageCenter:i,eid:e,brandContent:n,zsyxData:a})})).catch((function(t){console.log("===err:",t)}))};function A(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var L=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.docType=""}var e,o,u;return e=t,(o=[{key:"init",value:function(t){this.opts=t||{};var e=t.docInfo2019,o=t.hxXapgeDate,n=r.a.getters.isVip;if(this.docInfo2019=e,this.docType=e&&e.doc_info&&e.doc_info.doc_type,this.hxXapgeDate=o&&o.form_data,!(o&&a.a.getTestBaiDuID(100)>=+this.hxXapgeDate.newHxReqStr)){var u=!0;o&&a.a.getTestBaiDuID(100)>=+this.hxXapgeDate.zhishiReqStr&&(u=!1);var p=this.getEidStr(this.docType);this.visibleLog(),window.eventBus.on("removeAds",(function(){n?(Object(i.$)(".hx-warp").hide(),s.default.set("noAdCliked",1,{path:"/",expires:864e5})):window.eventBus.emit("initNoAdDialog")})),c.a.getEssQuery().then((function(t){l(),Object(i.$)("#reader-container").on("click",".ad-logo",(function(){window.eventBus.emit("removeAds")})),R(t,p,u),x(t,p,u),w(t,p,u)}))}}},{key:"visibleLog",value:function(){i.Util.Common.onElsVisible(".hx-bottom-wrapper",(function(){n.log.xsend(102345,{index:1983,des:"show"})})),i.Util.Common.onElsVisible(".hx-right-bottom",(function(){n.log.xsend(102345,{index:1985,des:"show"})})),i.Util.Common.onElsVisible(".hx-right-up",(function(){n.log.xsend(102345,{index:1984,des:"show"})}))}},{key:"getEidStr",value:function(t){var e=[];this.isVip&&e.push(40901),2==+t&&e.push(10001);var o=a.a.getTestBaiDuID(100);o>=0&&o<=9&&e.push(20001);var n=r.a.getters,i=n.wkSmallflow,s=n.testData11,c=+(null==i?void 0:i.wkWeb2024);1===c?e.push(92301):2===c&&e.push(92304);var l=+(null==s?void 0:s.wkWebEid);return l&&e.push(l),e.join(",")}}])&&A(e.prototype,o),u&&A(e,u),t}();e.a=new L},,,,,,,,function(t,e,o){"use strict";var n=o(465);o.n(n).a},function(t,e,o){"use strict";var n=o(466);o.n(n).a},,function(t,e,o){"use strict";var n=o(468);o.n(n).a},function(t,e,o){"use strict";var n=o(469);o.n(n).a},function(t,e,o){"use strict";var n=o(470);o.n(n).a},function(t,e,o){"use strict";var n=o(471);o.n(n).a},function(t,e,o){"use strict";var n=o(472);o.n(n).a},function(t,e,o){"use strict";var n=o(473);o.n(n).a},function(t,e,o){"use strict";var n=o(474);o.n(n).a},function(t,e,o){"use strict";var n=o(475);o.n(n).a},function(t,e,o){"use strict";var n=o(476);o.n(n).a},function(t,e,o){"use strict";var n=o(477);o.n(n).a},function(t,e,o){"use strict";var n=o(478);o.n(n).a},function(t,e,o){"use strict";var n=o(479);o.n(n).a},function(t,e,o){"use strict";var n=o(480);o.n(n).a},function(t,e,o){"use strict";var n=o(481);o.n(n).a},function(t,e,o){"use strict";var n=o(482);o.n(n).a},function(t,e,o){"use strict";var n=o(483);o.n(n).a},function(t,e,o){"use strict";var n=o(484);o.n(n).a},function(t,e,o){"use strict";var n=o(485);o.n(n).a},function(t,e,o){"use strict";var n=o(486);o.n(n).a},function(t,e,o){"use strict";var n=o(487);o.n(n).a},,,,,,,function(t,e,o){"use strict";var n=o(494);o.n(n).a},function(t,e,o){"use strict";var n=o(495);o.n(n).a},,,,function(t,e,o){"use strict";var n=o(499);o.n(n).a},function(t,e,o){"use strict";var n=o(500);o.n(n).a},function(t,e,o){"use strict";var n=o(501);o.n(n).a},,function(t,e,o){"use strict";var n=o(503);o.n(n).a},function(t,e,o){"use strict";var n=o(504);o.n(n).a},function(t,e,o){"use strict";var n=o(505);o.n(n).a},function(t,e,o){"use strict";var n=o(506);o.n(n).a},function(t,e,o){"use strict";var n=o(507);o.n(n).a},function(t,e,o){"use strict";var n=o(508);o.n(n).a},function(t,e,o){"use strict";var n=o(509);o.n(n).a},function(t,e,o){"use strict";var n=o(510);o.n(n).a},function(t,e,o){"use strict";var n=o(511);o.n(n).a},function(t,e,o){"use strict";var n=o(512);o.n(n).a},function(t,e,o){"use strict";var n=o(513);o.n(n).a},function(t,e,o){"use strict";var n=o(514);o.n(n).a},function(t,e,o){"use strict";var n=o(515);o.n(n).a},,function(t,e,o){"use strict";var n=o(517);o.n(n).a},function(t,e,o){"use strict";var n=o(518);o.n(n).a},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";var n=o(543);o.n(n).a},function(t,e,o){"use strict";var n=o(544);o.n(n).a},function(t,e,o){"use strict";var n=o(545);o.n(n).a},,,,,,,,,,,,,,function(t,e,o){"use strict";var n=o(559);o.n(n).a},function(t,e,o){"use strict";var n=o(560);o.n(n).a},function(t,e,o){"use strict";var n=o(561);o.n(n).a},function(t,e,o){"use strict";var n=o(562);o.n(n).a},function(t,e,o){"use strict";var n=o(563);o.n(n).a},function(t,e,o){"use strict";var n=o(564);o.n(n).a},function(t,e,o){"use strict";var n=o(565);o.n(n).a},function(t,e,o){"use strict";var n=o(566);o.n(n).a},function(t,e,o){"use strict";var n=o(567);o.n(n).a},function(t,e,o){"use strict";var n=o(568);o.n(n).a},function(t,e,o){"use strict";var n=o(569);o.n(n).a},function(t,e,o){"use strict";var n=o(570);o.n(n).a},function(t,e,o){"use strict";var n=o(571);o.n(n).a},function(t,e,o){"use strict";var n=o(572);o.n(n).a},function(t,e,o){"use strict";var n=o(573);o.n(n).a},function(t,e,o){"use strict";var n=o(574);o.n(n).a},function(t,e,o){"use strict";var n=o(575);o.n(n).a},function(t,e,o){"use strict";var n=o(576);o.n(n).a},function(t,e,o){"use strict";var n=o(577);o.n(n).a},function(t,e,o){"use strict";var n=o(578);o.n(n).a},,function(t,e,o){"use strict";var n=o(580);o.n(n).a},function(t,e,o){"use strict";var n=o(581);o.n(n).a},,function(t,e,o){"use strict";var n=o(583);o.n(n).a},function(t,e,o){"use strict";var n=o(584);o.n(n).a},function(t,e,o){"use strict";var n=o(585);o.n(n).a},function(t,e,o){"use strict";var n=o(586);o.n(n).a}])]);